{"version":3,"file":"core-main.js?v=f4266f8e7fbfd9b7db53","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACnIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC3UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACjeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC91CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACtLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC3RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACvWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACvIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACxGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACvLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACvHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACtMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC/QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC9JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACxXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC7JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC7SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACnIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AClLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AC1KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACzMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACnSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACZA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7BA;AACA;AACA;;;;;ACFA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACNA;AACA;AACA;AACA;AACA;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AElDA;AACA;AACA;AACA;AACA","sources":["webpack:///nextcloud/core/src/OC/admin.js","webpack:///nextcloud/core/src/OC/appconfig.js","webpack:///nextcloud/core/src/OC/apps.js","webpack:///nextcloud/core/src/OC/appsettings.js","webpack:///nextcloud/core/src/OC/appswebroots.js","webpack:///nextcloud/core/src/OC/backbone-webdav.js","webpack:///nextcloud/core/src/OC/backbone.js","webpack:///nextcloud/core/src/OC/capabilities.js","webpack:///nextcloud/core/src/OC/config.js","webpack:///nextcloud/core/src/OC/constants.js","webpack:///nextcloud/core/src/OC/contactsmenu.js","webpack:///nextcloud/core/src/OC/currentuser.js","webpack:///nextcloud/core/src/OC/debug.js","webpack:///nextcloud/core/src/OC/dialogs.js","webpack:///nextcloud/core/src/OC/eventsource.js","webpack:///nextcloud/core/src/OC/get_set.js","webpack:///nextcloud/core/src/OC/host.js","webpack:///nextcloud/core/src/OC/index.js","webpack:///nextcloud/core/src/OC/l10n-registry.js","webpack:///nextcloud/core/src/OC/l10n.js","webpack:///nextcloud/core/src/OC/legacy-loader.js","webpack:///nextcloud/core/src/OC/menu.js","webpack:///nextcloud/core/src/OC/msg.js","webpack:///nextcloud/core/src/OC/navigation.js","webpack:///nextcloud/core/src/OC/notification.js","webpack:///nextcloud/core/src/OC/password-confirmation.js","webpack:///nextcloud/core/src/OC/plugins.js","webpack:///nextcloud/core/src/OC/query-string.js","webpack:///nextcloud/core/src/OC/requesttoken.js","webpack:///nextcloud/core/src/OC/routing.js","webpack:///nextcloud/core/src/OC/theme.js","webpack:///nextcloud/core/src/OC/util-history.js","webpack:///nextcloud/core/src/OC/util.js","webpack:///nextcloud/core/src/OC/webroot.js","webpack:///nextcloud/core/src/OC/xhr-error.js","webpack:///nextcloud/core/src/OCA/index.js","webpack:///nextcloud/core/src/OCA/search.js","webpack:///nextcloud/core/src/OCP/appconfig.js","webpack:///nextcloud/core/src/OCP/collaboration.js","webpack:///nextcloud/core/src/OCP/comments.js","webpack:///nextcloud/core/src/OCP/index.js","webpack:///nextcloud/core/src/OCP/loader.js","webpack:///nextcloud/core/src/OCP/toast.js","webpack:///nextcloud/core/src/OCP/whatsnew.js","webpack:///nextcloud/core/src/Polyfill/closest.js","webpack:///nextcloud/core/src/Polyfill/console.js","webpack:///nextcloud/core/src/Polyfill/index.js","webpack:///nextcloud/core/src/Polyfill/tooltip.js","webpack:///nextcloud/core/src/Polyfill/windows-phone.js","webpack:///nextcloud/core/src/components/ContactsMenu.js","webpack:///nextcloud/core/src/components/MainMenu.js","webpack:///nextcloud/core/src/components/UserMenu.js","webpack:///nextcloud/core/src/globals.js","webpack:///nextcloud/core/src/init.js","webpack:///nextcloud/core/src/jquery/avatar.js","webpack:///nextcloud/core/src/jquery/contactsmenu.js","webpack:///nextcloud/core/src/jquery/exists.js","webpack:///nextcloud/core/src/jquery/filterattr.js","webpack:///nextcloud/core/src/jquery/index.js","webpack:///nextcloud/core/src/jquery/ocdialog.js","webpack:///nextcloud/core/src/jquery/octemplate.js","webpack:///nextcloud/core/src/jquery/placeholder.js","webpack:///nextcloud/core/src/jquery/requesttoken.js","webpack:///nextcloud/core/src/jquery/selectrange.js","webpack:///nextcloud/core/src/jquery/showpassword.js","webpack:///nextcloud/core/src/jquery/ui-fixes.js","webpack:///nextcloud/core/src/main.js","webpack:///nextcloud/core/src/session-heartbeat.js","webpack:///nextcloud/core/src/jquery/css/jquery-ui-fixes.scss","webpack:///nextcloud/core/src/jquery/css/jquery.ocdialog.scss","webpack:///nextcloud/core/src/OC/contactsmenu/contact.handlebars","webpack:///nextcloud/core/src/OC/contactsmenu/error.handlebars","webpack:///nextcloud/core/src/OC/contactsmenu/list.handlebars","webpack:///nextcloud/core/src/OC/contactsmenu/loading.handlebars","webpack:///nextcloud/core/src/OC/contactsmenu/menu.handlebars","webpack:///nextcloud/core/src/jquery/contactsmenu/jquery_entry.handlebars","webpack:///nextcloud/node_modules/moment/locale|sync|/^\\.\\/.*$","webpack://nextcloud/./core/src/jquery/css/jquery-ui-fixes.scss?a4c2","webpack://nextcloud/./core/src/jquery/css/jquery.ocdialog.scss?5718","webpack:///nextcloud/core/src/jquery/css/images/ui-bg_diagonals-thick_20_666666_40x40.png","webpack:///nextcloud/core/src/jquery/css/images/ui-bg_flat_10_000000_40x100.png","webpack:///nextcloud/core/src/jquery/css/images/ui-icons_1d2d44_256x240.png","webpack:///nextcloud/core/src/jquery/css/images/ui-icons_ffd27a_256x240.png","webpack:///nextcloud/core/src/jquery/css/images/ui-icons_ffffff_256x240.png","webpack:///nextcloud/webpack/bootstrap","webpack:///nextcloud/webpack/runtime/amd define","webpack:///nextcloud/webpack/runtime/amd options","webpack:///nextcloud/webpack/runtime/chunk loaded","webpack:///nextcloud/webpack/runtime/compat get default export","webpack:///nextcloud/webpack/runtime/define property getters","webpack:///nextcloud/webpack/runtime/global","webpack:///nextcloud/webpack/runtime/hasOwnProperty shorthand","webpack:///nextcloud/webpack/runtime/make namespace object","webpack:///nextcloud/webpack/runtime/node module decorator","webpack:///nextcloud/webpack/runtime/jsonp chunk loading","webpack:///nextcloud/webpack/before-startup","webpack:///nextcloud/webpack/startup","webpack:///nextcloud/webpack/after-startup"],"sourcesContent":["/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst isAdmin = !!window._oc_isadmin;\n/**\n * Returns whether the current user is an administrator\n *\n * @return {bool} true if the user is an admin, false otherwise\n * @since 9.0.0\n */\n\nexport const isUserAdmin = () => isAdmin;","/**\n * @copyright Copyright (c) 2016 Joas Schilling <coding@schilljs.com>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author Joas Schilling <coding@schilljs.com>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Jrn Friedrich Dreyer <jfd@butonic.de>\n * @author Robin Appelman <robin@icewind.nl>\n * @author Vincent Petry <vincent@nextcloud.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/* eslint-disable */\nimport { getValue, setValue, getApps, getKeys, deleteKey } from '../OCP/appconfig';\nexport const appConfig = window.oc_appconfig || {};\n/**\n * @namespace\n * @deprecated 16.0.0 Use OCP.AppConfig instead\n */\n\nexport const AppConfig = {\n  /**\n   * @deprecated Use OCP.AppConfig.getValue() instead\n   */\n  getValue: function (app, key, defaultValue, callback) {\n    getValue(app, key, defaultValue, {\n      success: callback\n    });\n  },\n\n  /**\n   * @deprecated Use OCP.AppConfig.setValue() instead\n   */\n  setValue: function (app, key, value) {\n    setValue(app, key, value);\n  },\n\n  /**\n   * @deprecated Use OCP.AppConfig.getApps() instead\n   */\n  getApps: function (callback) {\n    getApps({\n      success: callback\n    });\n  },\n\n  /**\n   * @deprecated Use OCP.AppConfig.getKeys() instead\n   */\n  getKeys: function (app, callback) {\n    getKeys(app, {\n      success: callback\n    });\n  },\n\n  /**\n   * @deprecated Use OCP.AppConfig.deleteKey() instead\n   */\n  deleteKey: function (app, key) {\n    deleteKey(app, key);\n  }\n};","/**\n * @copyright Bernhard Posselt 2014\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\nlet dynamicSlideToggleEnabled = false;\nconst Apps = {\n  enableDynamicSlideToggle() {\n    dynamicSlideToggleEnabled = true;\n  }\n\n};\n/**\n * Shows the #app-sidebar and add .with-app-sidebar to subsequent siblings\n *\n * @param {object} [$el] sidebar element to show, defaults to $('#app-sidebar')\n */\n\nApps.showAppSidebar = function ($el) {\n  const $appSidebar = $el || $('#app-sidebar');\n  $appSidebar.removeClass('disappear').show();\n  $('#app-content').trigger(new $.Event('appresized'));\n};\n/**\n * Shows the #app-sidebar and removes .with-app-sidebar from subsequent\n * siblings\n *\n * @param {object} [$el] sidebar element to hide, defaults to $('#app-sidebar')\n */\n\n\nApps.hideAppSidebar = function ($el) {\n  const $appSidebar = $el || $('#app-sidebar');\n  $appSidebar.hide().addClass('disappear');\n  $('#app-content').trigger(new $.Event('appresized'));\n};\n/**\n * Provides a way to slide down a target area through a button and slide it\n * up if the user clicks somewhere else. Used for the news app settings and\n * add new field.\n *\n * Usage:\n * <button data-apps-slide-toggle=\".slide-area\">slide</button>\n * <div class=\".slide-area\" class=\"hidden\">I'm sliding up</div>\n */\n\n\nexport const registerAppsSlideToggle = () => {\n  let buttons = $('[data-apps-slide-toggle]');\n\n  if (buttons.length === 0) {\n    $('#app-navigation').addClass('without-app-settings');\n  }\n\n  $(document).click(function (event) {\n    if (dynamicSlideToggleEnabled) {\n      buttons = $('[data-apps-slide-toggle]');\n    }\n\n    buttons.each(function (index, button) {\n      const areaSelector = $(button).data('apps-slide-toggle');\n      const area = $(areaSelector);\n      /**\n       *\n       */\n\n      function hideArea() {\n        area.slideUp(OC.menuSpeed * 4, function () {\n          area.trigger(new $.Event('hide'));\n        });\n        area.removeClass('opened');\n        $(button).removeClass('opened');\n      }\n      /**\n       *\n       */\n\n\n      function showArea() {\n        area.slideDown(OC.menuSpeed * 4, function () {\n          area.trigger(new $.Event('show'));\n        });\n        area.addClass('opened');\n        $(button).addClass('opened');\n        const input = $(areaSelector + ' [autofocus]');\n\n        if (input.length === 1) {\n          input.focus();\n        }\n      } // do nothing if the area is animated\n\n\n      if (!area.is(':animated')) {\n        // button toggles the area\n        if ($(button).is($(event.target).closest('[data-apps-slide-toggle]'))) {\n          if (area.is(':visible')) {\n            hideArea();\n          } else {\n            showArea();\n          } // all other areas that have not been clicked but are open\n          // should be slid up\n\n        } else {\n          const closest = $(event.target).closest(areaSelector);\n\n          if (area.is(':visible') && closest[0] !== area[0]) {\n            hideArea();\n          }\n        }\n      }\n    });\n  });\n};\nexport default Apps;","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/* eslint-disable */\nimport $ from 'jquery';\nimport { filePath } from './routing';\nimport { generateFilePath } from \"@nextcloud/router\";\n/**\n * Opens a popup with the setting for an app.\n * @param {string} appid The ID of the app e.g. 'calendar', 'contacts' or 'files'.\n * @param {boolean|string}loadJS If true 'js/settings.js' is loaded. If it's a string\n * it will attempt to load a script by that name in the 'js' directory.\n * @param {boolean} [cache] If true the javascript file won't be forced refreshed. Defaults to true.\n * @param {string} [scriptName] The name of the PHP file to load. Defaults to 'settings.php' in\n * the root of the app directory hierarchy.\n *\n * @deprecated 17.0.0 this method is unused and will be removed with Nextcloud 18\n */\n\nexport const appSettings = args => {\n  console.warn('OC.appSettings is deprecated and will be removed with Nextcloud 18');\n\n  if (typeof args === 'undefined' || typeof args.appid === 'undefined') {\n    throw {\n      name: 'MissingParameter',\n      message: 'The parameter appid is missing'\n    };\n  }\n\n  var props = {\n    scriptName: 'settings.php',\n    cache: true\n  };\n  $.extend(props, args);\n  var settings = $('#appsettings');\n\n  if (settings.length === 0) {\n    throw {\n      name: 'MissingDOMElement',\n      message: 'There has be be an element with id \"appsettings\" for the popup to show.'\n    };\n  }\n\n  var popup = $('#appsettings_popup');\n\n  if (popup.length === 0) {\n    $('body').prepend('<div class=\"popup hidden\" id=\"appsettings_popup\"></div>');\n    popup = $('#appsettings_popup');\n    popup.addClass(settings.hasClass('topright') ? 'topright' : 'bottomleft');\n  }\n\n  if (popup.is(':visible')) {\n    popup.hide().remove();\n  } else {\n    const arrowclass = settings.hasClass('topright') ? 'up' : 'left';\n    $.get(generateFilePath(props.appid, '', props.scriptName), function (data) {\n      popup.html(data).ready(function () {\n        popup.prepend('<span class=\"arrow ' + arrowclass + '\"></span><h2>' + t('core', 'Settings') + '</h2><a class=\"close\"></a>').show();\n        popup.find('.close').bind('click', function () {\n          popup.remove();\n        });\n\n        if (typeof props.loadJS !== 'undefined') {\n          var scriptname;\n\n          if (props.loadJS === true) {\n            scriptname = 'settings.js';\n          } else if (typeof props.loadJS === 'string') {\n            scriptname = props.loadJS;\n          } else {\n            throw {\n              name: 'InvalidParameter',\n              message: 'The \"loadJS\" parameter must be either boolean or a string.'\n            };\n          }\n\n          if (props.cache) {\n            $.ajaxSetup({\n              cache: true\n            });\n          }\n\n          $.getScript(generateFilePath(props.appid, 'js', scriptname)).fail(function (jqxhr, settings, e) {\n            throw e;\n          });\n        }\n      }).show();\n    }, 'html');\n  }\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst appswebroots = window._oc_appswebroots !== undefined ? window._oc_appswebroots : false;\nexport default appswebroots;","/**\n * Copyright (c) 2015\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Julius Hrtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/* eslint-disable */\nimport _ from 'underscore';\nimport { dav } from 'davclient.js';\nconst methodMap = {\n  create: 'POST',\n  update: 'PROPPATCH',\n  patch: 'PROPPATCH',\n  delete: 'DELETE',\n  read: 'PROPFIND'\n}; // Throw an error when a URL is needed, and none is supplied.\n\nfunction urlError() {\n  throw new Error('A \"url\" property or function must be specified');\n}\n/**\n * Convert a single propfind result to JSON\n *\n * @param {Object} result\n * @param {Object} davProperties properties mapping\n */\n\n\nfunction parsePropFindResult(result, davProperties) {\n  if (_.isArray(result)) {\n    return _.map(result, function (subResult) {\n      return parsePropFindResult(subResult, davProperties);\n    });\n  }\n\n  var props = {\n    href: result.href\n  };\n\n  _.each(result.propStat, function (propStat) {\n    if (propStat.status !== 'HTTP/1.1 200 OK') {\n      return;\n    }\n\n    for (var key in propStat.properties) {\n      var propKey = key;\n\n      if (key in davProperties) {\n        propKey = davProperties[key];\n      }\n\n      props[propKey] = propStat.properties[key];\n    }\n  });\n\n  if (!props.id) {\n    // parse id from href\n    props.id = parseIdFromLocation(props.href);\n  }\n\n  return props;\n}\n/**\n * Parse ID from location\n *\n * @param {string} url url\n * @returns {string} id\n */\n\n\nfunction parseIdFromLocation(url) {\n  var queryPos = url.indexOf('?');\n\n  if (queryPos > 0) {\n    url = url.substr(0, queryPos);\n  }\n\n  var parts = url.split('/');\n  var result;\n\n  do {\n    result = parts[parts.length - 1];\n    parts.pop(); // note: first result can be empty when there is a trailing slash,\n    // so we take the part before that\n  } while (!result && parts.length > 0);\n\n  return result;\n}\n\nfunction isSuccessStatus(status) {\n  return status >= 200 && status <= 299;\n}\n\nfunction convertModelAttributesToDavProperties(attrs, davProperties) {\n  var props = {};\n  var key;\n\n  for (key in attrs) {\n    var changedProp = davProperties[key];\n    var value = attrs[key];\n\n    if (!changedProp) {\n      console.warn('No matching DAV property for property \"' + key);\n      changedProp = key;\n    }\n\n    if (_.isBoolean(value) || _.isNumber(value)) {\n      // convert to string\n      value = '' + value;\n    }\n\n    props[changedProp] = value;\n  }\n\n  return props;\n}\n\nfunction callPropFind(client, options, model, headers) {\n  return client.propFind(options.url, _.values(options.davProperties) || [], options.depth, headers).then(function (response) {\n    if (isSuccessStatus(response.status)) {\n      if (_.isFunction(options.success)) {\n        var propsMapping = _.invert(options.davProperties);\n\n        var results = parsePropFindResult(response.body, propsMapping);\n\n        if (options.depth > 0) {\n          // discard root entry\n          results.shift();\n        }\n\n        options.success(results);\n      }\n    } else if (_.isFunction(options.error)) {\n      options.error(response);\n    }\n  });\n}\n\nfunction callPropPatch(client, options, model, headers) {\n  return client.propPatch(options.url, convertModelAttributesToDavProperties(model.changed, options.davProperties), headers).then(function (result) {\n    if (isSuccessStatus(result.status)) {\n      if (_.isFunction(options.success)) {\n        // pass the object's own values because the server\n        // does not return the updated model\n        options.success(model.toJSON());\n      }\n    } else if (_.isFunction(options.error)) {\n      options.error(result);\n    }\n  });\n}\n\nfunction callMkCol(client, options, model, headers) {\n  // call MKCOL without data, followed by PROPPATCH\n  return client.request(options.type, options.url, headers, null).then(function (result) {\n    if (!isSuccessStatus(result.status)) {\n      if (_.isFunction(options.error)) {\n        options.error(result);\n      }\n\n      return;\n    }\n\n    callPropPatch(client, options, model, headers);\n  });\n}\n\nfunction callMethod(client, options, model, headers) {\n  headers['Content-Type'] = 'application/json';\n  return client.request(options.type, options.url, headers, options.data).then(function (result) {\n    if (!isSuccessStatus(result.status)) {\n      if (_.isFunction(options.error)) {\n        options.error(result);\n      }\n\n      return;\n    }\n\n    if (_.isFunction(options.success)) {\n      if (options.type === 'PUT' || options.type === 'POST' || options.type === 'MKCOL') {\n        // pass the object's own values because the server\n        // does not return anything\n        var responseJson = result.body || model.toJSON();\n        var locationHeader = result.xhr.getResponseHeader('Content-Location');\n\n        if (options.type === 'POST' && locationHeader) {\n          responseJson.id = parseIdFromLocation(locationHeader);\n        }\n\n        options.success(responseJson);\n        return;\n      } // if multi-status, parse\n\n\n      if (result.status === 207) {\n        var propsMapping = _.invert(options.davProperties);\n\n        options.success(parsePropFindResult(result.body, propsMapping));\n      } else {\n        options.success(result.body);\n      }\n    }\n  });\n}\n\nexport const davCall = (options, model) => {\n  var client = new dav.Client({\n    baseUrl: options.url,\n    xmlNamespaces: _.extend({\n      'DAV:': 'd',\n      'http://owncloud.org/ns': 'oc'\n    }, options.xmlNamespaces || {})\n  });\n\n  client.resolveUrl = function () {\n    return options.url;\n  };\n\n  var headers = _.extend({\n    'X-Requested-With': 'XMLHttpRequest',\n    'requesttoken': OC.requestToken\n  }, options.headers);\n\n  if (options.type === 'PROPFIND') {\n    return callPropFind(client, options, model, headers);\n  } else if (options.type === 'PROPPATCH') {\n    return callPropPatch(client, options, model, headers);\n  } else if (options.type === 'MKCOL') {\n    return callMkCol(client, options, model, headers);\n  } else {\n    return callMethod(client, options, model, headers);\n  }\n};\n/**\n * DAV transport\n */\n\nexport const davSync = Backbone => (method, model, options) => {\n  var params = {\n    type: methodMap[method] || method\n  };\n  var isCollection = model instanceof Backbone.Collection;\n\n  if (method === 'update') {\n    // if a model has an inner collection, it must define an\n    // attribute \"hasInnerCollection\" that evaluates to true\n    if (model.hasInnerCollection) {\n      // if the model itself is a Webdav collection, use MKCOL\n      params.type = 'MKCOL';\n    } else if (model.usePUT || model.collection && model.collection.usePUT) {\n      // use PUT instead of PROPPATCH\n      params.type = 'PUT';\n    }\n  } // Ensure that we have a URL.\n\n\n  if (!options.url) {\n    params.url = _.result(model, 'url') || urlError();\n  } // Ensure that we have the appropriate request data.\n\n\n  if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n    params.data = JSON.stringify(options.attrs || model.toJSON(options));\n  } // Don't process data on a non-GET request.\n\n\n  if (params.type !== 'PROPFIND') {\n    params.processData = false;\n  }\n\n  if (params.type === 'PROPFIND' || params.type === 'PROPPATCH') {\n    var davProperties = model.davProperties;\n\n    if (!davProperties && model.model) {\n      // use dav properties from model in case of collection\n      davProperties = model.model.prototype.davProperties;\n    }\n\n    if (davProperties) {\n      if (_.isFunction(davProperties)) {\n        params.davProperties = davProperties.call(model);\n      } else {\n        params.davProperties = davProperties;\n      }\n    }\n\n    params.davProperties = _.extend(params.davProperties || {}, options.davProperties);\n\n    if (_.isUndefined(options.depth)) {\n      if (isCollection) {\n        options.depth = 1;\n      } else {\n        options.depth = 0;\n      }\n    }\n  } // Pass along `textStatus` and `errorThrown` from jQuery.\n\n\n  var error = options.error;\n\n  options.error = function (xhr, textStatus, errorThrown) {\n    options.textStatus = textStatus;\n    options.errorThrown = errorThrown;\n\n    if (error) {\n      error.call(options.context, xhr, textStatus, errorThrown);\n    }\n  }; // Make the request, allowing the user to override any Ajax options.\n\n\n  var xhr = options.xhr = Backbone.davCall(_.extend(params, options), model);\n  model.trigger('request', model, xhr, options);\n  return xhr;\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport VendorBackbone from 'backbone';\nimport { davCall, davSync } from './backbone-webdav';\nconst Backbone = VendorBackbone.noConflict(); // Patch Backbone for DAV\n\nObject.assign(Backbone, {\n  davCall,\n  davSync: davSync(Backbone)\n});\nexport default Backbone;","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport { getCapabilities as realGetCapabilities } from '@nextcloud/capabilities';\n/**\n * Returns the capabilities\n *\n * @return {Array} capabilities\n *\n * @since 14.0\n */\n\nexport const getCapabilities = () => {\n  console.warn('OC.getCapabilities is deprecated and will be removed in Nextcloud 21. See @nextcloud/capabilities');\n  return realGetCapabilities();\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst config = window._oc_config || {};\nexport default config;","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nexport const coreApps = ['', 'admin', 'log', 'core/search', 'core', '3rdparty'];\nexport const menuSpeed = 50;\nexport const PERMISSION_NONE = 0;\nexport const PERMISSION_CREATE = 4;\nexport const PERMISSION_READ = 1;\nexport const PERMISSION_UPDATE = 2;\nexport const PERMISSION_DELETE = 8;\nexport const PERMISSION_SHARE = 16;\nexport const PERMISSION_ALL = 31;\nexport const TAG_FAVORITE = '_$!<Favorite>!$_';","/**\n * @copyright 2017 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/* eslint-disable */\nimport $ from 'jquery';\nimport { Collection, Model, View } from 'backbone';\nimport OC from './index';\n/**\n * @class Contact\n */\n\nconst Contact = Model.extend({\n  defaults: {\n    fullName: '',\n    lastMessage: '',\n    actions: [],\n    hasOneAction: false,\n    hasTwoActions: false,\n    hasManyActions: false\n  },\n\n  /**\n   * @returns {undefined}\n   */\n  initialize: function () {\n    // Add needed property for easier template rendering\n    if (this.get('actions').length === 0) {\n      this.set('hasOneAction', true);\n    } else if (this.get('actions').length === 1) {\n      this.set('hasTwoActions', true);\n      this.set('secondAction', this.get('actions')[0]);\n    } else {\n      this.set('hasManyActions', true);\n    }\n  }\n});\n/**\n * @class ContactCollection\n * @private\n */\n\nconst ContactCollection = Collection.extend({\n  model: Contact\n});\n/**\n * @class ContactsListView\n * @private\n */\n\nconst ContactsListView = View.extend({\n  /** @type {ContactCollection} */\n  _collection: undefined,\n\n  /** @type {array} */\n  _subViews: [],\n\n  /**\n   * @param {object} options\n   * @returns {undefined}\n   */\n  initialize: function (options) {\n    this._collection = options.collection;\n  },\n\n  /**\n   * @returns {self}\n   */\n  render: function () {\n    var self = this;\n    self.$el.html('');\n    self._subViews = [];\n\n    self._collection.forEach(function (contact) {\n      var item = new ContactsListItemView({\n        model: contact\n      });\n      item.render();\n      self.$el.append(item.$el);\n      item.on('toggle:actionmenu', self._onChildActionMenuToggle, self);\n\n      self._subViews.push(item);\n    });\n\n    return self;\n  },\n\n  /**\n   * Event callback to propagate opening (another) entry's action menu\n   *\n   * @param {type} $src\n   * @returns {undefined}\n   */\n  _onChildActionMenuToggle: function ($src) {\n    this._subViews.forEach(function (view) {\n      view.trigger('parent:toggle:actionmenu', $src);\n    });\n  }\n});\n/**\n * @class ContactsListItemView\n * @private\n */\n\nconst ContactsListItemView = View.extend({\n  /** @type {string} */\n  className: 'contact',\n\n  /** @type {undefined|function} */\n  _template: undefined,\n\n  /** @type {Contact} */\n  _model: undefined,\n\n  /** @type {boolean} */\n  _actionMenuShown: false,\n  events: {\n    'click .icon-more': '_onToggleActionsMenu'\n  },\n  contactTemplate: require('./contactsmenu/contact.handlebars'),\n\n  /**\n   * @param {object} data\n   * @returns {undefined}\n   */\n  template: function (data) {\n    return this.contactTemplate(data);\n  },\n\n  /**\n   * @param {object} options\n   * @returns {undefined}\n   */\n  initialize: function (options) {\n    this._model = options.model;\n    this.on('parent:toggle:actionmenu', this._onOtherActionMenuOpened, this);\n  },\n\n  /**\n   * @returns {self}\n   */\n  render: function () {\n    this.$el.html(this.template({\n      contact: this._model.toJSON()\n    }));\n    this.delegateEvents(); // Show placeholder if no avatar is available (avatar is rendered as img, not div)\n\n    this.$('div.avatar').imageplaceholder(this._model.get('fullName')); // Show tooltip for top action\n\n    this.$('.top-action').tooltip({\n      placement: 'left'\n    }); // Show tooltip for second action\n\n    this.$('.second-action').tooltip({\n      placement: 'left'\n    });\n    return this;\n  },\n\n  /**\n   * Toggle the visibility of the action popover menu\n   *\n   * @private\n   * @returns {undefined}\n   */\n  _onToggleActionsMenu: function () {\n    this._actionMenuShown = !this._actionMenuShown;\n\n    if (this._actionMenuShown) {\n      this.$('.menu').show();\n    } else {\n      this.$('.menu').hide();\n    }\n\n    this.trigger('toggle:actionmenu', this.$el);\n  },\n\n  /**\n   * @private\n   * @argument {jQuery} $src\n   * @returns {undefined}\n   */\n  _onOtherActionMenuOpened: function ($src) {\n    if (this.$el.is($src)) {\n      // Ignore\n      return;\n    }\n\n    this._actionMenuShown = false;\n    this.$('.menu').hide();\n  }\n});\n/**\n * @class ContactsMenuView\n * @private\n */\n\nconst ContactsMenuView = View.extend({\n  /** @type {undefined|function} */\n  _loadingTemplate: undefined,\n\n  /** @type {undefined|function} */\n  _errorTemplate: undefined,\n\n  /** @type {undefined|function} */\n  _contentTemplate: undefined,\n\n  /** @type {undefined|function} */\n  _contactsTemplate: undefined,\n\n  /** @type {undefined|ContactCollection} */\n  _contacts: undefined,\n\n  /** @type {string} */\n  _searchTerm: '',\n  events: {\n    'input #contactsmenu-search': '_onSearch'\n  },\n  templates: {\n    loading: require('./contactsmenu/loading.handlebars'),\n    error: require('./contactsmenu/error.handlebars'),\n    menu: require('./contactsmenu/menu.handlebars'),\n    list: require('./contactsmenu/list.handlebars')\n  },\n\n  /**\n   * @returns {undefined}\n   */\n  _onSearch: _.debounce(function (e) {\n    var searchTerm = this.$('#contactsmenu-search').val(); // IE11 triggers an 'input' event after the view has been rendered\n    // resulting in an endless loading loop. To prevent this, we remember\n    // the last search term to savely ignore some events\n    // See https://github.com/nextcloud/server/issues/5281\n\n    if (searchTerm !== this._searchTerm) {\n      this.trigger('search', this.$('#contactsmenu-search').val());\n      this._searchTerm = searchTerm;\n    }\n  }, 700),\n\n  /**\n   * @param {object} data\n   * @returns {string}\n   */\n  loadingTemplate: function (data) {\n    return this.templates.loading(data);\n  },\n\n  /**\n   * @param {object} data\n   * @returns {string}\n   */\n  errorTemplate: function (data) {\n    return this.templates.error(_.extend({\n      couldNotLoadText: t('core', 'Could not load your contacts')\n    }, data));\n  },\n\n  /**\n   * @param {object} data\n   * @returns {string}\n   */\n  contentTemplate: function (data) {\n    return this.templates.menu(_.extend({\n      searchContactsText: t('core', 'Search contacts ')\n    }, data));\n  },\n\n  /**\n   * @param {object} data\n   * @returns {string}\n   */\n  contactsTemplate: function (data) {\n    return this.templates.list(_.extend({\n      noContactsFoundText: t('core', 'No contacts found'),\n      showAllContactsText: t('core', 'Show all contacts '),\n      contactsAppMgmtText: t('core', 'Install the Contacts app')\n    }, data));\n  },\n\n  /**\n   * @param {object} options\n   * @returns {undefined}\n   */\n  initialize: function (options) {\n    this.options = options;\n  },\n\n  /**\n   * @param {string} text\n   * @returns {undefined}\n   */\n  showLoading: function (text) {\n    this.render();\n    this._contacts = undefined;\n    this.$('.content').html(this.loadingTemplate({\n      loadingText: text\n    }));\n  },\n\n  /**\n   * @returns {undefined}\n   */\n  showError: function () {\n    this.render();\n    this._contacts = undefined;\n    this.$('.content').html(this.errorTemplate());\n  },\n\n  /**\n   * @param {object} viewData\n   * @param {string} searchTerm\n   * @returns {undefined}\n   */\n  showContacts: function (viewData, searchTerm) {\n    this._contacts = viewData.contacts;\n    this.render({\n      contacts: viewData.contacts\n    });\n    var list = new ContactsListView({\n      collection: viewData.contacts\n    });\n    list.render();\n    this.$('.content').html(this.contactsTemplate({\n      contacts: viewData.contacts,\n      searchTerm: searchTerm,\n      contactsAppEnabled: viewData.contactsAppEnabled,\n      contactsAppURL: OC.generateUrl('/apps/contacts'),\n      canInstallApp: OC.isUserAdmin(),\n      contactsAppMgmtURL: OC.generateUrl('/settings/apps/social/contacts')\n    }));\n    this.$('#contactsmenu-contacts').html(list.$el);\n  },\n\n  /**\n   * @param {object} data\n   * @returns {self}\n   */\n  render: function (data) {\n    var searchVal = this.$('#contactsmenu-search').val();\n    this.$el.html(this.contentTemplate(data)); // Focus search\n\n    this.$('#contactsmenu-search').val(searchVal);\n    this.$('#contactsmenu-search').focus();\n    return this;\n  }\n});\n/**\n * @param {Object} options\n * @param {jQuery} options.el\n * @param {jQuery} options.trigger\n * @class ContactsMenu\n * @memberOf OC\n */\n\nconst ContactsMenu = function (options) {\n  this.initialize(options);\n};\n\nContactsMenu.prototype = {\n  /** @type {jQuery} */\n  $el: undefined,\n\n  /** @type {jQuery} */\n  _$trigger: undefined,\n\n  /** @type {ContactsMenuView} */\n  _view: undefined,\n\n  /** @type {Promise} */\n  _contactsPromise: undefined,\n\n  /**\n   * @param {Object} options\n   * @param {jQuery} options.el - the element to render the menu in\n   * @param {jQuery} options.trigger - the element to click on to open the menu\n   * @returns {undefined}\n   */\n  initialize: function (options) {\n    this.$el = options.el;\n    this._$trigger = options.trigger;\n    this._view = new ContactsMenuView({\n      el: this.$el\n    });\n\n    this._view.on('search', function (searchTerm) {\n      this._loadContacts(searchTerm);\n    }, this);\n\n    OC.registerMenu(this._$trigger, this.$el, function () {\n      this._toggleVisibility(true);\n    }.bind(this), true);\n    this.$el.on('beforeHide', function () {\n      this._toggleVisibility(false);\n    }.bind(this));\n  },\n\n  /**\n   * @private\n   * @param {boolean} show\n   * @returns {Promise}\n   */\n  _toggleVisibility: function (show) {\n    if (show) {\n      return this._loadContacts();\n    } else {\n      this.$el.html('');\n      return Promise.resolve();\n    }\n  },\n\n  /**\n   * @private\n   * @param {string|undefined} searchTerm\n   * @returns {Promise}\n   */\n  _getContacts: function (searchTerm) {\n    var url = OC.generateUrl('/contactsmenu/contacts');\n    return Promise.resolve($.ajax(url, {\n      method: 'POST',\n      data: {\n        filter: searchTerm\n      }\n    }));\n  },\n\n  /**\n   * @param {string|undefined} searchTerm\n   * @returns {undefined}\n   */\n  _loadContacts: function (searchTerm) {\n    var self = this;\n\n    if (!self._contactsPromise) {\n      self._contactsPromise = self._getContacts(searchTerm);\n    }\n\n    if (_.isUndefined(searchTerm) || searchTerm === '') {\n      self._view.showLoading(t('core', 'Loading your contacts '));\n    } else {\n      self._view.showLoading(t('core', 'Looking for {term} ', {\n        term: searchTerm\n      }));\n    }\n\n    return self._contactsPromise.then(function (data) {\n      // Convert contact entries to Backbone collection\n      data.contacts = new ContactCollection(data.contacts);\n\n      self._view.showContacts(data, searchTerm);\n    }, function (e) {\n      self._view.showError();\n\n      console.error('There was an error loading your contacts', e);\n    }).then(function () {\n      // Delete promise, so that contacts are fetched again when the\n      // menu is opened the next time.\n      delete self._contactsPromise;\n    }).catch(console.error.bind(this));\n  }\n};\nexport default ContactsMenu;","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author Joas Schilling <coding@schilljs.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst rawUid = document.getElementsByTagName('head')[0].getAttribute('data-user');\nconst displayName = document.getElementsByTagName('head')[0].getAttribute('data-user-displayname');\nexport const currentUser = rawUid !== undefined ? rawUid : false;\nexport const getCurrentUser = () => {\n  return {\n    uid: currentUser,\n    displayName\n  };\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst base = window._oc_debug;\nexport const debug = base;","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n * @copyright Copyright (c) 2019 Gary Kim <gary@garykim.dev>\n *\n * @author Bartek Przybylski <bart.p.pl@gmail.com>\n * @author Christopher Schpers <kondou@ts.unde.re>\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author Daniel Calvio Snchez <danxuliu@gmail.com>\n * @author Daniel Kesselberg <mail@danielkesselberg.de>\n * @author Florian Schunk <florian.schunk@rwth-aachen.de>\n * @author Gary Kim <gary@garykim.dev>\n * @author Hendrik Leppelsack <hendrik@leppelsack.de>\n * @author Jan-Christoph Borchardt <hey@jancborchardt.net>\n * @author Joas Schilling <coding@schilljs.com>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Jrn Friedrich Dreyer <jfd@butonic.de>\n * @author Julius Hrtl <jus@bitgrid.net>\n * @author Loc Hermann <loic.hermann@sciam.fr>\n * @author Morris Jobke <hey@morrisjobke.de>\n * @author Olivier Paroz <github@oparoz.com>\n * @author Robin Appelman <robin@icewind.nl>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n * @author Sujith Haridasan <Sujith_Haridasan@mentor.com>\n * @author Thomas Citharel <nextcloud@tcit.fr>\n * @author Thomas Mller <thomas.mueller@tmit.eu>\n * @author Thomas Tanghus <thomas@tanghus.net>\n * @author Vincent Petry <vincent@nextcloud.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/* eslint-disable */\nimport _ from 'underscore';\nimport $ from 'jquery';\nimport OC from './index';\nimport OCA from '../OCA/index';\n/**\n * this class to ease the usage of jquery dialogs\n */\n\nconst Dialogs = {\n  // dialog button types\n  YES_NO_BUTTONS: 70,\n  OK_BUTTONS: 71,\n  FILEPICKER_TYPE_CHOOSE: 1,\n  FILEPICKER_TYPE_MOVE: 2,\n  FILEPICKER_TYPE_COPY: 3,\n  FILEPICKER_TYPE_COPY_MOVE: 4,\n  FILEPICKER_TYPE_CUSTOM: 5,\n  // used to name each dialog\n  dialogsCounter: 0,\n\n  /**\n   * displays alert dialog\n   * @param {string} text content of dialog\n   * @param {string} title dialog title\n   * @param {function} callback which will be triggered when user presses OK\n   * @param {boolean} [modal] make the dialog modal\n   */\n  alert: function (text, title, callback, modal) {\n    this.message(text, title, 'alert', Dialogs.OK_BUTTON, callback, modal);\n  },\n\n  /**\n   * displays info dialog\n   * @param {string} text content of dialog\n   * @param {string} title dialog title\n   * @param {function} callback which will be triggered when user presses OK\n   * @param {boolean} [modal] make the dialog modal\n   */\n  info: function (text, title, callback, modal) {\n    this.message(text, title, 'info', Dialogs.OK_BUTTON, callback, modal);\n  },\n\n  /**\n   * displays confirmation dialog\n   * @param {string} text content of dialog\n   * @param {string} title dialog title\n   * @param {function} callback which will be triggered when user presses OK (true or false would be passed to callback respectively)\n   * @param {boolean} [modal] make the dialog modal\n   * @returns {Promise}\n   */\n  confirm: function (text, title, callback, modal) {\n    return this.message(text, title, 'notice', Dialogs.YES_NO_BUTTONS, callback, modal);\n  },\n\n  /**\n   * displays confirmation dialog\n   * @param {string} text content of dialog\n   * @param {string} title dialog title\n   * @param {{type: Int, confirm: String, cancel: String, confirmClasses: String}} buttons text content of buttons\n   * @param {function} callback which will be triggered when user presses OK (true or false would be passed to callback respectively)\n   * @param {boolean} [modal] make the dialog modal\n   * @returns {Promise}\n   */\n  confirmDestructive: function (text, title, buttons, callback, modal) {\n    return this.message(text, title, 'none', buttons, callback, modal === undefined ? true : modal);\n  },\n\n  /**\n   * displays confirmation dialog\n   * @param {string} text content of dialog\n   * @param {string} title dialog title\n   * @param {function} callback which will be triggered when user presses OK (true or false would be passed to callback respectively)\n   * @param {boolean} [modal] make the dialog modal\n   * @returns {Promise}\n   */\n  confirmHtml: function (text, title, callback, modal) {\n    return this.message(text, title, 'notice', Dialogs.YES_NO_BUTTONS, callback, modal, true);\n  },\n\n  /**\n   * displays prompt dialog\n   * @param {string} text content of dialog\n   * @param {string} title dialog title\n   * @param {function} callback which will be triggered when user presses OK (true or false would be passed to callback respectively)\n   * @param {boolean} [modal] make the dialog modal\n   * @param {string} name name of the input field\n   * @param {boolean} password whether the input should be a password input\n   * @returns {Promise}\n   */\n  prompt: function (text, title, callback, modal, name, password) {\n    return $.when(this._getMessageTemplate()).then(function ($tmpl) {\n      var dialogName = 'oc-dialog-' + Dialogs.dialogsCounter + '-content';\n      var dialogId = '#' + dialogName;\n      var $dlg = $tmpl.octemplate({\n        dialog_name: dialogName,\n        title: title,\n        message: text,\n        type: 'notice'\n      });\n      var input = $('<input/>');\n      input.attr('type', password ? 'password' : 'text').attr('id', dialogName + '-input').attr('placeholder', name);\n      var label = $('<label/>').attr('for', dialogName + '-input').text(name + ': ');\n      $dlg.append(label);\n      $dlg.append(input);\n\n      if (modal === undefined) {\n        modal = false;\n      }\n\n      $('body').append($dlg); // wrap callback in _.once():\n      // only call callback once and not twice (button handler and close\n      // event) but call it for the close event, if ESC or the x is hit\n\n      if (callback !== undefined) {\n        callback = _.once(callback);\n      }\n\n      var buttonlist = [{\n        text: t('core', 'No'),\n        click: function () {\n          if (callback !== undefined) {\n            // eslint-disable-next-line standard/no-callback-literal\n            callback(false, input.val());\n          }\n\n          $(dialogId).ocdialog('close');\n        }\n      }, {\n        text: t('core', 'Yes'),\n        click: function () {\n          if (callback !== undefined) {\n            // eslint-disable-next-line standard/no-callback-literal\n            callback(true, input.val());\n          }\n\n          $(dialogId).ocdialog('close');\n        },\n        defaultButton: true\n      }];\n      $(dialogId).ocdialog({\n        closeOnEscape: true,\n        modal: modal,\n        buttons: buttonlist,\n        close: function () {\n          // callback is already fired if Yes/No is clicked directly\n          if (callback !== undefined) {\n            // eslint-disable-next-line standard/no-callback-literal\n            callback(false, input.val());\n          }\n        }\n      });\n      input.focus();\n      Dialogs.dialogsCounter++;\n    });\n  },\n\n  /**\n   * show a file picker to pick a file from\n   *\n   * In order to pick several types of mime types they need to be passed as an\n   * array of strings.\n   *\n   * When no mime type filter is given only files can be selected. In order to\n   * be able to select both files and folders \"['*', 'httpd/unix-directory']\"\n   * should be used instead.\n   *\n   * @param {string} title dialog title\n   * @param {function} callback which will be triggered when user presses Choose\n   * @param {boolean} [multiselect] whether it should be possible to select multiple files\n   * @param {string[]} [mimetypeFilter] mimetype to filter by - directories will always be included\n   * @param {boolean} [modal] make the dialog modal\n   * @param {string} [type] Type of file picker : Choose, copy, move, copy and move\n   * @param {string} [path] path to the folder that the the file can be picket from\n   * @param {Object} [options] additonal options that need to be set\n   */\n  filepicker: function (title, callback, multiselect, mimetypeFilter, modal, type, path, options) {\n    var self = this;\n    this.filepicker.sortField = 'name';\n    this.filepicker.sortOrder = 'asc'; // avoid opening the picker twice\n\n    if (this.filepicker.loading) {\n      return;\n    }\n\n    if (type === undefined) {\n      type = this.FILEPICKER_TYPE_CHOOSE;\n    }\n\n    var emptyText = t('core', 'No files in here');\n    var newText = t('files', 'New folder');\n\n    if (type === this.FILEPICKER_TYPE_COPY || type === this.FILEPICKER_TYPE_MOVE || type === this.FILEPICKER_TYPE_COPY_MOVE) {\n      emptyText = t('core', 'No more subfolders in here');\n    }\n\n    this.filepicker.loading = true;\n    this.filepicker.filesClient = OCA.Sharing && OCA.Sharing.PublicApp && OCA.Sharing.PublicApp.fileList ? OCA.Sharing.PublicApp.fileList.filesClient : OC.Files.getClient();\n    this.filelist = null;\n    path = path || '';\n    options = Object.assign({\n      allowDirectoryChooser: false\n    }, options);\n    $.when(this._getFilePickerTemplate()).then(function ($tmpl) {\n      self.filepicker.loading = false;\n      var dialogName = 'oc-dialog-filepicker-content';\n\n      if (self.$filePicker) {\n        self.$filePicker.ocdialog('close');\n      }\n\n      if (mimetypeFilter === undefined || mimetypeFilter === null) {\n        mimetypeFilter = [];\n      }\n\n      if (typeof mimetypeFilter === 'string') {\n        mimetypeFilter = [mimetypeFilter];\n      }\n\n      self.$filePicker = $tmpl.octemplate({\n        dialog_name: dialogName,\n        title: title,\n        emptytext: emptyText,\n        newtext: newText,\n        nameCol: t('core', 'Name'),\n        sizeCol: t('core', 'Size'),\n        modifiedCol: t('core', 'Modified')\n      }).data('path', path).data('multiselect', multiselect).data('mimetype', mimetypeFilter).data('allowDirectoryChooser', options.allowDirectoryChooser);\n\n      if (modal === undefined) {\n        modal = false;\n      }\n\n      if (multiselect === undefined) {\n        multiselect = false;\n      }\n\n      self.$filePicker.find('#picker-view-toggle').remove();\n      self.$filePicker.find('#picker-filestable').removeClass('view-grid');\n      $('body').append(self.$filePicker);\n\n      self._getGridSettings();\n\n      var newButton = self.$filePicker.find('.actions.creatable .button-add');\n\n      if (type === self.FILEPICKER_TYPE_CHOOSE && !options.allowDirectoryChooser) {\n        newButton.hide();\n      }\n\n      newButton.on('focus', function () {\n        self.$filePicker.ocdialog('setEnterCallback', function () {\n          event.stopImmediatePropagation();\n          event.preventDefault();\n          newButton.click();\n        });\n      });\n      newButton.on('blur', function () {\n        self.$filePicker.ocdialog('unsetEnterCallback');\n      });\n      OC.registerMenu(newButton, self.$filePicker.find('.menu'), function () {\n        $input.focus();\n        self.$filePicker.ocdialog('setEnterCallback', function () {\n          event.stopImmediatePropagation();\n          event.preventDefault();\n          self.$filePicker.submit();\n        });\n        var newName = $input.val();\n        var lastPos = newName.lastIndexOf('.');\n\n        if (lastPos === -1) {\n          lastPos = newName.length;\n        }\n\n        $input.selectRange(0, lastPos);\n      });\n      var $form = self.$filePicker.find('.filenameform');\n      var $input = $form.find('input[type=\\'text\\']');\n      var $submit = $form.find('input[type=\\'submit\\']');\n      $submit.on('click', function (event) {\n        event.stopImmediatePropagation();\n        event.preventDefault();\n        $form.submit();\n      });\n      /**\n       * Checks whether the given file name is valid.\n       *\n       * @param name file name to check\n       * @return true if the file name is valid.\n       * @throws a string exception with an error message if\n       * the file name is not valid\n       *\n       * NOTE: This function is duplicated in the files app:\n       * https://github.com/nextcloud/server/blob/b9bc2417e7a8dc81feb0abe20359bedaf864f790/apps/files/js/files.js#L127-L148\n       */\n\n      var isFileNameValid = function (name) {\n        var trimmedName = name.trim();\n\n        if (trimmedName === '.' || trimmedName === '..') {\n          throw t('files', '\"{name}\" is an invalid file name.', {\n            name: name\n          });\n        } else if (trimmedName.length === 0) {\n          throw t('files', 'File name cannot be empty.');\n        } else if (trimmedName.indexOf('/') !== -1) {\n          throw t('files', '\"/\" is not allowed inside a file name.');\n        } else if (!!trimmedName.match(OC.config.blacklist_files_regex)) {\n          throw t('files', '\"{name}\" is not an allowed filetype', {\n            name: name\n          });\n        }\n\n        return true;\n      };\n\n      var checkInput = function () {\n        var filename = $input.val();\n\n        try {\n          if (!isFileNameValid(filename)) {// isFileNameValid(filename) throws an exception itself\n          } else if (self.filelist.find(function (file) {\n            return file.name === this;\n          }, filename)) {\n            throw t('files', '{newName} already exists', {\n              newName: filename\n            }, undefined, {\n              escape: false\n            });\n          } else {\n            return true;\n          }\n        } catch (error) {\n          $input.attr('title', error);\n          $input.tooltip({\n            placement: 'right',\n            trigger: 'manual',\n            'container': '.newFolderMenu'\n          });\n          $input.tooltip('_fixTitle');\n          $input.tooltip('show');\n          $input.addClass('error');\n        }\n\n        return false;\n      };\n\n      $form.on('submit', function (event) {\n        event.stopPropagation();\n        event.preventDefault();\n\n        if (checkInput()) {\n          var newname = $input.val();\n          self.filepicker.filesClient.createDirectory(self.$filePicker.data('path') + \"/\" + newname).always(function (status) {\n            self._fillFilePicker(self.$filePicker.data('path') + \"/\" + newname);\n          });\n          OC.hideMenus();\n          self.$filePicker.ocdialog('unsetEnterCallback');\n          self.$filePicker.click();\n          $input.val(newText);\n        }\n      });\n      $input.keypress(function (event) {\n        if (event.keyCode === 13 || event.which === 13) {\n          event.stopImmediatePropagation();\n          event.preventDefault();\n          $form.submit();\n        }\n      });\n      self.$filePicker.ready(function () {\n        self.$fileListHeader = self.$filePicker.find('.filelist thead tr');\n        self.$filelist = self.$filePicker.find('.filelist tbody');\n        self.$filelistContainer = self.$filePicker.find('.filelist-container');\n        self.$dirTree = self.$filePicker.find('.dirtree');\n        self.$dirTree.on('click', 'div:not(:last-child)', self, function (event) {\n          self._handleTreeListSelect(event, type);\n        });\n        self.$filelist.on('click', 'tr', function (event) {\n          self._handlePickerClick(event, $(this), type);\n        });\n        self.$fileListHeader.on('click', 'a', function (event) {\n          var dir = self.$filePicker.data('path');\n          self.filepicker.sortField = $(event.currentTarget).data('sort');\n          self.filepicker.sortOrder = self.filepicker.sortOrder === 'asc' ? 'desc' : 'asc';\n\n          self._fillFilePicker(dir);\n        });\n\n        self._fillFilePicker(path);\n      }); // build buttons\n\n      var functionToCall = function (returnType) {\n        if (callback !== undefined) {\n          var datapath;\n\n          if (multiselect === true) {\n            datapath = [];\n            self.$filelist.find('tr.filepicker_element_selected').each(function (index, element) {\n              datapath.push(self.$filePicker.data('path') + '/' + $(element).data('entryname'));\n            });\n          } else {\n            datapath = self.$filePicker.data('path');\n            var selectedName = self.$filelist.find('tr.filepicker_element_selected').data('entryname');\n\n            if (selectedName) {\n              datapath += '/' + selectedName;\n            }\n          }\n\n          callback(datapath, returnType);\n          self.$filePicker.ocdialog('close');\n        }\n      };\n\n      var chooseCallback = function () {\n        functionToCall(Dialogs.FILEPICKER_TYPE_CHOOSE);\n      };\n\n      var copyCallback = function () {\n        functionToCall(Dialogs.FILEPICKER_TYPE_COPY);\n      };\n\n      var moveCallback = function () {\n        functionToCall(Dialogs.FILEPICKER_TYPE_MOVE);\n      };\n\n      var buttonlist = [];\n\n      if (type === Dialogs.FILEPICKER_TYPE_CHOOSE) {\n        buttonlist.push({\n          text: t('core', 'Choose'),\n          click: chooseCallback,\n          defaultButton: true\n        });\n      } else if (type === Dialogs.FILEPICKER_TYPE_CUSTOM) {\n        options.buttons.forEach(function (button) {\n          buttonlist.push({\n            text: button.text,\n            click: function () {\n              functionToCall(button.type);\n            },\n            defaultButton: button.defaultButton\n          });\n        });\n      } else {\n        if (type === Dialogs.FILEPICKER_TYPE_COPY || type === Dialogs.FILEPICKER_TYPE_COPY_MOVE) {\n          buttonlist.push({\n            text: t('core', 'Copy'),\n            click: copyCallback,\n            defaultButton: false\n          });\n        }\n\n        if (type === Dialogs.FILEPICKER_TYPE_MOVE || type === Dialogs.FILEPICKER_TYPE_COPY_MOVE) {\n          buttonlist.push({\n            text: t('core', 'Move'),\n            click: moveCallback,\n            defaultButton: true\n          });\n        }\n      }\n\n      self.$filePicker.ocdialog({\n        closeOnEscape: true,\n        // max-width of 600\n        width: 600,\n        height: 500,\n        modal: modal,\n        buttons: buttonlist,\n        style: {\n          buttons: 'aside'\n        },\n        close: function () {\n          try {\n            $(this).ocdialog('destroy').remove();\n          } catch (e) {}\n\n          self.$filePicker = null;\n        }\n      }); // We can access primary class only from oc-dialog.\n      // Hence this is one of the approach to get the choose button.\n\n      var getOcDialog = self.$filePicker.closest('.oc-dialog');\n      var buttonEnableDisable = getOcDialog.find('.primary');\n\n      if (self.$filePicker.data('mimetype').indexOf('httpd/unix-directory') !== -1 || self.$filePicker.data('allowDirectoryChooser')) {\n        buttonEnableDisable.prop('disabled', false);\n      } else {\n        buttonEnableDisable.prop('disabled', true);\n      }\n    }).fail(function (status, error) {\n      // If the method is called while navigating away\n      // from the page, it is probably not needed ;)\n      self.filepicker.loading = false;\n\n      if (status !== 0) {\n        alert(t('core', 'Error loading file picker template: {error}', {\n          error: error\n        }));\n      }\n    });\n  },\n\n  /**\n   * Displays raw dialog\n   * You better use a wrapper instead ...\n   */\n  message: function (content, title, dialogType, buttons, callback, modal, allowHtml) {\n    return $.when(this._getMessageTemplate()).then(function ($tmpl) {\n      var dialogName = 'oc-dialog-' + Dialogs.dialogsCounter + '-content';\n      var dialogId = '#' + dialogName;\n      var $dlg = $tmpl.octemplate({\n        dialog_name: dialogName,\n        title: title,\n        message: content,\n        type: dialogType\n      }, allowHtml ? {\n        escapeFunction: ''\n      } : {});\n\n      if (modal === undefined) {\n        modal = false;\n      }\n\n      $('body').append($dlg);\n      var buttonlist = [];\n\n      switch (buttons) {\n        case Dialogs.YES_NO_BUTTONS:\n          buttonlist = [{\n            text: t('core', 'No'),\n            click: function () {\n              if (callback !== undefined) {\n                callback(false);\n              }\n\n              $(dialogId).ocdialog('close');\n            }\n          }, {\n            text: t('core', 'Yes'),\n            click: function () {\n              if (callback !== undefined) {\n                callback(true);\n              }\n\n              $(dialogId).ocdialog('close');\n            },\n            defaultButton: true\n          }];\n          break;\n\n        case Dialogs.OK_BUTTON:\n          var functionToCall = function () {\n            $(dialogId).ocdialog('close');\n\n            if (callback !== undefined) {\n              callback();\n            }\n          };\n\n          buttonlist[0] = {\n            text: t('core', 'OK'),\n            click: functionToCall,\n            defaultButton: true\n          };\n          break;\n\n        default:\n          if (typeof buttons === 'object') {\n            switch (buttons.type) {\n              case Dialogs.YES_NO_BUTTONS:\n                buttonlist = [{\n                  text: buttons.cancel || t('core', 'No'),\n                  click: function () {\n                    if (callback !== undefined) {\n                      callback(false);\n                    }\n\n                    $(dialogId).ocdialog('close');\n                  }\n                }, {\n                  text: buttons.confirm || t('core', 'Yes'),\n                  click: function () {\n                    if (callback !== undefined) {\n                      callback(true);\n                    }\n\n                    $(dialogId).ocdialog('close');\n                  },\n                  defaultButton: true,\n                  classes: buttons.confirmClasses\n                }];\n                break;\n            }\n          }\n\n          break;\n      }\n\n      $(dialogId).ocdialog({\n        closeOnEscape: true,\n        closeCallback: () => {\n          callback && callback(false);\n        },\n        modal: modal,\n        buttons: buttonlist\n      });\n      Dialogs.dialogsCounter++;\n    }).fail(function (status, error) {\n      // If the method is called while navigating away from\n      // the page, we still want to deliver the message.\n      if (status === 0) {\n        alert(title + ': ' + content);\n      } else {\n        alert(t('core', 'Error loading message template: {error}', {\n          error: error\n        }));\n      }\n    });\n  },\n  _fileexistsshown: false,\n\n  /**\n   * Displays file exists dialog\n   * @param {object} data upload object\n   * @param {object} original file with name, size and mtime\n   * @param {object} replacement file with name, size and mtime\n   * @param {object} controller with onCancel, onSkip, onReplace and onRename methods\n   * @returns {Promise} jquery promise that resolves after the dialog template was loaded\n   */\n  fileexists: function (data, original, replacement, controller) {\n    var self = this;\n    var dialogDeferred = new $.Deferred();\n\n    var getCroppedPreview = function (file) {\n      var deferred = new $.Deferred(); // Only process image files.\n\n      var type = file.type && file.type.split('/').shift();\n\n      if (window.FileReader && type === 'image') {\n        var reader = new FileReader();\n\n        reader.onload = function (e) {\n          var blob = new Blob([e.target.result]);\n          window.URL = window.URL || window.webkitURL;\n          var originalUrl = window.URL.createObjectURL(blob);\n          var image = new Image();\n          image.src = originalUrl;\n\n          image.onload = function () {\n            var url = crop(image);\n            deferred.resolve(url);\n          };\n        };\n\n        reader.readAsArrayBuffer(file);\n      } else {\n        deferred.reject();\n      }\n\n      return deferred;\n    };\n\n    var crop = function (img) {\n      var canvas = document.createElement('canvas');\n      var targetSize = 96;\n      var width = img.width;\n      var height = img.height;\n      var x;\n      var y;\n      var size; // Calculate the width and height, constraining the proportions\n\n      if (width > height) {\n        y = 0;\n        x = (width - height) / 2;\n      } else {\n        y = (height - width) / 2;\n        x = 0;\n      }\n\n      size = Math.min(width, height); // Set canvas size to the cropped area\n\n      canvas.width = size;\n      canvas.height = size;\n      var ctx = canvas.getContext('2d');\n      ctx.drawImage(img, x, y, size, size, 0, 0, size, size); // Resize the canvas to match the destination (right size uses 96px)\n\n      resampleHermite(canvas, size, size, targetSize, targetSize);\n      return canvas.toDataURL('image/png', 0.7);\n    };\n    /**\n     * Fast image resize/resample using Hermite filter with JavaScript.\n     *\n     * @author: ViliusL\n     *\n     * @param {*} canvas\n     * @param {number} W\n     * @param {number} H\n     * @param {number} W2\n     * @param {number} H2\n     */\n\n\n    var resampleHermite = function (canvas, W, H, W2, H2) {\n      W2 = Math.round(W2);\n      H2 = Math.round(H2);\n      var img = canvas.getContext('2d').getImageData(0, 0, W, H);\n      var img2 = canvas.getContext('2d').getImageData(0, 0, W2, H2);\n      var data = img.data;\n      var data2 = img2.data;\n      var ratio_w = W / W2;\n      var ratio_h = H / H2;\n      var ratio_w_half = Math.ceil(ratio_w / 2);\n      var ratio_h_half = Math.ceil(ratio_h / 2);\n\n      for (var j = 0; j < H2; j++) {\n        for (var i = 0; i < W2; i++) {\n          var x2 = (i + j * W2) * 4;\n          var weight = 0;\n          var weights = 0;\n          var weights_alpha = 0;\n          var gx_r = 0;\n          var gx_g = 0;\n          var gx_b = 0;\n          var gx_a = 0;\n          var center_y = (j + 0.5) * ratio_h;\n\n          for (var yy = Math.floor(j * ratio_h); yy < (j + 1) * ratio_h; yy++) {\n            var dy = Math.abs(center_y - (yy + 0.5)) / ratio_h_half;\n            var center_x = (i + 0.5) * ratio_w;\n            var w0 = dy * dy; // pre-calc part of w\n\n            for (var xx = Math.floor(i * ratio_w); xx < (i + 1) * ratio_w; xx++) {\n              var dx = Math.abs(center_x - (xx + 0.5)) / ratio_w_half;\n              var w = Math.sqrt(w0 + dx * dx);\n\n              if (w >= -1 && w <= 1) {\n                // hermite filter\n                weight = 2 * w * w * w - 3 * w * w + 1;\n\n                if (weight > 0) {\n                  dx = 4 * (xx + yy * W); // alpha\n\n                  gx_a += weight * data[dx + 3];\n                  weights_alpha += weight; // colors\n\n                  if (data[dx + 3] < 255) {\n                    weight = weight * data[dx + 3] / 250;\n                  }\n\n                  gx_r += weight * data[dx];\n                  gx_g += weight * data[dx + 1];\n                  gx_b += weight * data[dx + 2];\n                  weights += weight;\n                }\n              }\n            }\n          }\n\n          data2[x2] = gx_r / weights;\n          data2[x2 + 1] = gx_g / weights;\n          data2[x2 + 2] = gx_b / weights;\n          data2[x2 + 3] = gx_a / weights_alpha;\n        }\n      }\n\n      canvas.getContext('2d').clearRect(0, 0, Math.max(W, W2), Math.max(H, H2));\n      canvas.width = W2;\n      canvas.height = H2;\n      canvas.getContext('2d').putImageData(img2, 0, 0);\n    };\n\n    var addConflict = function ($conflicts, original, replacement) {\n      var $conflict = $conflicts.find('.template').clone().removeClass('template').addClass('conflict');\n      var $originalDiv = $conflict.find('.original');\n      var $replacementDiv = $conflict.find('.replacement');\n      $conflict.data('data', data);\n      $conflict.find('.filename').text(original.name);\n      $originalDiv.find('.size').text(OC.Util.humanFileSize(original.size));\n      $originalDiv.find('.mtime').text(OC.Util.formatDate(original.mtime)); // ie sucks\n\n      if (replacement.size && replacement.lastModified) {\n        $replacementDiv.find('.size').text(OC.Util.humanFileSize(replacement.size));\n        $replacementDiv.find('.mtime').text(OC.Util.formatDate(replacement.lastModified));\n      }\n\n      var path = original.directory + '/' + original.name;\n      var urlSpec = {\n        file: path,\n        x: 96,\n        y: 96,\n        c: original.etag,\n        forceIcon: 0\n      };\n      var previewpath = Files.generatePreviewUrl(urlSpec); // Escaping single quotes\n\n      previewpath = previewpath.replace(/'/g, '%27');\n      $originalDiv.find('.icon').css({\n        'background-image': \"url('\" + previewpath + \"')\"\n      });\n      getCroppedPreview(replacement).then(function (path) {\n        $replacementDiv.find('.icon').css('background-image', 'url(' + path + ')');\n      }, function () {\n        path = OC.MimeType.getIconUrl(replacement.type);\n        $replacementDiv.find('.icon').css('background-image', 'url(' + path + ')');\n      }); // connect checkboxes with labels\n\n      var checkboxId = $conflicts.find('.conflict').length;\n      $originalDiv.find('input:checkbox').attr('id', 'checkbox_original_' + checkboxId);\n      $replacementDiv.find('input:checkbox').attr('id', 'checkbox_replacement_' + checkboxId);\n      $conflicts.append($conflict); // set more recent mtime bold\n      // ie sucks\n\n      if (replacement.lastModified > original.mtime) {\n        $replacementDiv.find('.mtime').css('font-weight', 'bold');\n      } else if (replacement.lastModified < original.mtime) {\n        $originalDiv.find('.mtime').css('font-weight', 'bold');\n      } else {// TODO add to same mtime collection?\n      } // set bigger size bold\n\n\n      if (replacement.size && replacement.size > original.size) {\n        $replacementDiv.find('.size').css('font-weight', 'bold');\n      } else if (replacement.size && replacement.size < original.size) {\n        $originalDiv.find('.size').css('font-weight', 'bold');\n      } else {// TODO add to same size collection?\n      } // TODO show skip action for files with same size and mtime in bottom row\n      // always keep readonly files\n\n\n      if (original.status === 'readonly') {\n        $originalDiv.addClass('readonly').find('input[type=\"checkbox\"]').prop('checked', true).prop('disabled', true);\n        $originalDiv.find('.message').text(t('core', 'read-only'));\n      }\n    }; // var selection = controller.getSelection(data.originalFiles);\n    // if (selection.defaultAction) {\n    //\tcontroller[selection.defaultAction](data);\n    // } else {\n\n\n    var dialogName = 'oc-dialog-fileexists-content';\n    var dialogId = '#' + dialogName;\n\n    if (this._fileexistsshown) {\n      // add conflict\n      var $conflicts = $(dialogId + ' .conflicts');\n      addConflict($conflicts, original, replacement);\n      var count = $(dialogId + ' .conflict').length;\n      var title = n('core', '{count} file conflict', '{count} file conflicts', count, {\n        count: count\n      });\n      $(dialogId).parent().children('.oc-dialog-title').text(title); // recalculate dimensions\n\n      $(window).trigger('resize');\n      dialogDeferred.resolve();\n    } else {\n      // create dialog\n      this._fileexistsshown = true;\n      $.when(this._getFileExistsTemplate()).then(function ($tmpl) {\n        var title = t('core', 'One file conflict');\n        var $dlg = $tmpl.octemplate({\n          dialog_name: dialogName,\n          title: title,\n          type: 'fileexists',\n          allnewfiles: t('core', 'New Files'),\n          allexistingfiles: t('core', 'Already existing files'),\n          why: t('core', 'Which files do you want to keep?'),\n          what: t('core', 'If you select both versions, the copied file will have a number added to its name.')\n        });\n        $('body').append($dlg);\n\n        if (original && replacement) {\n          var $conflicts = $dlg.find('.conflicts');\n          addConflict($conflicts, original, replacement);\n        }\n\n        var buttonlist = [{\n          text: t('core', 'Cancel'),\n          classes: 'cancel',\n          click: function () {\n            if (typeof controller.onCancel !== 'undefined') {\n              controller.onCancel(data);\n            }\n\n            $(dialogId).ocdialog('close');\n          }\n        }, {\n          text: t('core', 'Continue'),\n          classes: 'continue',\n          click: function () {\n            if (typeof controller.onContinue !== 'undefined') {\n              controller.onContinue($(dialogId + ' .conflict'));\n            }\n\n            $(dialogId).ocdialog('close');\n          }\n        }];\n        $(dialogId).ocdialog({\n          width: 500,\n          closeOnEscape: true,\n          modal: true,\n          buttons: buttonlist,\n          closeButton: null,\n          close: function () {\n            self._fileexistsshown = false;\n\n            try {\n              $(this).ocdialog('destroy').remove();\n            } catch (e) {// ignore\n            }\n          }\n        });\n        $(dialogId).css('height', 'auto');\n        var $primaryButton = $dlg.closest('.oc-dialog').find('button.continue');\n        $primaryButton.prop('disabled', true);\n\n        function updatePrimaryButton() {\n          var checkedCount = $dlg.find('.conflicts .checkbox:checked').length;\n          $primaryButton.prop('disabled', checkedCount === 0);\n        } // add checkbox toggling actions\n\n\n        $(dialogId).find('.allnewfiles').on('click', function () {\n          var $checkboxes = $(dialogId).find('.conflict .replacement input[type=\"checkbox\"]');\n          $checkboxes.prop('checked', $(this).prop('checked'));\n        });\n        $(dialogId).find('.allexistingfiles').on('click', function () {\n          var $checkboxes = $(dialogId).find('.conflict .original:not(.readonly) input[type=\"checkbox\"]');\n          $checkboxes.prop('checked', $(this).prop('checked'));\n        });\n        $(dialogId).find('.conflicts').on('click', '.replacement,.original:not(.readonly)', function () {\n          var $checkbox = $(this).find('input[type=\"checkbox\"]');\n          $checkbox.prop('checked', !$checkbox.prop('checked'));\n        });\n        $(dialogId).find('.conflicts').on('click', '.replacement input[type=\"checkbox\"],.original:not(.readonly) input[type=\"checkbox\"]', function () {\n          var $checkbox = $(this);\n          $checkbox.prop('checked', !$checkbox.prop('checked'));\n        }); // update counters\n\n        $(dialogId).on('click', '.replacement,.allnewfiles', function () {\n          var count = $(dialogId).find('.conflict .replacement input[type=\"checkbox\"]:checked').length;\n\n          if (count === $(dialogId + ' .conflict').length) {\n            $(dialogId).find('.allnewfiles').prop('checked', true);\n            $(dialogId).find('.allnewfiles + .count').text(t('core', '(all selected)'));\n          } else if (count > 0) {\n            $(dialogId).find('.allnewfiles').prop('checked', false);\n            $(dialogId).find('.allnewfiles + .count').text(t('core', '({count} selected)', {\n              count: count\n            }));\n          } else {\n            $(dialogId).find('.allnewfiles').prop('checked', false);\n            $(dialogId).find('.allnewfiles + .count').text('');\n          }\n\n          updatePrimaryButton();\n        });\n        $(dialogId).on('click', '.original,.allexistingfiles', function () {\n          var count = $(dialogId).find('.conflict .original input[type=\"checkbox\"]:checked').length;\n\n          if (count === $(dialogId + ' .conflict').length) {\n            $(dialogId).find('.allexistingfiles').prop('checked', true);\n            $(dialogId).find('.allexistingfiles + .count').text(t('core', '(all selected)'));\n          } else if (count > 0) {\n            $(dialogId).find('.allexistingfiles').prop('checked', false);\n            $(dialogId).find('.allexistingfiles + .count').text(t('core', '({count} selected)', {\n              count: count\n            }));\n          } else {\n            $(dialogId).find('.allexistingfiles').prop('checked', false);\n            $(dialogId).find('.allexistingfiles + .count').text('');\n          }\n\n          updatePrimaryButton();\n        });\n        dialogDeferred.resolve();\n      }).fail(function () {\n        dialogDeferred.reject();\n        alert(t('core', 'Error loading file exists template'));\n      });\n    } // }\n\n\n    return dialogDeferred.promise();\n  },\n  // get the gridview setting and set the input accordingly\n  _getGridSettings: function () {\n    var self = this;\n    $.get(OC.generateUrl('/apps/files/api/v1/showgridview'), function (response) {\n      self.$showGridView.get(0).checked = response.gridview;\n      self.$showGridView.next('#picker-view-toggle').removeClass('icon-toggle-filelist icon-toggle-pictures').addClass(response.gridview ? 'icon-toggle-filelist' : 'icon-toggle-pictures');\n      $('.list-container').toggleClass('view-grid', response.gridview);\n    });\n  },\n  _onGridviewChange: function () {\n    var show = this.$showGridView.is(':checked'); // only save state if user is logged in\n\n    if (OC.currentUser) {\n      $.post(OC.generateUrl('/apps/files/api/v1/showgridview'), {\n        show: show\n      });\n    }\n\n    this.$showGridView.next('#picker-view-toggle').removeClass('icon-toggle-filelist icon-toggle-pictures').addClass(show ? 'icon-toggle-filelist' : 'icon-toggle-pictures');\n    $('.list-container').toggleClass('view-grid', show);\n  },\n  _getFilePickerTemplate: function () {\n    var defer = $.Deferred();\n\n    if (!this.$filePickerTemplate) {\n      var self = this;\n      $.get(OC.filePath('core', 'templates', 'filepicker.html'), function (tmpl) {\n        self.$filePickerTemplate = $(tmpl);\n        self.$listTmpl = self.$filePickerTemplate.find('.filelist tbody tr:first-child').detach();\n        defer.resolve(self.$filePickerTemplate);\n      }).fail(function (jqXHR, textStatus, errorThrown) {\n        defer.reject(jqXHR.status, errorThrown);\n      });\n    } else {\n      defer.resolve(this.$filePickerTemplate);\n    }\n\n    return defer.promise();\n  },\n  _getMessageTemplate: function () {\n    var defer = $.Deferred();\n\n    if (!this.$messageTemplate) {\n      var self = this;\n      $.get(OC.filePath('core', 'templates', 'message.html'), function (tmpl) {\n        self.$messageTemplate = $(tmpl);\n        defer.resolve(self.$messageTemplate);\n      }).fail(function (jqXHR, textStatus, errorThrown) {\n        defer.reject(jqXHR.status, errorThrown);\n      });\n    } else {\n      defer.resolve(this.$messageTemplate);\n    }\n\n    return defer.promise();\n  },\n  _getFileExistsTemplate: function () {\n    var defer = $.Deferred();\n\n    if (!this.$fileexistsTemplate) {\n      var self = this;\n      $.get(OC.filePath('files', 'templates', 'fileexists.html'), function (tmpl) {\n        self.$fileexistsTemplate = $(tmpl);\n        defer.resolve(self.$fileexistsTemplate);\n      }).fail(function () {\n        defer.reject();\n      });\n    } else {\n      defer.resolve(this.$fileexistsTemplate);\n    }\n\n    return defer.promise();\n  },\n  _getFileList: function (dir, mimeType) {\n    // this is only used by the spreedme app atm\n    if (typeof mimeType === 'string') {\n      mimeType = [mimeType];\n    }\n\n    return $.getJSON(OC.filePath('files', 'ajax', 'list.php'), {\n      dir: dir,\n      mimetypes: JSON.stringify(mimeType)\n    });\n  },\n\n  /**\n   * fills the filepicker with files\n   */\n  _fillFilePicker: function (dir) {\n    var self = this;\n    this.$filelist.empty();\n    this.$filePicker.find('.emptycontent').hide();\n    this.$filelistContainer.addClass('icon-loading');\n    this.$filePicker.data('path', dir);\n    var filter = this.$filePicker.data('mimetype');\n\n    if (typeof filter === 'string') {\n      filter = [filter];\n    }\n\n    self.$fileListHeader.find('.sort-indicator').addClass('hidden').removeClass('icon-triangle-n').removeClass('icon-triangle-s');\n    self.$fileListHeader.find('[data-sort=' + self.filepicker.sortField + '] .sort-indicator').removeClass('hidden');\n\n    if (self.filepicker.sortOrder === 'asc') {\n      self.$fileListHeader.find('[data-sort=' + self.filepicker.sortField + '] .sort-indicator').addClass('icon-triangle-n');\n    } else {\n      self.$fileListHeader.find('[data-sort=' + self.filepicker.sortField + '] .sort-indicator').addClass('icon-triangle-s');\n    }\n\n    self.filepicker.filesClient.getFolderContents(dir).then(function (status, files) {\n      self.filelist = files;\n\n      if (filter && filter.length > 0 && filter.indexOf('*') === -1) {\n        files = files.filter(function (file) {\n          return file.type === 'dir' || filter.indexOf(file.mimetype) !== -1;\n        });\n      }\n\n      var Comparators = {\n        name: function (fileInfo1, fileInfo2) {\n          if (fileInfo1.type === 'dir' && fileInfo2.type !== 'dir') {\n            return -1;\n          }\n\n          if (fileInfo1.type !== 'dir' && fileInfo2.type === 'dir') {\n            return 1;\n          }\n\n          return OC.Util.naturalSortCompare(fileInfo1.name, fileInfo2.name);\n        },\n        size: function (fileInfo1, fileInfo2) {\n          return fileInfo1.size - fileInfo2.size;\n        },\n        mtime: function (fileInfo1, fileInfo2) {\n          return fileInfo1.mtime - fileInfo2.mtime;\n        }\n      };\n      var comparator = Comparators[self.filepicker.sortField] || Comparators.name;\n      files = files.sort(function (file1, file2) {\n        var isFavorite = function (fileInfo) {\n          return fileInfo.tags && fileInfo.tags.indexOf(OC.TAG_FAVORITE) >= 0;\n        };\n\n        if (isFavorite(file1) && !isFavorite(file2)) {\n          return -1;\n        } else if (!isFavorite(file1) && isFavorite(file2)) {\n          return 1;\n        }\n\n        return self.filepicker.sortOrder === 'asc' ? comparator(file1, file2) : -comparator(file1, file2);\n      });\n\n      self._fillSlug();\n\n      if (files.length === 0) {\n        self.$filePicker.find('.emptycontent').show();\n        self.$fileListHeader.hide();\n      } else {\n        self.$filePicker.find('.emptycontent').hide();\n        self.$fileListHeader.show();\n      }\n\n      self.$filelist.empty();\n      $.each(files, function (idx, entry) {\n        entry.icon = OC.MimeType.getIconUrl(entry.mimetype);\n        var simpleSize, sizeColor;\n\n        if (typeof entry.size !== 'undefined' && entry.size >= 0) {\n          simpleSize = OC.Util.humanFileSize(parseInt(entry.size, 10), true);\n          sizeColor = Math.round(160 - Math.pow(entry.size / (1024 * 1024), 2));\n        } else {\n          simpleSize = t('files', 'Pending');\n          sizeColor = 80;\n        } // split the filename in half if the size is bigger than 20 char\n        // for ellipsis\n\n\n        if (entry.name.length >= 10) {\n          // leave maximum 10 letters\n          var split = Math.min(Math.floor(entry.name.length / 2), 10);\n          var filename1 = entry.name.substr(0, entry.name.length - split);\n          var filename2 = entry.name.substr(entry.name.length - split);\n        } else {\n          var filename1 = entry.name;\n          var filename2 = '';\n        }\n\n        var $row = self.$listTmpl.octemplate({\n          type: entry.type,\n          dir: dir,\n          filename: entry.name,\n          filename1: filename1,\n          filename2: filename2,\n          date: OC.Util.relativeModifiedDate(entry.mtime),\n          size: simpleSize,\n          sizeColor: sizeColor,\n          icon: entry.icon\n        });\n\n        if (entry.type === 'file') {\n          var urlSpec = {\n            file: dir + '/' + entry.name,\n            x: 100,\n            y: 100\n          };\n          var img = new Image();\n          var previewUrl = OC.generateUrl('/core/preview.png?') + $.param(urlSpec);\n\n          img.onload = function () {\n            if (img.width > 5) {\n              $row.find('td.filename').attr('style', 'background-image:url(' + previewUrl + ')');\n            }\n          };\n\n          img.src = previewUrl;\n        }\n\n        self.$filelist.append($row);\n      });\n      self.$filelistContainer.removeClass('icon-loading');\n    });\n  },\n\n  /**\n   * fills the tree list with directories\n   */\n  _fillSlug: function () {\n    var addButton = this.$dirTree.find('.actions.creatable').detach();\n    this.$dirTree.empty();\n    var self = this;\n    self.$dirTree.append(addButton);\n    var dir;\n    var path = this.$filePicker.data('path');\n    var $template = $('<div data-dir=\"{dir}\"><a>{name}</a></div>').addClass('crumb');\n\n    if (path) {\n      var paths = path.split('/');\n      $.each(paths, function (index, dir) {\n        dir = paths.pop();\n\n        if (dir === '') {\n          return false;\n        }\n\n        self.$dirTree.prepend($template.octemplate({\n          dir: paths.join('/') + '/' + dir,\n          name: dir\n        }));\n      });\n    }\n\n    $template.octemplate({\n      dir: '',\n      name: '' // Ugly but works ;)\n\n    }, {\n      escapeFunction: null\n    }).prependTo(this.$dirTree);\n  },\n\n  /**\n   * handle selection made in the tree list\n   */\n  _handleTreeListSelect: function (event, type) {\n    var self = event.data;\n    var dir = $(event.target).closest('.crumb').data('dir');\n\n    self._fillFilePicker(dir);\n\n    var getOcDialog = event.target.closest('.oc-dialog');\n    var buttonEnableDisable = $('.primary', getOcDialog);\n\n    this._changeButtonsText(type, dir.split(/[/]+/).pop());\n\n    if (this.$filePicker.data('mimetype').indexOf('httpd/unix-directory') !== -1 || this.$filePicker.data('allowDirectoryChooser')) {\n      buttonEnableDisable.prop('disabled', false);\n    } else {\n      buttonEnableDisable.prop('disabled', true);\n    }\n  },\n\n  /**\n   * handle clicks made in the filepicker\n   */\n  _handlePickerClick: function (event, $element, type) {\n    var getOcDialog = this.$filePicker.closest('.oc-dialog');\n    var buttonEnableDisable = getOcDialog.find('.primary');\n\n    if ($element.data('type') === 'file') {\n      if (this.$filePicker.data('multiselect') !== true || !event.ctrlKey) {\n        this.$filelist.find('.filepicker_element_selected').removeClass('filepicker_element_selected');\n      }\n\n      $element.toggleClass('filepicker_element_selected');\n      buttonEnableDisable.prop('disabled', false);\n    } else if ($element.data('type') === 'dir') {\n      this._fillFilePicker(this.$filePicker.data('path') + '/' + $element.data('entryname'));\n\n      this._changeButtonsText(type, $element.data('entryname'));\n\n      if (this.$filePicker.data('mimetype').indexOf('httpd/unix-directory') !== -1 || this.$filePicker.data('allowDirectoryChooser')) {\n        buttonEnableDisable.prop('disabled', false);\n      } else {\n        buttonEnableDisable.prop('disabled', true);\n      }\n    }\n  },\n\n  /**\n   * Handle\n   * @param type of action\n   * @param dir on which to change buttons text\n   * @private\n   */\n  _changeButtonsText: function (type, dir) {\n    var copyText = dir === '' ? t('core', 'Copy') : t('core', 'Copy to {folder}', {\n      folder: dir\n    });\n    var moveText = dir === '' ? t('core', 'Move') : t('core', 'Move to {folder}', {\n      folder: dir\n    });\n    var buttons = $('.oc-dialog-buttonrow button');\n\n    switch (type) {\n      case this.FILEPICKER_TYPE_CHOOSE:\n        break;\n\n      case this.FILEPICKER_TYPE_CUSTOM:\n        break;\n\n      case this.FILEPICKER_TYPE_COPY:\n        buttons.text(copyText);\n        break;\n\n      case this.FILEPICKER_TYPE_MOVE:\n        buttons.text(moveText);\n        break;\n\n      case this.FILEPICKER_TYPE_COPY_MOVE:\n        buttons.eq(0).text(copyText);\n        buttons.eq(1).text(moveText);\n        break;\n    }\n  }\n};\nexport default Dialogs;","/**\n * @copyright 2012 Robin Appelman icewind1991@gmail.com\n *\n * @author Arthur Schiwon <blizzz@arthur-schiwon.de>\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Lukas Reschke <lukas@statuscode.ch>\n * @author Robin Appelman <robin@icewind.nl>\n * @author Thomas Mller <thomas.mueller@tmit.eu>\n * @author Vincent Petry <vincent@nextcloud.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/* eslint-disable */\nimport $ from 'jquery';\nimport { getToken } from './requesttoken';\n/**\n * Create a new event source\n * @param {string} src\n * @param {object} [data] to be send as GET\n *\n * @constructs OCEventSource\n */\n\nconst OCEventSource = function (src, data) {\n  var dataStr = '';\n  var name;\n  var joinChar;\n  this.typelessListeners = [];\n  this.closed = false;\n  this.listeners = {};\n\n  if (data) {\n    for (name in data) {\n      dataStr += name + '=' + encodeURIComponent(data[name]) + '&';\n    }\n  }\n\n  dataStr += 'requesttoken=' + encodeURIComponent(getToken());\n\n  if (!this.useFallBack && typeof EventSource !== 'undefined') {\n    joinChar = '&';\n\n    if (src.indexOf('?') === -1) {\n      joinChar = '?';\n    }\n\n    this.source = new EventSource(src + joinChar + dataStr);\n\n    this.source.onmessage = function (e) {\n      for (var i = 0; i < this.typelessListeners.length; i++) {\n        this.typelessListeners[i](JSON.parse(e.data));\n      }\n    }.bind(this);\n  } else {\n    var iframeId = 'oc_eventsource_iframe_' + OCEventSource.iframeCount;\n    OCEventSource.fallBackSources[OCEventSource.iframeCount] = this;\n    this.iframe = $('<iframe/>');\n    this.iframe.attr('id', iframeId);\n    this.iframe.hide();\n    joinChar = '&';\n\n    if (src.indexOf('?') === -1) {\n      joinChar = '?';\n    }\n\n    this.iframe.attr('src', src + joinChar + 'fallback=true&fallback_id=' + OCEventSource.iframeCount + '&' + dataStr);\n    $('body').append(this.iframe);\n    this.useFallBack = true;\n    OCEventSource.iframeCount++;\n  } // add close listener\n\n\n  this.listen('__internal__', function (data) {\n    if (data === 'close') {\n      this.close();\n    }\n  }.bind(this));\n};\n\nOCEventSource.fallBackSources = [];\nOCEventSource.iframeCount = 0; // number of fallback iframes\n\nOCEventSource.fallBackCallBack = function (id, type, data) {\n  OCEventSource.fallBackSources[id].fallBackCallBack(type, data);\n};\n\nOCEventSource.prototype = {\n  typelessListeners: [],\n  iframe: null,\n  listeners: {},\n  // only for fallback\n  useFallBack: false,\n\n  /**\n   * Fallback callback for browsers that don't have the\n   * native EventSource object.\n   *\n   * Calls the registered listeners.\n   *\n   * @private\n   * @param {String} type event type\n   * @param {Object} data received data\n   */\n  fallBackCallBack: function (type, data) {\n    var i; // ignore messages that might appear after closing\n\n    if (this.closed) {\n      return;\n    }\n\n    if (type) {\n      if (typeof this.listeners.done !== 'undefined') {\n        for (i = 0; i < this.listeners[type].length; i++) {\n          this.listeners[type][i](data);\n        }\n      }\n    } else {\n      for (i = 0; i < this.typelessListeners.length; i++) {\n        this.typelessListeners[i](data);\n      }\n    }\n  },\n  lastLength: 0,\n  // for fallback\n\n  /**\n   * Listen to a given type of events.\n   *\n   * @param {String} type event type\n   * @param {Function} callback event callback\n   */\n  listen: function (type, callback) {\n    if (callback && callback.call) {\n      if (type) {\n        if (this.useFallBack) {\n          if (!this.listeners[type]) {\n            this.listeners[type] = [];\n          }\n\n          this.listeners[type].push(callback);\n        } else {\n          this.source.addEventListener(type, function (e) {\n            if (typeof e.data !== 'undefined') {\n              callback(JSON.parse(e.data));\n            } else {\n              callback('');\n            }\n          }, false);\n        }\n      } else {\n        this.typelessListeners.push(callback);\n      }\n    }\n  },\n\n  /**\n   * Closes this event source.\n   */\n  close: function () {\n    this.closed = true;\n\n    if (typeof this.source !== 'undefined') {\n      this.source.close();\n    }\n  }\n};\nexport default OCEventSource;","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nexport const get = context => name => {\n  const namespaces = name.split('.');\n  const tail = namespaces.pop();\n\n  for (let i = 0; i < namespaces.length; i++) {\n    context = context[namespaces[i]];\n\n    if (!context) {\n      return false;\n    }\n  }\n\n  return context[tail];\n};\n/**\n * Set a variable by name\n *\n * @param {string} context context\n * @return {Function} setter\n * @deprecated 19.0.0 use https://lodash.com/docs#set\n */\n\nexport const set = context => (name, value) => {\n  const namespaces = name.split('.');\n  const tail = namespaces.pop();\n\n  for (let i = 0; i < namespaces.length; i++) {\n    if (!context[namespaces[i]]) {\n      context[namespaces[i]] = {};\n    }\n\n    context = context[namespaces[i]];\n  }\n\n  context[tail] = value;\n  return value;\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nexport const getProtocol = () => window.location.protocol.split(':')[0];\n/**\n * Returns the host used to access this Nextcloud instance\n * Host is sometimes the same as the hostname but now always.\n *\n * Examples:\n * http://example.com => example.com\n * https://example.com => example.com\n * http://example.com:8080 => example.com:8080\n *\n * @return {string} host\n *\n * @since 8.2\n * @deprecated 17.0.0 use window.location.host directly\n */\n\nexport const getHost = () => window.location.host;\n/**\n * Returns the hostname used to access this Nextcloud instance\n * The hostname is always stripped of the port\n *\n * @return {string} hostname\n * @since 9.0\n * @deprecated 17.0.0 use window.location.hostname directly\n */\n\nexport const getHostName = () => window.location.hostname;\n/**\n * Returns the port number used to access this Nextcloud instance\n *\n * @return {int} port number\n *\n * @since 8.2\n * @deprecated 17.0.0 use window.location.port directly\n */\n\nexport const getPort = () => window.location.port;","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport { subscribe } from '@nextcloud/event-bus';\nimport { addScript, addStyle } from './legacy-loader';\nimport { ajaxConnectionLostHandler, processAjaxError, registerXHRForErrorProcessing } from './xhr-error';\nimport Apps from './apps';\nimport { AppConfig, appConfig } from './appconfig';\nimport { appSettings } from './appsettings';\nimport appswebroots from './appswebroots';\nimport Backbone from './backbone';\nimport { basename, dirname, encodePath, isSamePath, joinPaths } from '@nextcloud/paths';\nimport { build as buildQueryString, parse as parseQueryString } from './query-string';\nimport Config from './config';\nimport { coreApps, menuSpeed, PERMISSION_ALL, PERMISSION_CREATE, PERMISSION_DELETE, PERMISSION_NONE, PERMISSION_READ, PERMISSION_SHARE, PERMISSION_UPDATE, TAG_FAVORITE } from './constants';\nimport ContactsMenu from './contactsmenu';\nimport { currentUser, getCurrentUser } from './currentuser';\nimport Dialogs from './dialogs';\nimport EventSource from './eventsource';\nimport { get, set } from './get_set';\nimport { getCapabilities } from './capabilities';\nimport { getHost, getHostName, getPort, getProtocol } from './host';\nimport { getToken as getRequestToken } from './requesttoken';\nimport { hideMenus, registerMenu, showMenu, unregisterMenu } from './menu';\nimport { isUserAdmin } from './admin';\nimport L10N, { getLanguage, getLocale } from './l10n';\nimport { getCanonicalLocale } from '@nextcloud/l10n';\nimport { generateUrl, generateFilePath, generateOcsUrl, generateRemoteUrl, getRootUrl, imagePath, linkTo } from '@nextcloud/router';\nimport { linkToRemoteBase } from './routing';\nimport msg from './msg';\nimport Notification from './notification';\nimport PasswordConfirmation from './password-confirmation';\nimport Plugins from './plugins';\nimport { theme } from './theme';\nimport Util from './util';\nimport { debug } from './debug';\nimport { redirect, reload } from './navigation';\nimport webroot from './webroot';\n/** @namespace OC */\n\nexport default {\n  /*\n   * Constants\n   */\n  coreApps,\n  menuSpeed,\n  PERMISSION_ALL,\n  PERMISSION_CREATE,\n  PERMISSION_DELETE,\n  PERMISSION_NONE,\n  PERMISSION_READ,\n  PERMISSION_SHARE,\n  PERMISSION_UPDATE,\n  TAG_FAVORITE,\n\n  /*\n   * Deprecated helpers to be removed\n   */\n\n  /**\n   * Check if a user file is allowed to be handled.\n   *\n   * @param {string} file to check\n   * @return {boolean}\n   * @deprecated 17.0.0\n   */\n  fileIsBlacklisted: file => !!file.match(Config.blacklist_files_regex),\n  addScript,\n  addStyle,\n  Apps,\n  AppConfig,\n  appConfig,\n  appSettings,\n  appswebroots,\n  Backbone,\n  ContactsMenu,\n  config: Config,\n\n  /**\n   * Currently logged in user or null if none\n   *\n   * @type String\n   * @deprecated use `getCurrentUser` from https://www.npmjs.com/package/@nextcloud/auth\n   */\n  currentUser,\n  dialogs: Dialogs,\n  EventSource,\n\n  /**\n   * Returns the currently logged in user or null if there is no logged in\n   * user (public page mode)\n   *\n   * @since 9.0.0\n   * @deprecated 19.0.0 use `getCurrentUser` from https://www.npmjs.com/package/@nextcloud/auth\n   */\n  getCurrentUser,\n  isUserAdmin,\n  L10N,\n\n  /**\n   * Ajax error handlers\n   *\n   * @todo remove from here and keep internally -> requires new tests\n   */\n  _ajaxConnectionLostHandler: ajaxConnectionLostHandler,\n  _processAjaxError: processAjaxError,\n  registerXHRForErrorProcessing,\n\n  /**\n   * Capabilities\n   *\n   * @type {Array}\n   * @deprecated 20.0.0 use @nextcloud/capabilities instead\n   */\n  getCapabilities,\n\n  /*\n   * Legacy menu helpers\n   */\n  hideMenus,\n  registerMenu,\n  showMenu,\n  unregisterMenu,\n\n  /*\n   * Path helpers\n   */\n\n  /**\n   * @deprecated 18.0.0 use https://www.npmjs.com/package/@nextcloud/paths\n   */\n  basename,\n\n  /**\n   * @deprecated 18.0.0 use https://www.npmjs.com/package/@nextcloud/paths\n   */\n  encodePath,\n\n  /**\n   * @deprecated 18.0.0 use https://www.npmjs.com/package/@nextcloud/paths\n   */\n  dirname,\n\n  /**\n   * @deprecated 18.0.0 use https://www.npmjs.com/package/@nextcloud/paths\n   */\n  isSamePath,\n\n  /**\n   * @deprecated 18.0.0 use https://www.npmjs.com/package/@nextcloud/paths\n   */\n  joinPaths,\n\n  /**\n   * Host (url) helpers\n   */\n  getHost,\n  getHostName,\n  getPort,\n  getProtocol,\n\n  /**\n   * @deprecated 20.0.0 use `getCanonicalLocale` from https://www.npmjs.com/package/@nextcloud/l10n\n   */\n  getCanonicalLocale,\n  getLocale,\n  getLanguage,\n\n  /**\n   * Loads translations for the given app asynchronously.\n   *\n   * @param {string} app app name\n   * @param {Function} callback callback to call after loading\n   * @return {Promise}\n   * @deprecated 17.0.0 use OC.L10N.load instead\n   */\n  addTranslations: L10N.load,\n\n  /**\n   * Query string helpers\n   */\n  buildQueryString,\n  parseQueryString,\n  msg,\n  Notification,\n  PasswordConfirmation,\n  Plugins,\n  theme,\n  Util,\n  debug,\n\n  /**\n   * @deprecated 19.0.0 use `generateFilePath` from https://www.npmjs.com/package/@nextcloud/router\n   */\n  filePath: generateFilePath,\n\n  /**\n   * @deprecated 19.0.0 use `generateUrl` from https://www.npmjs.com/package/@nextcloud/router\n   */\n  generateUrl,\n\n  /**\n   * @deprecated 19.0.0 use https://lodash.com/docs#get\n   */\n  get: get(window),\n\n  /**\n   * @deprecated 19.0.0 use https://lodash.com/docs#set\n   */\n  set: set(window),\n\n  /**\n   * @deprecated 19.0.0 use `getRootUrl` from https://www.npmjs.com/package/@nextcloud/router\n   */\n  getRootPath: getRootUrl,\n\n  /**\n   * @deprecated 19.0.0 use `imagePath` from https://www.npmjs.com/package/@nextcloud/router\n   */\n  imagePath,\n  redirect,\n  reload,\n  requestToken: getRequestToken(),\n\n  /**\n   * @deprecated 19.0.0 use `linkTo` from https://www.npmjs.com/package/@nextcloud/router\n   */\n  linkTo,\n\n  /**\n   * @param {string} service service name\n   * @param {number} version OCS API version\n   * @return {string} OCS API base path\n   * @deprecated 19.0.0 use `generateOcsUrl` from https://www.npmjs.com/package/@nextcloud/router\n   */\n  linkToOCS: (service, version) => {\n    return generateOcsUrl(service, {}, {\n      ocsVersion: version || 1\n    }) + '/';\n  },\n\n  /**\n   * @deprecated 19.0.0 use `generateRemoteUrl` from https://www.npmjs.com/package/@nextcloud/router\n   */\n  linkToRemote: generateRemoteUrl,\n  linkToRemoteBase,\n\n  /**\n   * Relative path to Nextcloud root.\n   * For example: \"/nextcloud\"\n   *\n   * @type string\n   *\n   * @deprecated 19.0.0 use `getRootUrl` from https://www.npmjs.com/package/@nextcloud/router\n   * @see OC#getRootPath\n   */\n  webroot\n}; // Keep the request token prop in sync\n\nsubscribe('csrf-token-update', e => {\n  OC.requestToken = e.token; // Logging might help debug (Sentry) issues\n\n  console.info('OC.requestToken changed', e.token);\n});","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n// This var is global because it's shared across webpack bundles\nwindow._oc_l10n_registry_translations = window._oc_l10n_registry_translations || {};\nwindow._oc_l10n_registry_plural_functions = window._oc_l10n_registry_plural_functions || {};\n/**\n * @param {string} appId the app id\n * @param {object} translations the translations list\n * @param {Function} pluralFunction the translations list\n */\n\nconst register = (appId, translations, pluralFunction) => {\n  window._oc_l10n_registry_translations[appId] = translations;\n  window._oc_l10n_registry_plural_functions[appId] = pluralFunction;\n};\n/**\n * @param {string} appId the app id\n * @param {object} translations the translations list\n * @param {Function} pluralFunction the translations list\n */\n\n\nconst extend = (appId, translations, pluralFunction) => {\n  window._oc_l10n_registry_translations[appId] = Object.assign(window._oc_l10n_registry_translations[appId], translations);\n  window._oc_l10n_registry_plural_functions[appId] = pluralFunction;\n};\n/**\n * @param {string} appId the app id\n * @param {object} translations the translations list\n * @param {Function} pluralFunction the translations list\n */\n\n\nexport const registerAppTranslations = (appId, translations, pluralFunction) => {\n  if (!hasAppTranslations(appId)) {\n    register(appId, translations, pluralFunction);\n  } else {\n    extend(appId, translations, pluralFunction);\n  }\n};\n/**\n * @param {string} appId the app id\n */\n\nexport const unregisterAppTranslations = appId => {\n  delete window._oc_l10n_registry_translations[appId];\n  delete window._oc_l10n_registry_plural_functions[appId];\n};\n/**\n * @param {string} appId the app id\n * @return {boolean}\n */\n\nexport const hasAppTranslations = appId => {\n  return window._oc_l10n_registry_translations[appId] !== undefined && window._oc_l10n_registry_plural_functions[appId] !== undefined;\n};\n/**\n * @param {string} appId the app id\n * @return {object}\n */\n\nexport const getAppTranslations = appId => {\n  return {\n    translations: window._oc_l10n_registry_translations[appId] || {},\n    pluralFunction: window._oc_l10n_registry_plural_functions[appId]\n  };\n};","/**\n * Copyright (c) 2014 Vincent Petry <pvince81@owncloud.com>\n * Copyright (c) 2005-2010 Zend Technologies USA Inc. (http://www.zend.com)\n * Copyright (c) 2005-2010 Zend Technologies USA Inc. (http://www.zend.com)\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author Daniel Kesselberg <mail@danielkesselberg.de>\n * @author Joas Schilling <coding@schilljs.com>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Morris Jobke <hey@morrisjobke.de>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n * @author Vincent Petry <vincent@nextcloud.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport _ from 'underscore';\nimport $ from 'jquery';\nimport DOMPurify from 'dompurify';\nimport Handlebars from 'handlebars';\nimport identity from 'lodash/fp/identity';\nimport escapeHTML from 'escape-html';\nimport { generateFilePath } from '@nextcloud/router';\nimport OC from './index';\nimport { getAppTranslations, hasAppTranslations, registerAppTranslations, unregisterAppTranslations } from './l10n-registry';\n/**\n * L10N namespace with localization functions.\n *\n * @namespace OC.L10n\n */\n\nconst L10n = {\n  /**\n   * Load an app's translation bundle if not loaded already.\n   *\n   * @param {string} appName name of the app\n   * @param {Function} callback callback to be called when\n   * the translations are loaded\n   * @return {Promise} promise\n   */\n  load(appName, callback) {\n    // already available ?\n    if (hasAppTranslations(appName) || OC.getLocale() === 'en') {\n      const deferred = $.Deferred();\n      const promise = deferred.promise();\n      promise.then(callback);\n      deferred.resolve();\n      return promise;\n    }\n\n    const self = this;\n    const url = generateFilePath(appName, 'l10n', OC.getLocale() + '.json'); // load JSON translation bundle per AJAX\n\n    return $.get(url).then(function (result) {\n      if (result.translations) {\n        self.register(appName, result.translations, result.pluralForm);\n      }\n    }).then(callback);\n  },\n\n  /**\n   * Register an app's translation bundle.\n   *\n   * @param {string} appName name of the app\n   * @param {object<string, string>} bundle bundle\n   */\n  register(appName, bundle) {\n    registerAppTranslations(appName, bundle, this._getPlural);\n  },\n\n  /**\n   * @private\n   */\n  _unregister: unregisterAppTranslations,\n\n  /**\n   * Translate a string\n   *\n   * @param {string} app the id of the app for which to translate the string\n   * @param {string} text the string to translate\n   * @param {object} [vars] map of placeholder key to value\n   * @param {number} [count] number to replace %n with\n   * @param {Array} [options] options array\n   * @param {bool} [options.escape=true] enable/disable auto escape of placeholders (by default enabled)\n   * @param {bool} [options.sanitize=true] enable/disable sanitization (by default enabled)\n   * @return {string}\n   */\n  translate(app, text, vars, count, options) {\n    const defaultOptions = {\n      escape: true,\n      sanitize: true\n    };\n    const allOptions = options || {};\n\n    _.defaults(allOptions, defaultOptions);\n\n    const optSanitize = allOptions.sanitize ? DOMPurify.sanitize : identity;\n    const optEscape = allOptions.escape ? escapeHTML : identity; // TODO: cache this function to avoid inline recreation\n    // of the same function over and over again in case\n    // translate() is used in a loop\n\n    const _build = function (text, vars, count) {\n      return text.replace(/%n/g, count).replace(/{([^{}]*)}/g, function (a, b) {\n        const r = vars[b];\n\n        if (typeof r === 'string' || typeof r === 'number') {\n          return optSanitize(optEscape(r));\n        } else {\n          return optSanitize(a);\n        }\n      });\n    };\n\n    let translation = text;\n    const bundle = getAppTranslations(app);\n    const value = bundle.translations[text];\n\n    if (typeof value !== 'undefined') {\n      translation = value;\n    }\n\n    if (typeof vars === 'object' || count !== undefined) {\n      return optSanitize(_build(translation, vars, count));\n    } else {\n      return optSanitize(translation);\n    }\n  },\n\n  /**\n   * Translate a plural string\n   *\n   * @param {string} app the id of the app for which to translate the string\n   * @param {string} textSingular the string to translate for exactly one object\n   * @param {string} textPlural the string to translate for n objects\n   * @param {number} count number to determine whether to use singular or plural\n   * @param {object} [vars] map of placeholder key to value\n   * @param {Array} [options] options array\n   * @param {bool} [options.escape=true] enable/disable auto escape of placeholders (by default enabled)\n   * @return {string} Translated string\n   */\n  translatePlural(app, textSingular, textPlural, count, vars, options) {\n    const identifier = '_' + textSingular + '_::_' + textPlural + '_';\n    const bundle = getAppTranslations(app);\n    const value = bundle.translations[identifier];\n\n    if (typeof value !== 'undefined') {\n      const translation = value;\n\n      if ($.isArray(translation)) {\n        const plural = bundle.pluralFunction(count);\n        return this.translate(app, translation[plural], vars, count, options);\n      }\n    }\n\n    if (count === 1) {\n      return this.translate(app, textSingular, vars, count, options);\n    } else {\n      return this.translate(app, textPlural, vars, count, options);\n    }\n  },\n\n  /**\n   * The plural function taken from symfony\n   *\n   * @param {number} number the number of elements\n   * @return {number}\n   * @private\n   */\n  _getPlural(number) {\n    let language = OC.getLanguage();\n\n    if (language === 'pt-BR') {\n      // temporary set a locale for brazilian\n      language = 'xbr';\n    }\n\n    if (typeof language === 'undefined' || language === '') {\n      return number === 1 ? 0 : 1;\n    }\n\n    if (language.length > 3) {\n      language = language.substring(0, language.lastIndexOf('-'));\n    }\n    /*\n     * The plural rules are derived from code of the Zend Framework (2010-09-25),\n     * which is subject to the new BSD license (http://framework.zend.com/license/new-bsd).\n     * Copyright (c) 2005-2010 Zend Technologies USA Inc. (http://www.zend.com)\n     */\n\n\n    switch (language) {\n      case 'az':\n      case 'bo':\n      case 'dz':\n      case 'id':\n      case 'ja':\n      case 'jv':\n      case 'ka':\n      case 'km':\n      case 'kn':\n      case 'ko':\n      case 'ms':\n      case 'th':\n      case 'tr':\n      case 'vi':\n      case 'zh':\n        return 0;\n\n      case 'af':\n      case 'bn':\n      case 'bg':\n      case 'ca':\n      case 'da':\n      case 'de':\n      case 'el':\n      case 'en':\n      case 'eo':\n      case 'es':\n      case 'et':\n      case 'eu':\n      case 'fa':\n      case 'fi':\n      case 'fo':\n      case 'fur':\n      case 'fy':\n      case 'gl':\n      case 'gu':\n      case 'ha':\n      case 'he':\n      case 'hu':\n      case 'is':\n      case 'it':\n      case 'ku':\n      case 'lb':\n      case 'ml':\n      case 'mn':\n      case 'mr':\n      case 'nah':\n      case 'nb':\n      case 'ne':\n      case 'nl':\n      case 'nn':\n      case 'no':\n      case 'oc':\n      case 'om':\n      case 'or':\n      case 'pa':\n      case 'pap':\n      case 'ps':\n      case 'pt':\n      case 'so':\n      case 'sq':\n      case 'sv':\n      case 'sw':\n      case 'ta':\n      case 'te':\n      case 'tk':\n      case 'ur':\n      case 'zu':\n        return number === 1 ? 0 : 1;\n\n      case 'am':\n      case 'bh':\n      case 'fil':\n      case 'fr':\n      case 'gun':\n      case 'hi':\n      case 'hy':\n      case 'ln':\n      case 'mg':\n      case 'nso':\n      case 'xbr':\n      case 'ti':\n      case 'wa':\n        return number === 0 || number === 1 ? 0 : 1;\n\n      case 'be':\n      case 'bs':\n      case 'hr':\n      case 'ru':\n      case 'sh':\n      case 'sr':\n      case 'uk':\n        return number % 10 === 1 && number % 100 !== 11 ? 0 : number % 10 >= 2 && number % 10 <= 4 && (number % 100 < 10 || number % 100 >= 20) ? 1 : 2;\n\n      case 'cs':\n      case 'sk':\n        return number === 1 ? 0 : number >= 2 && number <= 4 ? 1 : 2;\n\n      case 'ga':\n        return number === 1 ? 0 : number === 2 ? 1 : 2;\n\n      case 'lt':\n        return number % 10 === 1 && number % 100 !== 11 ? 0 : number % 10 >= 2 && (number % 100 < 10 || number % 100 >= 20) ? 1 : 2;\n\n      case 'sl':\n        return number % 100 === 1 ? 0 : number % 100 === 2 ? 1 : number % 100 === 3 || number % 100 === 4 ? 2 : 3;\n\n      case 'mk':\n        return number % 10 === 1 ? 0 : 1;\n\n      case 'mt':\n        return number === 1 ? 0 : number === 0 || number % 100 > 1 && number % 100 < 11 ? 1 : number % 100 > 10 && number % 100 < 20 ? 2 : 3;\n\n      case 'lv':\n        return number === 0 ? 0 : number % 10 === 1 && number % 100 !== 11 ? 1 : 2;\n\n      case 'pl':\n        return number === 1 ? 0 : number % 10 >= 2 && number % 10 <= 4 && (number % 100 < 12 || number % 100 > 14) ? 1 : 2;\n\n      case 'cy':\n        return number === 1 ? 0 : number === 2 ? 1 : number === 8 || number === 11 ? 2 : 3;\n\n      case 'ro':\n        return number === 1 ? 0 : number === 0 || number % 100 > 0 && number % 100 < 20 ? 1 : 2;\n\n      case 'ar':\n        return number === 0 ? 0 : number === 1 ? 1 : number === 2 ? 2 : number % 100 >= 3 && number % 100 <= 10 ? 3 : number % 100 >= 11 && number % 100 <= 99 ? 4 : 5;\n\n      default:\n        return 0;\n    }\n  }\n\n};\nexport default L10n;\n/**\n * Returns the user's locale\n *\n * @return {string} locale string\n */\n\nexport const getLocale = () => {\n  var _$$data;\n\n  return (_$$data = $('html').data('locale')) !== null && _$$data !== void 0 ? _$$data : 'en';\n};\n/**\n * Returns the user's language\n *\n * @return {string} language string\n */\n\nexport const getLanguage = () => $('html').prop('lang');\nHandlebars.registerHelper('t', function (app, text) {\n  return L10n.translate(app, text);\n});","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\nimport { generateFilePath } from '@nextcloud/router';\nconst loadedScripts = {};\nconst loadedStyles = [];\n/**\n * Load a script for the server and load it. If the script is already loaded,\n * the event handler will be called directly\n *\n * @param {string} app the app id to which the script belongs\n * @param {string} script the filename of the script\n * @param {Function} ready event handler to be called when the script is loaded\n * @return {jQuery.Deferred}\n * @deprecated 16.0.0 Use OCP.Loader.loadScript\n */\n\nexport const addScript = (app, script, ready) => {\n  console.warn('OC.addScript is deprecated, use OCP.Loader.loadScript instead');\n  let deferred;\n  const path = generateFilePath(app, 'js', script + '.js');\n\n  if (!loadedScripts[path]) {\n    deferred = $.Deferred();\n    $.getScript(path, () => deferred.resolve());\n    loadedScripts[path] = deferred;\n  } else {\n    if (ready) {\n      ready();\n    }\n  }\n\n  return loadedScripts[path];\n};\n/**\n * Loads a CSS file\n *\n * @param {string} app the app id to which the css style belongs\n * @param {string} style the filename of the css file\n * @deprecated 16.0.0 Use OCP.Loader.loadStylesheet\n */\n\nexport const addStyle = (app, style) => {\n  console.warn('OC.addStyle is deprecated, use OCP.Loader.loadStylesheet instead');\n  const path = generateFilePath(app, 'css', style + '.css');\n\n  if (loadedStyles.indexOf(path) === -1) {\n    loadedStyles.push(path);\n\n    if (document.createStyleSheet) {\n      document.createStyleSheet(path);\n    } else {\n      style = $('<link rel=\"stylesheet\" type=\"text/css\" href=\"' + path + '\"/>');\n      $('head').append(style);\n    }\n  }\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author Daniel Calvio Snchez <danxuliu@gmail.com>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport _ from 'underscore';\nimport $ from 'jquery';\nimport { menuSpeed } from './constants';\nexport let currentMenu = null;\nexport let currentMenuToggle = null;\n/**\n * For menu toggling\n *\n * @param {jQuery} $toggle the toggle element\n * @param {jQuery} $menuEl the menu container element\n * @param {Function | undefined} toggle callback invoked everytime the menu is opened\n * @param {boolean} headerMenu is this a top right header menu?\n * @return {undefined}\n */\n\nexport const registerMenu = function ($toggle, $menuEl, toggle, headerMenu) {\n  $menuEl.addClass('menu');\n  const isClickableElement = $toggle.prop('tagName') === 'A' || $toggle.prop('tagName') === 'BUTTON'; // On link and button, the enter key trigger a click event\n  // Only use the click to avoid two fired events\n\n  $toggle.on(isClickableElement ? 'click.menu' : 'click.menu keyup.menu', function (event) {\n    // prevent the link event (append anchor to URL)\n    event.preventDefault(); // allow enter key as a trigger\n\n    if (event.key && event.key !== 'Enter') {\n      return;\n    }\n\n    if ($menuEl.is(currentMenu)) {\n      hideMenus();\n      return;\n    } else if (currentMenu) {\n      // another menu was open?\n      // close it\n      hideMenus();\n    }\n\n    if (headerMenu === true) {\n      $menuEl.parent().addClass('openedMenu');\n    } // Set menu to expanded\n\n\n    $toggle.attr('aria-expanded', true);\n    $menuEl.slideToggle(menuSpeed, toggle);\n    currentMenu = $menuEl;\n    currentMenuToggle = $toggle;\n  });\n};\n/**\n * Unregister a previously registered menu\n *\n * @param {jQuery} $toggle the toggle element\n * @param {jQuery} $menuEl the menu container element\n */\n\nexport const unregisterMenu = ($toggle, $menuEl) => {\n  // close menu if opened\n  if ($menuEl.is(currentMenu)) {\n    hideMenus();\n  }\n\n  $toggle.off('click.menu').removeClass('menutoggle');\n  $menuEl.removeClass('menu');\n};\n/**\n * Hides any open menus\n *\n * @param {Function} complete callback when the hiding animation is done\n */\n\nexport const hideMenus = function (complete) {\n  if (currentMenu) {\n    const lastMenu = currentMenu;\n    currentMenu.trigger(new $.Event('beforeHide'));\n    currentMenu.slideUp(menuSpeed, function () {\n      lastMenu.trigger(new $.Event('afterHide'));\n\n      if (complete) {\n        complete.apply(this, arguments);\n      }\n    });\n  } // Set menu to closed\n\n\n  $('.menutoggle').attr('aria-expanded', false);\n  $('.openedMenu').removeClass('openedMenu');\n  currentMenu = null;\n  currentMenuToggle = null;\n};\n/**\n * Shows a given element as menu\n *\n * @param {object} [$toggle=null] menu toggle\n * @param {object} $menuEl menu element\n * @param {Function} complete callback when the showing animation is done\n */\n\nexport const showMenu = ($toggle, $menuEl, complete) => {\n  if ($menuEl.is(currentMenu)) {\n    return;\n  }\n\n  hideMenus();\n  currentMenu = $menuEl;\n  currentMenuToggle = $toggle;\n  $menuEl.trigger(new $.Event('beforeShow'));\n  $menuEl.show();\n  $menuEl.trigger(new $.Event('afterShow')); // no animation\n\n  if (_.isFunction(complete)) {\n    complete();\n  }\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author rakekniven <mark.ziegler@rakekniven.de>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\n/**\n * A little class to manage a status field for a \"saving\" process.\n * It can be used to display a starting message (e.g. \"Saving...\") and then\n * replace it with a green success message or a red error message.\n *\n * @namespace OC.msg\n */\n\nexport default {\n  /**\n   * Displayes a \"Saving...\" message in the given message placeholder\n   *\n   * @param {object} selector    Placeholder to display the message in\n   */\n  startSaving(selector) {\n    this.startAction(selector, t('core', 'Saving '));\n  },\n\n  /**\n   * Displayes a custom message in the given message placeholder\n   *\n   * @param {object} selector    Placeholder to display the message in\n   * @param {string} message    Plain text message to display (no HTML allowed)\n   */\n  startAction(selector, message) {\n    $(selector).text(message).removeClass('success').removeClass('error').stop(true, true).show();\n  },\n\n  /**\n   * Displayes an success/error message in the given selector\n   *\n   * @param {object} selector    Placeholder to display the message in\n   * @param {object} response    Response of the server\n   * @param {object} response.data    Data of the servers response\n   * @param {string} response.data.message    Plain text message to display (no HTML allowed)\n   * @param {string} response.status    is being used to decide whether the message\n   * is displayed as an error/success\n   */\n  finishedSaving(selector, response) {\n    this.finishedAction(selector, response);\n  },\n\n  /**\n   * Displayes an success/error message in the given selector\n   *\n   * @param {object} selector    Placeholder to display the message in\n   * @param {object} response    Response of the server\n   * @param {object} response.data Data of the servers response\n   * @param {string} response.data.message Plain text message to display (no HTML allowed)\n   * @param {string} response.status is being used to decide whether the message\n   * is displayed as an error/success\n   */\n  finishedAction(selector, response) {\n    if (response.status === 'success') {\n      this.finishedSuccess(selector, response.data.message);\n    } else {\n      this.finishedError(selector, response.data.message);\n    }\n  },\n\n  /**\n   * Displayes an success message in the given selector\n   *\n   * @param {object} selector Placeholder to display the message in\n   * @param {string} message Plain text success message to display (no HTML allowed)\n   */\n  finishedSuccess(selector, message) {\n    $(selector).text(message).addClass('success').removeClass('error').stop(true, true).delay(3000).fadeOut(900).show();\n  },\n\n  /**\n   * Displayes an error message in the given selector\n   *\n   * @param {object} selector Placeholder to display the message in\n   * @param {string} message Plain text error message to display (no HTML allowed)\n   */\n  finishedError(selector, message) {\n    $(selector).text(message).addClass('error').removeClass('success').show();\n  }\n\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nexport const redirect = targetURL => {\n  window.location = targetURL;\n};\n/**\n * Reloads the current page\n *\n * @deprecated 17.0.0 use window.location.reload directly\n */\n\nexport const reload = () => {\n  window.location.reload();\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author Daniel Calvio Snchez <danxuliu@gmail.com>\n * @author Joas Schilling <coding@schilljs.com>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Julius Hrtl <jus@bitgrid.net>\n * @author npmbuildbot[bot] \"npmbuildbot[bot]@users.noreply.github.com\"\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport _ from 'underscore';\nimport $ from 'jquery';\nimport { showMessage, TOAST_DEFAULT_TIMEOUT, TOAST_PERMANENT_TIMEOUT } from '@nextcloud/dialogs';\n/**\n * @todo Write documentation\n * @deprecated 17.0.0 use the `@nextcloud/dialogs` package instead\n * @namespace OC.Notification\n */\n\nexport default {\n  updatableNotification: null,\n  getDefaultNotificationFunction: null,\n\n  /**\n   * @param {Function} callback callback function\n   * @deprecated 17.0.0 use the `@nextcloud/dialogs` package\n   */\n  setDefault(callback) {\n    this.getDefaultNotificationFunction = callback;\n  },\n\n  /**\n   * Hides a notification.\n   *\n   * If a row is given, only hide that one.\n   * If no row is given, hide all notifications.\n   *\n   * @param {jQuery} [$row] notification row\n   * @param {Function} [callback] callback\n   * @deprecated 17.0.0 use the `@nextcloud/dialogs` package\n   */\n  hide($row, callback) {\n    if (_.isFunction($row)) {\n      // first arg is the callback\n      callback = $row;\n      $row = undefined;\n    }\n\n    if (!$row) {\n      console.error('Missing argument $row in OC.Notification.hide() call, caller needs to be adjusted to only dismiss its own notification');\n      return;\n    } // remove the row directly\n\n\n    $row.each(function () {\n      if ($(this)[0].toastify) {\n        $(this)[0].toastify.hideToast();\n      } else {\n        console.error('cannot hide toast because object is not set');\n      }\n\n      if (this === this.updatableNotification) {\n        this.updatableNotification = null;\n      }\n    });\n\n    if (callback) {\n      callback.call();\n    }\n\n    if (this.getDefaultNotificationFunction) {\n      this.getDefaultNotificationFunction();\n    }\n  },\n\n  /**\n   * Shows a notification as HTML without being sanitized before.\n   * If you pass unsanitized user input this may lead to a XSS vulnerability.\n   * Consider using show() instead of showHTML()\n   *\n   * @param {string} html Message to display\n   * @param {object} [options] options\n   * @param {string} [options.type] notification type\n   * @param {int} [options.timeout=0] timeout value, defaults to 0 (permanent)\n   * @return {jQuery} jQuery element for notification row\n   * @deprecated 17.0.0 use the `@nextcloud/dialogs` package\n   */\n  showHtml(html, options) {\n    options = options || {};\n    options.isHTML = true;\n    options.timeout = !options.timeout ? TOAST_PERMANENT_TIMEOUT : options.timeout;\n    const toast = showMessage(html, options);\n    toast.toastElement.toastify = toast;\n    return $(toast.toastElement);\n  },\n\n  /**\n   * Shows a sanitized notification\n   *\n   * @param {string} text Message to display\n   * @param {object} [options] options\n   * @param {string} [options.type] notification type\n   * @param {int} [options.timeout=0] timeout value, defaults to 0 (permanent)\n   * @return {jQuery} jQuery element for notification row\n   * @deprecated 17.0.0 use the `@nextcloud/dialogs` package\n   */\n  show(text, options) {\n    const escapeHTML = function (text) {\n      return text.toString().split('&').join('&amp;').split('<').join('&lt;').split('>').join('&gt;').split('\"').join('&quot;').split('\\'').join('&#039;');\n    };\n\n    options = options || {};\n    options.timeout = !options.timeout ? TOAST_PERMANENT_TIMEOUT : options.timeout;\n    const toast = showMessage(escapeHTML(text), options);\n    toast.toastElement.toastify = toast;\n    return $(toast.toastElement);\n  },\n\n  /**\n   * Updates (replaces) a sanitized notification.\n   *\n   * @param {string} text Message to display\n   * @return {jQuery} JQuery element for notificaiton row\n   * @deprecated 17.0.0 use the `@nextcloud/dialogs` package\n   */\n  showUpdate(text) {\n    if (this.updatableNotification) {\n      this.updatableNotification.hideToast();\n    }\n\n    this.updatableNotification = showMessage(text, {\n      timeout: TOAST_PERMANENT_TIMEOUT\n    });\n    this.updatableNotification.toastElement.toastify = this.updatableNotification;\n    return $(this.updatableNotification.toastElement);\n  },\n\n  /**\n   * Shows a notification that disappears after x seconds, default is\n   * 7 seconds\n   *\n   * @param {string} text Message to show\n   * @param {Array} [options] options array\n   * @param {int} [options.timeout=7] timeout in seconds, if this is 0 it will show the message permanently\n   * @param {boolean} [options.isHTML=false] an indicator for HTML notifications (true) or text (false)\n   * @param {string} [options.type] notification type\n   * @return {JQuery<any>} the toast element\n   * @deprecated 17.0.0 use the `@nextcloud/dialogs` package\n   */\n  showTemporary(text, options) {\n    options = options || {};\n    options.timeout = options.timeout || TOAST_DEFAULT_TIMEOUT;\n    const toast = showMessage(text, options);\n    toast.toastElement.toastify = toast;\n    return $(toast.toastElement);\n  },\n\n  /**\n   * Returns whether a notification is hidden.\n   *\n   * @return {boolean}\n   * @deprecated 17.0.0 use the `@nextcloud/dialogs` package\n   */\n  isHidden() {\n    return !$('#content').find('.toastify').length;\n  }\n\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport _ from 'underscore';\nimport $ from 'jquery';\nimport moment from 'moment';\nimport { generateUrl } from '@nextcloud/router';\nimport OC from './index';\n/**\n * @namespace OC.PasswordConfirmation\n */\n\nexport default {\n  callback: null,\n  pageLoadTime: null,\n\n  init() {\n    $('.password-confirm-required').on('click', _.bind(this.requirePasswordConfirmation, this));\n    this.pageLoadTime = moment.now();\n  },\n\n  requiresPasswordConfirmation() {\n    const serverTimeDiff = this.pageLoadTime - window.nc_pageLoad * 1000;\n    const timeSinceLogin = moment.now() - (serverTimeDiff + window.nc_lastLogin * 1000); // if timeSinceLogin > 30 minutes and user backend allows password confirmation\n\n    return window.backendAllowsPasswordConfirmation && timeSinceLogin > 30 * 60 * 1000;\n  },\n\n  /**\n   * @param {Function} callback success callback function\n   * @param {object} options options\n   * @param {Function} rejectCallback error callback function\n   */\n  requirePasswordConfirmation(callback, options, rejectCallback) {\n    options = typeof options !== 'undefined' ? options : {};\n    const defaults = {\n      title: t('core', 'Authentication required'),\n      text: t('core', 'This action requires you to confirm your password'),\n      confirm: t('core', 'Confirm'),\n      label: t('core', 'Password'),\n      error: ''\n    };\n\n    const config = _.extend(defaults, options);\n\n    const self = this;\n\n    if (this.requiresPasswordConfirmation()) {\n      OC.dialogs.prompt(config.text, config.title, function (result, password) {\n        if (result && password !== '') {\n          self._confirmPassword(password, config);\n        } else if (_.isFunction(rejectCallback)) {\n          rejectCallback();\n        }\n      }, true, config.label, true).then(function () {\n        const $dialog = $('.oc-dialog:visible');\n        $dialog.find('.ui-icon').remove();\n        $dialog.addClass('password-confirmation');\n\n        if (config.error !== '') {\n          const $error = $('<p></p>').addClass('msg warning').text(config.error);\n          $dialog.find('.oc-dialog-content').append($error);\n        }\n\n        $dialog.find('.oc-dialog-buttonrow').addClass('aside');\n        const $buttons = $dialog.find('button');\n        $buttons.eq(0).hide();\n        $buttons.eq(1).text(config.confirm);\n      });\n    }\n\n    this.callback = callback;\n  },\n\n  _confirmPassword(password, config) {\n    const self = this;\n    $.ajax({\n      url: generateUrl('/login/confirm'),\n      data: {\n        password\n      },\n      type: 'POST',\n\n      success(response) {\n        window.nc_lastLogin = response.lastLogin;\n\n        if (_.isFunction(self.callback)) {\n          self.callback();\n        }\n      },\n\n      error() {\n        config.error = t('core', 'Failed to authenticate, try again');\n        OC.PasswordConfirmation.requirePasswordConfirmation(self.callback, config);\n      }\n\n    });\n  }\n\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nexport default {\n  /**\n   * @type Array.<OC.Plugin>\n   */\n  _plugins: {},\n\n  /**\n   * Register plugin\n   *\n   * @param {string} targetName app name / class name to hook into\n   * @param {OC.Plugin} plugin plugin\n   */\n  register(targetName, plugin) {\n    let plugins = this._plugins[targetName];\n\n    if (!plugins) {\n      plugins = this._plugins[targetName] = [];\n    }\n\n    plugins.push(plugin);\n  },\n\n  /**\n   * Returns all plugin registered to the given target\n   * name / app name / class name.\n   *\n   * @param {string} targetName app name / class name to hook into\n   * @return {Array.<OC.Plugin>} array of plugins\n   */\n  getPlugins(targetName) {\n    return this._plugins[targetName] || [];\n  },\n\n  /**\n   * Call attach() on all plugins registered to the given target name.\n   *\n   * @param {string} targetName app name / class name\n   * @param {object} targetObject to be extended\n   * @param {object} [options] options\n   */\n  attach(targetName, targetObject, options) {\n    const plugins = this.getPlugins(targetName);\n\n    for (let i = 0; i < plugins.length; i++) {\n      if (plugins[i].attach) {\n        plugins[i].attach(targetObject, options);\n      }\n    }\n  },\n\n  /**\n   * Call detach() on all plugins registered to the given target name.\n   *\n   * @param {string} targetName app name / class name\n   * @param {object} targetObject to be extended\n   * @param {object} [options] options\n   */\n  detach(targetName, targetObject, options) {\n    const plugins = this.getPlugins(targetName);\n\n    for (let i = 0; i < plugins.length; i++) {\n      if (plugins[i].detach) {\n        plugins[i].detach(targetObject, options);\n      }\n    }\n  }\n\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\n/**\n * Parses a URL query string into a JS map\n *\n * @param {string} queryString query string in the format param1=1234&param2=abcde&param3=xyz\n * @return {object.<string, string>} map containing key/values matching the URL parameters\n */\n\nexport const parse = queryString => {\n  let pos;\n  let components;\n  const result = {};\n  let key;\n\n  if (!queryString) {\n    return null;\n  }\n\n  pos = queryString.indexOf('?');\n\n  if (pos >= 0) {\n    queryString = queryString.substr(pos + 1);\n  }\n\n  const parts = queryString.replace(/\\+/g, '%20').split('&');\n\n  for (let i = 0; i < parts.length; i++) {\n    // split on first equal sign\n    const part = parts[i];\n    pos = part.indexOf('=');\n\n    if (pos >= 0) {\n      components = [part.substr(0, pos), part.substr(pos + 1)];\n    } else {\n      // key only\n      components = [part];\n    }\n\n    if (!components.length) {\n      continue;\n    }\n\n    key = decodeURIComponent(components[0]);\n\n    if (!key) {\n      continue;\n    } // if equal sign was there, return string\n\n\n    if (components.length > 1) {\n      result[key] = decodeURIComponent(components[1]);\n    } else {\n      // no equal sign => null value\n      result[key] = null;\n    }\n  }\n\n  return result;\n};\n/**\n * Builds a URL query from a JS map.\n *\n * @param {object.<string, string>} params map containing key/values matching the URL parameters\n * @return {string} String containing a URL query (without question) mark\n */\n\nexport const build = params => {\n  if (!params) {\n    return '';\n  }\n\n  return $.map(params, function (value, key) {\n    let s = encodeURIComponent(key);\n\n    if (value !== null && typeof value !== 'undefined') {\n      s += '=' + encodeURIComponent(value);\n    }\n\n    return s;\n  }).join('&');\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport { emit } from '@nextcloud/event-bus';\n/**\n * @private\n * @param {Document} global the document to read the initial value from\n * @param {Function} emit the function to invoke for every new token\n * @return {object}\n */\n\nexport const manageToken = (global, emit) => {\n  let token = global.getElementsByTagName('head')[0].getAttribute('data-requesttoken');\n  return {\n    getToken: () => token,\n    setToken: newToken => {\n      token = newToken;\n      emit('csrf-token-update', {\n        token\n      });\n    }\n  };\n};\nconst manageFromDocument = manageToken(document, emit);\n/**\n * @return {string}\n */\n\nexport const getToken = manageFromDocument.getToken;\n/**\n * @param {string} newToken new token\n */\n\nexport const setToken = manageFromDocument.setToken;","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport { getRootUrl as realGetRootUrl } from '@nextcloud/router';\n/**\n * Creates a relative url for remote use\n *\n * @param {string} service id\n * @return {string} the url\n */\n\nexport const linkToRemoteBase = service => {\n  return realGetRootUrl() + '/remote.php/' + service;\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nexport const theme = window._theme || {};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport _ from 'underscore';\nimport OC from './index';\n/**\n * Utility class for the history API,\n * includes fallback to using the URL hash when\n * the browser doesn't support the history API.\n *\n * @namespace OC.Util.History\n */\n\nexport default {\n  _handlers: [],\n\n  /**\n   * Push the current URL parameters to the history stack\n   * and change the visible URL.\n   * Note: this includes a workaround for IE8/IE9 that uses\n   * the hash part instead of the search part.\n   *\n   * @param {object | string} params to append to the URL, can be either a string\n   * or a map\n   * @param {string} [url] URL to be used, otherwise the current URL will be used,\n   * using the params as query string\n   * @param {boolean} [replace=false] whether to replace instead of pushing\n   */\n  _pushState(params, url, replace) {\n    let strParams;\n\n    if (typeof params === 'string') {\n      strParams = params;\n    } else {\n      strParams = OC.buildQueryString(params);\n    }\n\n    if (window.history.pushState) {\n      url = url || location.pathname + '?' + strParams; // Workaround for bug with SVG and window.history.pushState on Firefox < 51\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=652991\n\n      const isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n\n      if (isFirefox && parseInt(navigator.userAgent.split('/').pop()) < 51) {\n        const patterns = document.querySelectorAll('[fill^=\"url(#\"], [stroke^=\"url(#\"], [filter^=\"url(#invert\"]');\n\n        for (let i = 0, ii = patterns.length, pattern; i < ii; i++) {\n          pattern = patterns[i]; // eslint-disable-next-line no-self-assign\n\n          pattern.style.fill = pattern.style.fill; // eslint-disable-next-line no-self-assign\n\n          pattern.style.stroke = pattern.style.stroke;\n          pattern.removeAttribute('filter');\n          pattern.setAttribute('filter', 'url(#invert)');\n        }\n      }\n\n      if (replace) {\n        window.history.replaceState(params, '', url);\n      } else {\n        window.history.pushState(params, '', url);\n      }\n    } else {\n      // use URL hash for IE8\n      window.location.hash = '?' + strParams; // inhibit next onhashchange that just added itself\n      // to the event queue\n\n      this._cancelPop = true;\n    }\n  },\n\n  /**\n   * Push the current URL parameters to the history stack\n   * and change the visible URL.\n   * Note: this includes a workaround for IE8/IE9 that uses\n   * the hash part instead of the search part.\n   *\n   * @param {object | string} params to append to the URL, can be either a string or a map\n   * @param {string} [url] URL to be used, otherwise the current URL will be used, using the params as query string\n   */\n  pushState(params, url) {\n    this._pushState(params, url, false);\n  },\n\n  /**\n   * Push the current URL parameters to the history stack\n   * and change the visible URL.\n   * Note: this includes a workaround for IE8/IE9 that uses\n   * the hash part instead of the search part.\n   *\n   * @param {object | string} params to append to the URL, can be either a string\n   * or a map\n   * @param {string} [url] URL to be used, otherwise the current URL will be used,\n   * using the params as query string\n   */\n  replaceState(params, url) {\n    this._pushState(params, url, true);\n  },\n\n  /**\n   * Add a popstate handler\n   *\n   * @param {Function} handler handler\n   */\n  addOnPopStateHandler(handler) {\n    this._handlers.push(handler);\n  },\n\n  /**\n   * Parse a query string from the hash part of the URL.\n   * (workaround for IE8 / IE9)\n   *\n   * @return {string}\n   */\n  _parseHashQuery() {\n    const hash = window.location.hash;\n    const pos = hash.indexOf('?');\n\n    if (pos >= 0) {\n      return hash.substr(pos + 1);\n    }\n\n    if (hash.length) {\n      // remove hash sign\n      return hash.substr(1);\n    }\n\n    return '';\n  },\n\n  _decodeQuery(query) {\n    return query.replace(/\\+/g, ' ');\n  },\n\n  /**\n   * Parse the query/search part of the URL.\n   * Also try and parse it from the URL hash (for IE8)\n   *\n   * @return {object} map of parameters\n   */\n  parseUrlQuery() {\n    const query = this._parseHashQuery();\n\n    let params; // try and parse from URL hash first\n\n    if (query) {\n      params = OC.parseQueryString(this._decodeQuery(query));\n    } // else read from query attributes\n\n\n    params = _.extend(params || {}, OC.parseQueryString(this._decodeQuery(location.search)));\n    return params || {};\n  },\n\n  _onPopState(e) {\n    if (this._cancelPop) {\n      this._cancelPop = false;\n      return;\n    }\n\n    let params;\n\n    if (!this._handlers.length) {\n      return;\n    }\n\n    params = e && e.state;\n\n    if (_.isString(params)) {\n      params = OC.parseQueryString(params);\n    } else if (!params) {\n      params = this.parseUrlQuery() || {};\n    }\n\n    for (let i = 0; i < this._handlers.length; i++) {\n      this._handlers[i](params);\n    }\n  }\n\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport moment from 'moment';\nimport History from './util-history';\nimport OC from './index';\nimport { formatFileSize as humanFileSize } from '@nextcloud/files';\n/**\n * @param t\n */\n\nfunction chunkify(t) {\n  // Adapted from http://my.opera.com/GreyWyvern/blog/show.dml/1671288\n  const tz = [];\n  let x = 0;\n  let y = -1;\n  let n = 0;\n  let c;\n\n  while (x < t.length) {\n    c = t.charAt(x); // only include the dot in strings\n\n    const m = !n && c === '.' || c >= '0' && c <= '9';\n\n    if (m !== n) {\n      // next chunk\n      y++;\n      tz[y] = '';\n      n = m;\n    }\n\n    tz[y] += c;\n    x++;\n  }\n\n  return tz;\n}\n/**\n * Utility functions\n *\n * @namespace OC.Util\n */\n\n\nexport default {\n  History,\n\n  /**\n   * @deprecated use https://nextcloud.github.io/nextcloud-files/modules/_humanfilesize_.html#formatfilesize\n   */\n  humanFileSize,\n\n  /**\n   * Returns a file size in bytes from a humanly readable string\n   * Makes 2kB to 2048.\n   * Inspired by computerFileSize in helper.php\n   *\n   * @param  {string} string file size in human readable format\n   * @return {number} or null if string could not be parsed\n   *\n   *\n   */\n  computerFileSize(string) {\n    if (typeof string !== 'string') {\n      return null;\n    }\n\n    const s = string.toLowerCase().trim();\n    let bytes = null;\n    const bytesArray = {\n      b: 1,\n      k: 1024,\n      kb: 1024,\n      mb: 1024 * 1024,\n      m: 1024 * 1024,\n      gb: 1024 * 1024 * 1024,\n      g: 1024 * 1024 * 1024,\n      tb: 1024 * 1024 * 1024 * 1024,\n      t: 1024 * 1024 * 1024 * 1024,\n      pb: 1024 * 1024 * 1024 * 1024 * 1024,\n      p: 1024 * 1024 * 1024 * 1024 * 1024\n    };\n    const matches = s.match(/^[\\s+]?([0-9]*)(\\.([0-9]+))?( +)?([kmgtp]?b?)$/i);\n\n    if (matches !== null) {\n      bytes = parseFloat(s);\n\n      if (!isFinite(bytes)) {\n        return null;\n      }\n    } else {\n      return null;\n    }\n\n    if (matches[5]) {\n      bytes = bytes * bytesArray[matches[5]];\n    }\n\n    bytes = Math.round(bytes);\n    return bytes;\n  },\n\n  /**\n   * @param {string|number} timestamp timestamp\n   * @param {string} format date format, see momentjs docs\n   * @return {string} timestamp formatted as requested\n   */\n  formatDate(timestamp, format) {\n    if (window.TESTING === undefined) {\n      console.warn('OC.Util.formatDate is deprecated and will be removed in Nextcloud 21. See @nextcloud/moment');\n    }\n\n    format = format || 'LLL';\n    return moment(timestamp).format(format);\n  },\n\n  /**\n   * @param {string|number} timestamp timestamp\n   * @return {string} human readable difference from now\n   */\n  relativeModifiedDate(timestamp) {\n    if (window.TESTING === undefined) {\n      console.warn('OC.Util.relativeModifiedDate is deprecated and will be removed in Nextcloud 21. See @nextcloud/moment');\n    }\n\n    const diff = moment().diff(moment(timestamp));\n\n    if (diff >= 0 && diff < 45000) {\n      return t('core', 'seconds ago');\n    }\n\n    return moment(timestamp).fromNow();\n  },\n\n  /**\n   * Returns the width of a generic browser scrollbar\n   *\n   * @return {int} width of scrollbar\n   */\n  getScrollBarWidth() {\n    if (this._scrollBarWidth) {\n      return this._scrollBarWidth;\n    }\n\n    const inner = document.createElement('p');\n    inner.style.width = '100%';\n    inner.style.height = '200px';\n    const outer = document.createElement('div');\n    outer.style.position = 'absolute';\n    outer.style.top = '0px';\n    outer.style.left = '0px';\n    outer.style.visibility = 'hidden';\n    outer.style.width = '200px';\n    outer.style.height = '150px';\n    outer.style.overflow = 'hidden';\n    outer.appendChild(inner);\n    document.body.appendChild(outer);\n    const w1 = inner.offsetWidth;\n    outer.style.overflow = 'scroll';\n    let w2 = inner.offsetWidth;\n\n    if (w1 === w2) {\n      w2 = outer.clientWidth;\n    }\n\n    document.body.removeChild(outer);\n    this._scrollBarWidth = w1 - w2;\n    return this._scrollBarWidth;\n  },\n\n  /**\n   * Remove the time component from a given date\n   *\n   * @param {Date} date date\n   * @return {Date} date with stripped time\n   */\n  stripTime(date) {\n    // FIXME: likely to break when crossing DST\n    // would be better to use a library like momentJS\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate());\n  },\n\n  /**\n   * Compare two strings to provide a natural sort\n   *\n   * @param {string} a first string to compare\n   * @param {string} b second string to compare\n   * @return {number} -1 if b comes before a, 1 if a comes before b\n   * or 0 if the strings are identical\n   */\n  naturalSortCompare(a, b) {\n    let x;\n    const aa = chunkify(a);\n    const bb = chunkify(b);\n\n    for (x = 0; aa[x] && bb[x]; x++) {\n      if (aa[x] !== bb[x]) {\n        const aNum = Number(aa[x]);\n        const bNum = Number(bb[x]); // note: == is correct here\n\n        /* eslint-disable-next-line */\n\n        if (aNum == aa[x] && bNum == bb[x]) {\n          return aNum - bNum;\n        } else {\n          // Note: This locale setting isn't supported by all browsers but for the ones\n          // that do there will be more consistency between client-server sorting\n          return aa[x].localeCompare(bb[x], OC.getLanguage());\n        }\n      }\n    }\n\n    return aa.length - bb.length;\n  },\n\n  /**\n   * Calls the callback in a given interval until it returns true\n   *\n   * @param {Function} callback function to call on success\n   * @param {integer} interval in milliseconds\n   */\n  waitFor(callback, interval) {\n    const internalCallback = function () {\n      if (callback() !== true) {\n        setTimeout(internalCallback, interval);\n      }\n    };\n\n    internalCallback();\n  },\n\n  /**\n   * Checks if a cookie with the given name is present and is set to the provided value.\n   *\n   * @param {string} name name of the cookie\n   * @param {string} value value of the cookie\n   * @return {boolean} true if the cookie with the given name has the given value\n   */\n  isCookieSetToValue(name, value) {\n    const cookies = document.cookie.split(';');\n\n    for (let i = 0; i < cookies.length; i++) {\n      const cookie = cookies[i].split('=');\n\n      if (cookie[0].trim() === name && cookie[1].trim() === value) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nlet webroot = window._oc_webroot;\n\nif (typeof webroot === 'undefined') {\n  webroot = location.pathname;\n  const pos = webroot.indexOf('/index.php/');\n\n  if (pos !== -1) {\n    webroot = webroot.substr(0, pos);\n  } else {\n    webroot = webroot.substr(0, webroot.lastIndexOf('/'));\n  }\n}\n\nexport default webroot;","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport _ from 'underscore';\nimport $ from 'jquery';\nimport OC from './index';\nimport Notification from './notification';\n/**\n * Warn users that the connection to the server was lost temporarily\n *\n * This function is throttled to prevent stacked notfications.\n * After 7sec the first notification is gone, then we can show another one\n * if necessary.\n */\n\nexport const ajaxConnectionLostHandler = _.throttle(() => {\n  Notification.showTemporary(t('core', 'Connection to server lost'));\n}, 7 * 1000, {\n  trailing: false\n});\n/**\n * Process ajax error, redirects to main page\n * if an error/auth error status was returned.\n *\n * @param {XMLHttpRequest} xhr xhr request\n */\n\nexport const processAjaxError = xhr => {\n  // purposefully aborted request ?\n  // OC._userIsNavigatingAway needed to distinguish ajax calls cancelled by navigating away\n  // from calls cancelled by failed cross-domain ajax due to SSO redirect\n  if (xhr.status === 0 && (xhr.statusText === 'abort' || xhr.statusText === 'timeout' || OC._reloadCalled)) {\n    return;\n  }\n\n  if (_.contains([302, 303, 307, 401], xhr.status) && OC.currentUser) {\n    // sometimes \"beforeunload\" happens later, so need to defer the reload a bit\n    setTimeout(function () {\n      if (!OC._userIsNavigatingAway && !OC._reloadCalled) {\n        let timer = 0;\n        const seconds = 5;\n        const interval = setInterval(function () {\n          Notification.showUpdate(n('core', 'Problem loading page, reloading in %n second', 'Problem loading page, reloading in %n seconds', seconds - timer));\n\n          if (timer >= seconds) {\n            clearInterval(interval);\n            OC.reload();\n          }\n\n          timer++;\n        }, 1000 // 1 second interval\n        ); // only call reload once\n\n        OC._reloadCalled = true;\n      }\n    }, 100);\n  } else if (xhr.status === 0) {\n    // Connection lost (e.g. WiFi disconnected or server is down)\n    setTimeout(function () {\n      if (!OC._userIsNavigatingAway && !OC._reloadCalled) {\n        // TODO: call method above directly\n        OC._ajaxConnectionLostHandler();\n      }\n    }, 100);\n  }\n};\n/**\n * Registers XmlHttpRequest object for global error processing.\n *\n * This means that if this XHR object returns 401 or session timeout errors,\n * the current page will automatically be reloaded.\n *\n * @param {XMLHttpRequest} xhr xhr request\n */\n\nexport const registerXHRForErrorProcessing = xhr => {\n  const loadCallback = () => {\n    if (xhr.readyState !== 4) {\n      return;\n    }\n\n    if (xhr.status >= 200 && xhr.status < 300 || xhr.status === 304) {\n      return;\n    } // fire jquery global ajax error handler\n\n\n    $(document).trigger(new $.Event('ajaxError'), xhr);\n  };\n\n  const errorCallback = () => {\n    // fire jquery global ajax error handler\n    $(document).trigger(new $.Event('ajaxError'), xhr);\n  };\n\n  if (xhr.addEventListener) {\n    xhr.addEventListener('load', loadCallback);\n    xhr.addEventListener('error', errorCallback);\n  }\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport Search from './search';\n/**\n * Namespace for apps\n *\n * @namespace OCA\n */\n\nexport default {\n  /**\n   * @deprecated 20.0.0, will be removed in Nextcloud 22\n   */\n  Search\n};","/**\n * @copyright 2020 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nexport default class Search {\n  /**\n   * @deprecated 20.0.0, will be removed in Nextcloud 22\n   */\n  constructor() {\n    console.warn('OCA.Search is deprecated. Please use the unified search API instead');\n  }\n\n}","/**\n * @copyright Copyright (c) 2016 Joas Schilling <coding@schilljs.com>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\nimport { generateOcsUrl } from '@nextcloud/router';\nimport OC from '../OC/index';\n/**\n * @param {string} method 'post' or 'delete'\n * @param {string} endpoint endpoint\n * @param {object} [options] destructuring object\n * @param {object} [options.data] option data\n * @param {Function} [options.success] success callback\n * @param {Function} [options.error] error callback\n * @internal\n */\n\nfunction call(method, endpoint, options) {\n  if ((method === 'post' || method === 'delete') && OC.PasswordConfirmation.requiresPasswordConfirmation()) {\n    OC.PasswordConfirmation.requirePasswordConfirmation(_.bind(call, this, method, endpoint, options));\n    return;\n  }\n\n  options = options || {};\n  $.ajax({\n    type: method.toUpperCase(),\n    url: generateOcsUrl('apps/provisioning_api/api/v1/config/apps') + endpoint,\n    data: options.data || {},\n    success: options.success,\n    error: options.error\n  });\n}\n/**\n * @param {object} [options] destructuring object\n * @param {Function} [options.success] success callback\n * @since 11.0.0\n */\n\n\nexport function getApps(options) {\n  call('get', '', options);\n}\n/**\n * @param {string} app app id\n * @param {object} [options] destructuring object\n * @param {Function} [options.success] success callback\n * @param {Function} [options.error] error callback\n * @since 11.0.0\n */\n\nexport function getKeys(app, options) {\n  call('get', '/' + app, options);\n}\n/**\n * @param {string} app app id\n * @param {string} key key\n * @param {string | Function} defaultValue default value\n * @param {object} [options] destructuring object\n * @param {Function} [options.success] success callback\n * @param {Function} [options.error] error callback\n * @since 11.0.0\n */\n\nexport function getValue(app, key, defaultValue, options) {\n  options = options || {};\n  options.data = {\n    defaultValue\n  };\n  call('get', '/' + app + '/' + key, options);\n}\n/**\n * @param {string} app app id\n * @param {string} key key\n * @param {string} value value\n * @param {object} [options] destructuring object\n * @param {Function} [options.success] success callback\n * @param {Function} [options.error] error callback\n * @since 11.0.0\n */\n\nexport function setValue(app, key, value, options) {\n  options = options || {};\n  options.data = {\n    value\n  };\n  call('post', '/' + app + '/' + key, options);\n}\n/**\n * @param {string} app app id\n * @param {string} key key\n * @param {object} [options] destructuring object\n * @param {Function} [options.success] success callback\n * @param {Function} [options.error] error callback\n * @since 11.0.0\n */\n\nexport function deleteKey(app, key, options) {\n  call('delete', '/' + app + '/' + key, options);\n}","/**\n * @copyright Copyright (c) 2018 Julius Hrtl <jus@bitgrid.net>\n *\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Julius Hrtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport escapeHTML from 'escape-html';\n/**\n * @typedef TypeDefinition\n * @function {callback} action This action is executed to let the user select a resource\n * @param {string} icon Contains the icon css class for the type\n * @function Object() { [native code] }\n */\n\n/**\n * @type {TypeDefinition[]}\n */\n\nconst types = {};\n/**\n * Those translations will be used by the vue component but they should be shipped with the server\n * FIXME: Those translations should be added to the library\n *\n * @return {Array}\n */\n\nexport const l10nProjects = () => {\n  return [t('core', 'Add to a project'), t('core', 'Show details'), t('core', 'Hide details'), t('core', 'Rename project'), t('core', 'Failed to rename the project'), t('core', 'Failed to create a project'), t('core', 'Failed to add the item to the project'), t('core', 'Connect items to a project to make them easier to find'), t('core', 'Type to search for existing projects')];\n};\nexport default {\n  /**\n   *\n   * @param {string} type type\n   * @param {TypeDefinition} typeDefinition typeDefinition\n   */\n  registerType(type, typeDefinition) {\n    types[type] = typeDefinition;\n  },\n\n  trigger(type) {\n    return types[type].action();\n  },\n\n  getTypes() {\n    return Object.keys(types);\n  },\n\n  getIcon(type) {\n    return types[type].typeIconClass || '';\n  },\n\n  getLabel(type) {\n    return escapeHTML(types[type].typeString || type);\n  },\n\n  getLink(type, id) {\n    /* TODO: Allow action to be executed instead of href as well */\n    return typeof types[type] !== 'undefined' ? types[type].link(id) : '';\n  }\n\n};","/**\n * @copyright (c) 2017 Arthur Schiwon <blizzz@arthur-schiwon.de>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\n/*\n * Detects links:\n * Either the http(s) protocol is given or two strings, basically limited to ascii with the last\n * \tword being at least one digit long,\n * followed by at least another character\n *\n * The downside: anything not ascii is excluded. Not sure how common it is in areas using different\n * alphabets the upside: fake domains with similar looking characters won't be formatted as links\n */\n\nconst urlRegex = /(\\s|^)(https?:\\/\\/)?((?:[-A-Z0-9+_]+\\.)+[-A-Z]+(?:\\/[-A-Z0-9+&@#%?=~_|!:,.;()]*)*)(\\s|$)/ig;\n/**\n * @param content\n */\n\nexport function plainToRich(content) {\n  return this.formatLinksRich(content);\n}\n/**\n * @param content\n */\n\nexport function richToPlain(content) {\n  return this.formatLinksPlain(content);\n}\n/**\n * @param content\n */\n\nexport function formatLinksRich(content) {\n  return content.replace(urlRegex, function (_, leadingSpace, protocol, url, trailingSpace) {\n    let linkText = url;\n\n    if (!protocol) {\n      protocol = 'https://';\n    } else if (protocol === 'http://') {\n      linkText = protocol + url;\n    }\n\n    return leadingSpace + '<a class=\"external\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"' + protocol + url + '\">' + linkText + '</a>' + trailingSpace;\n  });\n}\n/**\n * @param content\n */\n\nexport function formatLinksPlain(content) {\n  const $content = $('<div></div>').html(content);\n  $content.find('a').each(function () {\n    const $this = $(this);\n    $this.html($this.attr('href'));\n  });\n  return $content.html();\n}","/**\n * @copyright Copyright (c) 2016 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Julius Hrtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport { loadState } from '@nextcloud/initial-state';\nimport * as AppConfig from './appconfig';\nimport * as Comments from './comments';\nimport * as WhatsNew from './whatsnew';\nimport Collaboration from './collaboration';\nimport Loader from './loader';\nimport Toast from './toast';\n/** @namespace OCP */\n\nexport default {\n  AppConfig,\n  Collaboration,\n  Comments,\n  InitialState: {\n    /**\n     * @deprecated 18.0.0 add https://www.npmjs.com/package/@nextcloud/initial-state to your app\n     */\n    loadState\n  },\n  Loader,\n\n  /**\n   * @deprecated 19.0.0 use the `@nextcloud/dialogs` package instead\n   */\n  Toast,\n  WhatsNew\n};","/**\n * @copyright Copyright (c) 2018 Julius Hrtl <jus@bitgrid.net>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Julius Hrtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst loadedScripts = {};\nconst loadedStylesheets = {};\n/**\n * @namespace OCP\n * @class Loader\n */\n\nexport default {\n  /**\n   * Load a script asynchronously\n   *\n   * @param {string} app the app name\n   * @param {string} file the script file name\n   * @return {Promise}\n   */\n  loadScript(app, file) {\n    const key = app + file;\n\n    if (Object.prototype.hasOwnProperty.call(loadedScripts, key)) {\n      return Promise.resolve();\n    }\n\n    loadedScripts[key] = true;\n    return new Promise(function (resolve, reject) {\n      const scriptPath = OC.filePath(app, 'js', file);\n      const script = document.createElement('script');\n      script.src = scriptPath;\n      script.setAttribute('nonce', btoa(OC.requestToken));\n\n      script.onload = () => resolve();\n\n      script.onerror = () => reject(new Error(\"Failed to load script from \".concat(scriptPath)));\n\n      document.head.appendChild(script);\n    });\n  },\n\n  /**\n   * Load a stylesheet file asynchronously\n   *\n   * @param {string} app the app name\n   * @param {string} file the script file name\n   * @return {Promise}\n   */\n  loadStylesheet(app, file) {\n    const key = app + file;\n\n    if (Object.prototype.hasOwnProperty.call(loadedStylesheets, key)) {\n      return Promise.resolve();\n    }\n\n    loadedStylesheets[key] = true;\n    return new Promise(function (resolve, reject) {\n      const stylePath = OC.filePath(app, 'css', file);\n      const link = document.createElement('link');\n      link.href = stylePath;\n      link.type = 'text/css';\n      link.rel = 'stylesheet';\n\n      link.onload = () => resolve();\n\n      link.onerror = () => reject(new Error(\"Failed to load stylesheet from \".concat(stylePath)));\n\n      document.head.appendChild(link);\n    });\n  }\n\n};","/**\n * @copyright Copyright (c) 2019 Julius Hrtl <jus@bitgrid.net>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author Julius Hrtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport { showError, showInfo, showMessage, showSuccess, showWarning } from '@nextcloud/dialogs';\nexport default {\n  /**\n   * @deprecated 19.0.0 use `showSuccess` from the `@nextcloud/dialogs` package instead\n   *\n   * @param {string} text the toast text\n   * @param {object} options options\n   * @return {Toast}\n   */\n  success(text, options) {\n    return showSuccess(text, options);\n  },\n\n  /**\n   * @deprecated 19.0.0 use `showWarning` from the `@nextcloud/dialogs` package instead\n   *\n   * @param {string} text the toast text\n   * @param {object} options options\n   * @return {Toast}\n   */\n  warning(text, options) {\n    return showWarning(text, options);\n  },\n\n  /**\n   * @deprecated 19.0.0 use `showError` from the `@nextcloud/dialogs` package instead\n   *\n   * @param {string} text the toast text\n   * @param {object} options options\n   * @return {Toast}\n   */\n  error(text, options) {\n    return showError(text, options);\n  },\n\n  /**\n   * @deprecated 19.0.0 use `showInfo` from the `@nextcloud/dialogs` package instead\n   *\n   * @param {string} text the toast text\n   * @param {object} options options\n   * @return {Toast}\n   */\n  info(text, options) {\n    return showInfo(text, options);\n  },\n\n  /**\n   * @deprecated 19.0.0 use `showMessage` from the `@nextcloud/dialogs` package instead\n   *\n   * @param {string} text the toast text\n   * @param {object} options options\n   * @return {Toast}\n   */\n  message(text, options) {\n    return showMessage(text, options);\n  }\n\n};","/**\n * @copyright (c) 2017 Arthur Schiwon <blizzz@arthur-schiwon.de>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport _ from 'underscore';\nimport $ from 'jquery';\nimport { generateOcsUrl } from '@nextcloud/router';\n/**\n * @param options\n */\n\nexport function query(options) {\n  options = options || {};\n  const dismissOptions = options.dismiss || {};\n  $.ajax({\n    type: 'GET',\n    url: options.url || generateOcsUrl('core/whatsnew?format=json'),\n    success: options.success || function (data, statusText, xhr) {\n      onQuerySuccess(data, statusText, xhr, dismissOptions);\n    },\n    error: options.error || onQueryError\n  });\n}\n/**\n * @param version\n * @param options\n */\n\nexport function dismiss(version, options) {\n  options = options || {};\n  $.ajax({\n    type: 'POST',\n    url: options.url || generateOcsUrl('core/whatsnew'),\n    data: {\n      version: encodeURIComponent(version)\n    },\n    success: options.success || onDismissSuccess,\n    error: options.error || onDismissError\n  }); // remove element immediately\n\n  $('.whatsNewPopover').remove();\n}\n/**\n * @param data\n * @param statusText\n * @param xhr\n * @param dismissOptions\n */\n\nfunction onQuerySuccess(data, statusText, xhr, dismissOptions) {\n  console.debug('querying Whats New data was successful: ' + statusText);\n  console.debug(data);\n\n  if (xhr.status !== 200) {\n    return;\n  }\n\n  let item, menuItem, text, icon;\n  const div = document.createElement('div');\n  div.classList.add('popovermenu', 'open', 'whatsNewPopover', 'menu-left');\n  const list = document.createElement('ul'); // header\n\n  item = document.createElement('li');\n  menuItem = document.createElement('span');\n  menuItem.className = 'menuitem';\n  text = document.createElement('span');\n  text.innerText = t('core', 'New in') + ' ' + data.ocs.data.product;\n  text.className = 'caption';\n  menuItem.appendChild(text);\n  icon = document.createElement('span');\n  icon.className = 'icon-close';\n\n  icon.onclick = function () {\n    dismiss(data.ocs.data.version, dismissOptions);\n  };\n\n  menuItem.appendChild(icon);\n  item.appendChild(menuItem);\n  list.appendChild(item); // Highlights\n\n  for (const i in data.ocs.data.whatsNew.regular) {\n    const whatsNewTextItem = data.ocs.data.whatsNew.regular[i];\n    item = document.createElement('li');\n    menuItem = document.createElement('span');\n    menuItem.className = 'menuitem';\n    icon = document.createElement('span');\n    icon.className = 'icon-checkmark';\n    menuItem.appendChild(icon);\n    text = document.createElement('p');\n    text.innerHTML = _.escape(whatsNewTextItem);\n    menuItem.appendChild(text);\n    item.appendChild(menuItem);\n    list.appendChild(item);\n  } // Changelog URL\n\n\n  if (!_.isUndefined(data.ocs.data.changelogURL)) {\n    item = document.createElement('li');\n    menuItem = document.createElement('a');\n    menuItem.href = data.ocs.data.changelogURL;\n    menuItem.rel = 'noreferrer noopener';\n    menuItem.target = '_blank';\n    icon = document.createElement('span');\n    icon.className = 'icon-link';\n    menuItem.appendChild(icon);\n    text = document.createElement('span');\n    text.innerText = t('core', 'View changelog');\n    menuItem.appendChild(text);\n    item.appendChild(menuItem);\n    list.appendChild(item);\n  }\n\n  div.appendChild(list);\n  document.body.appendChild(div);\n}\n/**\n * @param x\n * @param t\n * @param e\n */\n\n\nfunction onQueryError(x, t, e) {\n  console.debug('querying Whats New Data resulted in an error: ' + t + e);\n  console.debug(x);\n}\n/**\n * @param data\n */\n\n\nfunction onDismissSuccess(data) {// noop\n}\n/**\n * @param data\n */\n\n\nfunction onDismissError(data) {\n  console.debug('dismissing Whats New data resulted in an error: ' + data);\n}","/**\n * @copyright Copyright (c) 2016 John Molakvo <skjnldsv@protonmail.com>\n *\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\nif (!Element.prototype.matches) {\n  Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n}\n\nif (!Element.prototype.closest) {\n  Element.prototype.closest = function (s) {\n    let el = this;\n\n    do {\n      if (el.matches(s)) return el;\n      el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n\n    return null;\n  };\n}","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/* eslint-disable no-console */\nif (typeof console === 'undefined' || typeof console.log === 'undefined') {\n  if (!window.console) {\n    window.console = {};\n  }\n\n  const noOp = () => {};\n\n  const methods = ['log', 'debug', 'warn', 'info', 'error', 'assert', 'time', 'timeEnd'];\n\n  for (let i = 0; i < methods.length; i++) {\n    console[methods[i]] = noOp;\n  }\n}","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport './console';\nimport './closest';\nimport './windows-phone';","/**\n * @copyright 2019 Julius Hrtl <jus@bitgrid.net>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Julius Hrtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n$.prototype.tooltip = function (tooltip) {\n  return function (config) {\n    try {\n      return tooltip.call(this, config);\n    } catch (ex) {\n      if (ex instanceof TypeError && config === 'destroy') {\n        if (window.TESTING === undefined) {\n          console.error('Deprecated call $.tooltip(\\'destroy\\') has been deprecated and should be removed');\n        }\n\n        return tooltip.call(this, 'dispose');\n      }\n\n      if (ex instanceof TypeError && config === 'fixTitle') {\n        if (window.TESTING === undefined) {\n          console.error('Deprecated call $.tooltip(\\'fixTitle\\') has been deprecated and should be removed');\n        }\n\n        return tooltip.call(this, '_fixTitle');\n      }\n    }\n  };\n}($.prototype.tooltip);","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n// fix device width on windows phone\nif ('-ms-user-select' in document.documentElement.style && navigator.userAgent.match(/IEMobile\\/10\\.0/)) {\n  const msViewportStyle = document.createElement('style');\n  msViewportStyle.appendChild(document.createTextNode('@-ms-viewport{width:auto!important}'));\n  document.getElementsByTagName('head')[0].appendChild(msViewportStyle);\n}","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\nimport OC from '../OC';\n/**\n * @todo move to contacts menu code https://github.com/orgs/nextcloud/projects/31#card-21213129\n */\n\nexport const setUp = () => {\n  // eslint-disable-next-line no-new\n  new OC.ContactsMenu({\n    el: $('#contactsmenu .menu'),\n    trigger: $('#contactsmenu .menutoggle')\n  });\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Julius Hrtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\nimport OC from '../OC';\n/**\n * Set up the main menu toggle to react to media query changes.\n * If the screen is small enough, the main menu becomes a toggle.\n * If the screen is bigger, the main menu is not a toggle any more.\n */\n\nexport const setUp = () => {\n  Object.assign(OC, {\n    setNavigationCounter(id, counter) {\n      const appmenuElement = document.getElementById('appmenu').querySelector('[data-id=\"' + id + '\"] svg');\n      const appsElement = document.getElementById('apps').querySelector('[data-id=\"' + id + '\"] svg');\n\n      if (counter === 0) {\n        appmenuElement.classList.remove('has-unread');\n        appsElement.classList.remove('has-unread');\n        appmenuElement.getElementsByTagName('image')[0].style.mask = '';\n        appsElement.getElementsByTagName('image')[0].style.mask = '';\n      } else {\n        appmenuElement.classList.add('has-unread');\n        appsElement.classList.add('has-unread');\n        appmenuElement.getElementsByTagName('image')[0].style.mask = 'url(#hole)';\n        appsElement.getElementsByTagName('image')[0].style.mask = 'url(#hole)';\n      }\n\n      document.getElementById('appmenu').querySelector('[data-id=\"' + id + '\"] .unread-counter').textContent = counter;\n      document.getElementById('apps').querySelector('[data-id=\"' + id + '\"] .unread-counter').textContent = counter;\n    }\n\n  }); // init the more-apps menu\n\n  OC.registerMenu($('#more-apps > a'), $('#navigation')); // toggle the navigation\n\n  const $toggle = $('#header .header-appname-container');\n  const $navigation = $('#navigation');\n  const $appmenu = $('#appmenu'); // init the menu\n\n  OC.registerMenu($toggle, $navigation);\n  $toggle.data('oldhref', $toggle.attr('href'));\n  $toggle.attr('href', '#');\n  $navigation.hide(); // show loading feedback on more apps list\n\n  $navigation.delegate('a', 'click', event => {\n    let $app = $(event.target);\n\n    if (!$app.is('a')) {\n      $app = $app.closest('a');\n    }\n\n    if (event.which === 1 && !event.ctrlKey && !event.metaKey) {\n      $app.find('svg').remove();\n      $app.find('div').remove(); // prevent odd double-clicks\n      // no need for theming, loader is already inverted on dark mode\n      // but we need it over the primary colour\n\n      $app.prepend($('<div/>').addClass('icon-loading-small'));\n    } else {\n      // Close navigation when opening app in\n      // a new tab\n      OC.hideMenus(() => false);\n    }\n  });\n  $navigation.delegate('a', 'mouseup', event => {\n    if (event.which === 2) {\n      // Close navigation when opening app in\n      // a new tab via middle click\n      OC.hideMenus(() => false);\n    }\n  }); // show loading feedback on visible apps list\n\n  $appmenu.delegate('li:not(#more-apps) > a', 'click', event => {\n    let $app = $(event.target);\n\n    if (!$app.is('a')) {\n      $app = $app.closest('a');\n    }\n\n    if (event.which === 1 && !event.ctrlKey && !event.metaKey && $app.parent('#more-apps').length === 0) {\n      $app.find('svg').remove();\n      $app.find('div').remove(); // prevent odd double-clicks\n\n      $app.prepend($('<div/>').addClass(OCA.Theming && OCA.Theming.inverted ? 'icon-loading-small' : 'icon-loading-small-dark')); // trigger redirect\n      // needed for ie, but also works for every browser\n\n      window.location = $app.attr('href');\n    } else {\n      // Close navigation when opening app in\n      // a new tab\n      OC.hideMenus(() => false);\n    }\n  });\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport OC from '../OC';\nimport $ from 'jquery';\nexport const setUp = () => {\n  const $menu = $('#header #settings'); // Using page terminoogy as below\n\n  const $excludedPageClasses = ['user-status-menu-item__header']; // show loading feedback\n\n  $menu.delegate('a', 'click', event => {\n    let $page = $(event.target);\n\n    if (!$page.is('a')) {\n      $page = $page.closest('a');\n    }\n\n    if (event.which === 1 && !event.ctrlKey && !event.metaKey) {\n      if (!$excludedPageClasses.includes($page.attr('class'))) {\n        $page.find('img').remove();\n        $page.find('div').remove(); // prevent odd double-clicks\n\n        $page.prepend($('<div/>').addClass('icon-loading-small'));\n      }\n    } else {\n      // Close navigation when opening menu entry in\n      // a new tab\n      OC.hideMenus(() => false);\n    }\n  });\n  $menu.delegate('a', 'mouseup', event => {\n    if (event.which === 2) {\n      // Close navigation when opening app in\n      // a new tab via middle click\n      OC.hideMenus(() => false);\n    }\n  });\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Julius Hrtl <jus@bitgrid.net>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/* eslint-disable @nextcloud/no-deprecations */\nimport { initCore } from './init';\nimport _ from 'underscore';\nimport $ from 'jquery';\nimport 'jquery-migrate/dist/jquery-migrate.min'; // TODO: switch to `jquery-ui` package and import widgets and effects individually\n//       `jquery-ui-dist` is used as a workaround for the issue of missing effects\n\nimport 'jquery-ui-dist/jquery-ui';\nimport 'jquery-ui-dist/jquery-ui.css';\nimport 'jquery-ui-dist/jquery-ui.theme.css'; // END TODO\n\nimport autosize from 'autosize';\nimport Backbone from 'backbone';\nimport 'bootstrap/js/dist/tooltip';\nimport './Polyfill/tooltip';\nimport ClipboardJS from 'clipboard';\nimport { dav } from 'davclient.js';\nimport Handlebars from 'handlebars';\nimport '@nextcloud/jcrop/js/jquery.Jcrop';\nimport '@nextcloud/jcrop/css/jquery.Jcrop.css';\nimport md5 from 'blueimp-md5';\nimport moment from 'moment';\nimport 'select2';\nimport 'select2/select2.css';\nimport 'snap.js/dist/snap';\nimport 'strengthify';\nimport 'strengthify/strengthify.css';\nimport OC from './OC/index';\nimport OCP from './OCP/index';\nimport OCA from './OCA/index';\nimport { getToken as getRequestToken } from './OC/requesttoken';\n\nconst warnIfNotTesting = function () {\n  if (window.TESTING === undefined) {\n    console.warn.apply(console, arguments);\n  }\n};\n/**\n * Mark a function as deprecated and automatically\n * warn if used!\n *\n * @param {Function} func the library to deprecate\n * @param {string} funcName the name of the library\n * @param {Int} version the version this gets removed\n * @return {Function}\n */\n\n\nconst deprecate = (func, funcName, version) => {\n  const oldFunc = func;\n\n  const newFunc = function () {\n    warnIfNotTesting(\"The \".concat(funcName, \" library is deprecated! It will be removed in nextcloud \").concat(version, \".\"));\n    return oldFunc.apply(this, arguments);\n  };\n\n  Object.assign(newFunc, oldFunc);\n  return newFunc;\n};\n\nconst setDeprecatedProp = (global, cb, msg) => {\n  (Array.isArray(global) ? global : [global]).forEach(global => {\n    if (window[global] !== undefined) {\n      delete window[global];\n    }\n\n    Object.defineProperty(window, global, {\n      get: () => {\n        if (msg) {\n          warnIfNotTesting(\"\".concat(global, \" is deprecated: \").concat(msg));\n        } else {\n          warnIfNotTesting(\"\".concat(global, \" is deprecated\"));\n        }\n\n        return cb();\n      }\n    });\n  });\n};\n\nwindow._ = _;\nsetDeprecatedProp(['$', 'jQuery'], () => $, 'The global jQuery is deprecated. It will be removed in a later versions without another warning. Please ship your own.');\nsetDeprecatedProp('autosize', () => autosize, 'please ship your own, this will be removed in Nextcloud 20');\nsetDeprecatedProp('Backbone', () => Backbone, 'please ship your own, this will be removed in Nextcloud 20');\nsetDeprecatedProp(['Clipboard', 'ClipboardJS'], () => ClipboardJS, 'please ship your own, this will be removed in Nextcloud 20');\nwindow.dav = dav;\nsetDeprecatedProp('Handlebars', () => Handlebars, 'please ship your own, this will be removed in Nextcloud 20');\nsetDeprecatedProp('md5', () => md5, 'please ship your own, this will be removed in Nextcloud 20');\nsetDeprecatedProp('moment', () => moment, 'please ship your own, this will be removed in Nextcloud 20');\nwindow.OC = OC;\nsetDeprecatedProp('initCore', () => initCore, 'this is an internal function');\nsetDeprecatedProp('oc_appswebroots', () => OC.appswebroots, 'use OC.appswebroots instead, this will be removed in Nextcloud 20');\nsetDeprecatedProp('oc_config', () => OC.config, 'use OC.config instead, this will be removed in Nextcloud 20');\nsetDeprecatedProp('oc_current_user', () => OC.getCurrentUser().uid, 'use OC.getCurrentUser().uid instead, this will be removed in Nextcloud 20');\nsetDeprecatedProp('oc_debug', () => OC.debug, 'use OC.debug instead, this will be removed in Nextcloud 20');\nsetDeprecatedProp('oc_defaults', () => OC.theme, 'use OC.theme instead, this will be removed in Nextcloud 20');\nsetDeprecatedProp('oc_isadmin', OC.isUserAdmin, 'use OC.isUserAdmin() instead, this will be removed in Nextcloud 20');\nsetDeprecatedProp('oc_requesttoken', () => getRequestToken(), 'use OC.requestToken instead, this will be removed in Nextcloud 20');\nsetDeprecatedProp('oc_webroot', () => OC.webroot, 'use OC.getRootPath() instead, this will be removed in Nextcloud 20');\nsetDeprecatedProp('OCDialogs', () => OC.dialogs, 'use OC.dialogs instead, this will be removed in Nextcloud 20');\nwindow.OCP = OCP;\nwindow.OCA = OCA;\n$.fn.select2 = deprecate($.fn.select2, 'select2', 19);\n/**\n * translate a string\n *\n * @param {string} app the id of the app for which to translate the string\n * @param {string} text the string to translate\n * @param [vars] map of placeholder key to value\n * @param {number} [count] number to replace %n with\n * @return {string}\n */\n\nwindow.t = _.bind(OC.L10N.translate, OC.L10N);\n/**\n * translate a string\n *\n * @param {string} app the id of the app for which to translate the string\n * @param {string} text_singular the string to translate for exactly one object\n * @param {string} text_plural the string to translate for n objects\n * @param {number} count number to determine whether to use singular or plural\n * @param [vars] map of placeholder key to value\n * @return {string} Translated string\n */\n\nwindow.n = _.bind(OC.L10N.translatePlural, OC.L10N);","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author Jan-Christoph Borchardt <hey@jancborchardt.net>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author nacho <nacho@ownyourbits.com>\n * @author Vincent Petry <vincent@nextcloud.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/* globals Snap */\nimport _ from 'underscore';\nimport $ from 'jquery';\nimport moment from 'moment';\nimport cssVars from 'css-vars-ponyfill';\nimport { initSessionHeartBeat } from './session-heartbeat';\nimport OC from './OC/index';\nimport { setUp as setUpContactsMenu } from './components/ContactsMenu';\nimport { setUp as setUpMainMenu } from './components/MainMenu';\nimport { setUp as setUpUserMenu } from './components/UserMenu';\nimport PasswordConfirmation from './OC/password-confirmation'; // keep in sync with core/css/variables.scss\n\nconst breakpointMobileWidth = 1024;\n\nconst resizeMenu = () => {\n  const appList = $('#appmenu li');\n  const rightHeaderWidth = $('.header-right').outerWidth();\n  const headerWidth = $('header').outerWidth();\n  const usePercentualAppMenuLimit = 0.67;\n  const minAppsDesktop = 12;\n  let availableWidth = headerWidth - $('#nextcloud').outerWidth() - (rightHeaderWidth > 210 ? rightHeaderWidth : 210);\n  const isMobile = $(window).width() < breakpointMobileWidth;\n\n  if (!isMobile) {\n    availableWidth = availableWidth * usePercentualAppMenuLimit;\n  }\n\n  let appCount = Math.floor(availableWidth / $(appList).width());\n\n  if (isMobile && appCount > minAppsDesktop) {\n    appCount = minAppsDesktop;\n  }\n\n  if (!isMobile && appCount < minAppsDesktop) {\n    appCount = minAppsDesktop;\n  } // show at least 2 apps in the popover\n\n\n  if (appList.length - 1 - appCount >= 1) {\n    appCount--;\n  }\n\n  $('#more-apps a').removeClass('active');\n  let lastShownApp;\n\n  for (let k = 0; k < appList.length - 1; k++) {\n    const name = $(appList[k]).data('id');\n\n    if (k < appCount) {\n      $(appList[k]).removeClass('hidden');\n      $('#apps li[data-id=' + name + ']').addClass('in-header');\n      lastShownApp = appList[k];\n    } else {\n      $(appList[k]).addClass('hidden');\n      $('#apps li[data-id=' + name + ']').removeClass('in-header'); // move active app to last position if it is active\n\n      if (appCount > 0 && $(appList[k]).children('a').hasClass('active')) {\n        $(lastShownApp).addClass('hidden');\n        $('#apps li[data-id=' + $(lastShownApp).data('id') + ']').removeClass('in-header');\n        $(appList[k]).removeClass('hidden');\n        $('#apps li[data-id=' + name + ']').addClass('in-header');\n      }\n    }\n  } // show/hide more apps icon\n\n\n  if ($('#apps li:not(.in-header)').length === 0) {\n    $('#more-apps').hide();\n    $('#navigation').hide();\n  } else {\n    $('#more-apps').show();\n  }\n};\n\nconst initLiveTimestamps = () => {\n  // Update live timestamps every 30 seconds\n  setInterval(() => {\n    $('.live-relative-timestamp').each(function () {\n      $(this).text(OC.Util.relativeModifiedDate(parseInt($(this).attr('data-timestamp'), 10)));\n    });\n  }, 30 * 1000);\n};\n/**\n * Moment doesn't have aliases for every locale and doesn't parse some locale IDs correctly so we need to alias them\n */\n\n\nconst localeAliases = {\n  zh: 'zh-cn',\n  zh_Hans: 'zh-cn',\n  zh_Hans_CN: 'zh-cn',\n  zh_Hans_HK: 'zh-cn',\n  zh_Hans_MO: 'zh-cn',\n  zh_Hans_SG: 'zh-cn',\n  zh_Hant: 'zh-hk',\n  zh_Hant_HK: 'zh-hk',\n  zh_Hant_MO: 'zh-mo',\n  zh_Hant_TW: 'zh-tw'\n};\nlet locale = OC.getLocale();\n\nif (Object.prototype.hasOwnProperty.call(localeAliases, locale)) {\n  locale = localeAliases[locale];\n}\n/**\n * Set users locale to moment.js as soon as possible\n */\n\n\nmoment.locale(locale);\n/**\n * Initializes core\n */\n\nexport const initCore = () => {\n  const userAgent = window.navigator.userAgent;\n  const edge = userAgent.indexOf('Edge/');\n\n  if (edge > 0) {\n    $('html').addClass('edge');\n    console.info('Legacy browser detected, applying css vars polyfill');\n    cssVars({\n      watch: true,\n      //  set edge < 16 as incompatible\n      onlyLegacy: !(/Edge\\/([0-9]{2})\\./i.test(navigator.userAgent) && parseInt(/Edge\\/([0-9]{2})\\./i.exec(navigator.userAgent)[1]) < 16)\n    });\n  }\n\n  $(window).on('unload.main', () => {\n    OC._unloadCalled = true;\n  });\n  $(window).on('beforeunload.main', () => {\n    // super-trick thanks to http://stackoverflow.com/a/4651049\n    // in case another handler displays a confirmation dialog (ex: navigating away\n    // during an upload), there are two possible outcomes: user clicked \"ok\" or\n    // \"cancel\"\n    // first timeout handler is called after unload dialog is closed\n    setTimeout(() => {\n      OC._userIsNavigatingAway = true; // second timeout event is only called if user cancelled (Chrome),\n      // but in other browsers it might still be triggered, so need to\n      // set a higher delay...\n\n      setTimeout(() => {\n        if (!OC._unloadCalled) {\n          OC._userIsNavigatingAway = false;\n        }\n      }, 10000);\n    }, 1);\n  });\n  $(document).on('ajaxError.main', function (event, request, settings) {\n    if (settings && settings.allowAuthErrors) {\n      return;\n    }\n\n    OC._processAjaxError(request);\n  });\n  initSessionHeartBeat();\n  OC.registerMenu($('#expand'), $('#expanddiv'), false, true); // toggle for menus\n\n  $(document).on('mouseup.closemenus', event => {\n    const $el = $(event.target);\n\n    if ($el.closest('.menu').length || $el.closest('.menutoggle').length) {\n      // don't close when clicking on the menu directly or a menu toggle\n      return false;\n    }\n\n    OC.hideMenus();\n  });\n  setUpMainMenu();\n  setUpUserMenu();\n  setUpContactsMenu(); // move triangle of apps dropdown to align with app name triangle\n  // 2 is the additional offset between the triangles\n\n  if ($('#navigation').length) {\n    $('#header #nextcloud + .menutoggle').on('click', () => {\n      $('#menu-css-helper').remove();\n      const caretPosition = $('.header-appname + .icon-caret').offset().left - 2;\n\n      if (caretPosition > 255) {// if the app name is longer than the menu, just put the triangle in the middle\n      } else {\n        $('head').append('<style id=\"menu-css-helper\">#navigation:after { left: ' + caretPosition + 'px }</style>');\n      }\n    });\n    $('#header #appmenu .menutoggle').on('click', () => {\n      $('#appmenu').toggleClass('menu-open');\n\n      if ($('#appmenu').is(':visible')) {\n        $('#menu-css-helper').remove();\n      }\n    });\n  }\n\n  $(window).resize(resizeMenu);\n  setTimeout(resizeMenu, 0); // just add snapper for logged in users\n  // and if the app doesn't handle the nav slider itself\n\n  if ($('#app-navigation').length && !$('html').hasClass('lte9') && !$('#app-content').hasClass('no-snapper')) {\n    // App sidebar on mobile\n    const snapper = new Snap({\n      element: document.getElementById('app-content'),\n      disable: 'right',\n      maxPosition: 300,\n      // $navigation-width\n      minDragDistance: 100\n    });\n    $('#app-content').prepend('<div id=\"app-navigation-toggle\" class=\"icon-menu\" style=\"display:none\" tabindex=\"0\"></div>'); // keep track whether snapper is currently animating, and\n    // prevent to call open or close while that is the case\n    // to avoid duplicating events (snap.js doesn't check this)\n\n    let animating = false;\n    snapper.on('animating', () => {\n      // we need this because the trigger button\n      // is also implicitly wired to close by snapper\n      animating = true;\n    });\n    snapper.on('animated', () => {\n      animating = false;\n    });\n    snapper.on('start', () => {\n      // we need this because dragging triggers that\n      animating = true;\n    });\n    snapper.on('end', () => {\n      // we need this because dragging stop triggers that\n      animating = false;\n    }); // These are necessary because calling open or close\n    // on snapper during an animation makes it trigger an\n    // unfinishable animation, which itself will continue\n    // triggering animating events and cause high CPU load,\n    //\n    // Ref https://github.com/jakiestfu/Snap.js/issues/216\n\n    const oldSnapperOpen = snapper.open;\n    const oldSnapperClose = snapper.close;\n\n    const _snapperOpen = () => {\n      if (animating || snapper.state().state !== 'closed') {\n        return;\n      }\n\n      oldSnapperOpen('left');\n    };\n\n    const _snapperClose = () => {\n      if (animating || snapper.state().state === 'closed') {\n        return;\n      }\n\n      oldSnapperClose();\n    }; // Needs to be deferred to properly catch in-between\n    // events that snap.js is triggering after dragging.\n    //\n    // Skipped when running unit tests as we are not testing\n    // the snap.js workarounds...\n\n\n    if (!window.TESTING) {\n      snapper.open = () => {\n        _.defer(_snapperOpen);\n      };\n\n      snapper.close = () => {\n        _.defer(_snapperClose);\n      };\n    }\n\n    $('#app-navigation-toggle').click(e => {\n      // close is implicit in the button by snap.js\n      if (snapper.state().state !== 'left') {\n        snapper.open();\n      }\n    });\n    $('#app-navigation-toggle').keypress(e => {\n      if (snapper.state().state === 'left') {\n        snapper.close();\n      } else {\n        snapper.open();\n      }\n    }); // close sidebar when switching navigation entry\n\n    const $appNavigation = $('#app-navigation');\n    $appNavigation.delegate('a, :button', 'click', event => {\n      const $target = $(event.target); // don't hide navigation when changing settings or adding things\n\n      if ($target.is('.app-navigation-noclose') || $target.closest('.app-navigation-noclose').length) {\n        return;\n      }\n\n      if ($target.is('.app-navigation-entry-utils-menu-button') || $target.closest('.app-navigation-entry-utils-menu-button').length) {\n        return;\n      }\n\n      if ($target.is('.add-new') || $target.closest('.add-new').length) {\n        return;\n      }\n\n      if ($target.is('#app-settings') || $target.closest('#app-settings').length) {\n        return;\n      }\n\n      snapper.close();\n    });\n    let navigationBarSlideGestureEnabled = false;\n    let navigationBarSlideGestureAllowed = true;\n    let navigationBarSlideGestureEnablePending = false;\n\n    OC.allowNavigationBarSlideGesture = () => {\n      navigationBarSlideGestureAllowed = true;\n\n      if (navigationBarSlideGestureEnablePending) {\n        snapper.enable();\n        navigationBarSlideGestureEnabled = true;\n        navigationBarSlideGestureEnablePending = false;\n      }\n    };\n\n    OC.disallowNavigationBarSlideGesture = () => {\n      navigationBarSlideGestureAllowed = false;\n\n      if (navigationBarSlideGestureEnabled) {\n        const endCurrentDrag = true;\n        snapper.disable(endCurrentDrag);\n        navigationBarSlideGestureEnabled = false;\n        navigationBarSlideGestureEnablePending = true;\n      }\n    };\n\n    const toggleSnapperOnSize = () => {\n      if ($(window).width() > breakpointMobileWidth) {\n        snapper.close();\n        snapper.disable();\n        navigationBarSlideGestureEnabled = false;\n        navigationBarSlideGestureEnablePending = false;\n      } else if (navigationBarSlideGestureAllowed) {\n        snapper.enable();\n        navigationBarSlideGestureEnabled = true;\n        navigationBarSlideGestureEnablePending = false;\n      } else {\n        navigationBarSlideGestureEnablePending = true;\n      }\n    };\n\n    $(window).resize(_.debounce(toggleSnapperOnSize, 250)); // initial call\n\n    toggleSnapperOnSize();\n  }\n\n  initLiveTimestamps();\n  PasswordConfirmation.init();\n};","/**\n * @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\nimport OC from '../OC';\n/**\n * This plugin inserts the right avatar for the user, depending on, whether a\n * custom avatar is uploaded - which it uses then - or not, and display a\n * placeholder with the first letter of the users name instead.\n * For this it queries the core_avatar_get route, thus this plugin is fit very\n * tightly for owncloud, and it may not work anywhere else.\n *\n * You may use this on any <div></div>\n * Here I'm using <div class=\"avatardiv\"></div> as an example.\n *\n * There are 5 ways to call this:\n *\n * 1. $('.avatardiv').avatar('jdoe', 128);\n * This will make the div to jdoe's fitting avatar, with a size of 128px.\n *\n * 2. $('.avatardiv').avatar('jdoe');\n * This will make the div to jdoe's fitting avatar. If the div already has a\n * height, it will be used for the avatars size. Otherwise this plugin will\n * search for 'size' DOM data, to use for avatar size. If neither are available\n * it will default to 64px.\n *\n * 3. $('.avatardiv').avatar();\n * This will search the DOM for 'user' data, to use as the username. If there\n * is no username available it will default to a placeholder with the value of\n * \"?\". The size will be determined the same way, as the second example.\n *\n * 4. $('.avatardiv').avatar('jdoe', 128, true);\n * This will behave like the first example, except it will also append random\n * hashes to the custom avatar images, to force image reloading in IE8.\n *\n * 5. $('.avatardiv').avatar('jdoe', 128, undefined, true);\n * This will behave like the first example, but it will hide the avatardiv, if\n * it will display the default placeholder. undefined is the ie8fix from\n * example 4 and can be either true, or false/undefined, to be ignored.\n *\n * 6. $('.avatardiv').avatar('jdoe', 128, undefined, true, callback);\n * This will behave like the above example, but it will call the function\n * defined in callback after the avatar is placed into the DOM.\n *\n */\n\n$.fn.avatar = function (user, size, ie8fix, hidedefault, callback, displayname) {\n  const setAvatarForUnknownUser = function (target) {\n    target.imageplaceholder('?');\n    target.css('background-color', '#b9b9b9');\n  };\n\n  if (typeof user !== 'undefined') {\n    user = String(user);\n  }\n\n  if (typeof displayname !== 'undefined') {\n    displayname = String(displayname);\n  }\n\n  if (typeof size === 'undefined') {\n    if (this.height() > 0) {\n      size = this.height();\n    } else if (this.data('size') > 0) {\n      size = this.data('size');\n    } else {\n      size = 64;\n    }\n  }\n\n  this.height(size);\n  this.width(size);\n\n  if (typeof user === 'undefined') {\n    if (typeof this.data('user') !== 'undefined') {\n      user = this.data('user');\n    } else {\n      setAvatarForUnknownUser(this);\n      return;\n    }\n  } // sanitize\n\n\n  user = String(user).replace(/\\//g, '');\n  const $div = this;\n  let url; // If this is our own avatar we have to use the version attribute\n\n  if (user === OC.getCurrentUser().uid) {\n    url = OC.generateUrl('/avatar/{user}/{size}?v={version}', {\n      user,\n      size: Math.ceil(size * window.devicePixelRatio),\n      version: oc_userconfig.avatar.version\n    });\n  } else {\n    url = OC.generateUrl('/avatar/{user}/{size}', {\n      user,\n      size: Math.ceil(size * window.devicePixelRatio)\n    });\n  }\n\n  const img = new Image(); // If the new image loads successfully set it.\n\n  img.onload = function () {\n    $div.clearimageplaceholder();\n    $div.append(img);\n\n    if (typeof callback === 'function') {\n      callback();\n    }\n  }; // Fallback when avatar loading fails:\n  // Use old placeholder when a displayname attribute is defined,\n  // otherwise show the unknown user placeholder.\n\n\n  img.onerror = function () {\n    $div.clearimageplaceholder();\n\n    if (typeof displayname !== 'undefined') {\n      $div.imageplaceholder(user, displayname);\n    } else {\n      setAvatarForUnknownUser($div);\n    }\n\n    if (typeof callback === 'function') {\n      callback();\n    }\n  };\n\n  if (size < 32) {\n    $div.addClass('icon-loading-small');\n  } else {\n    $div.addClass('icon-loading');\n  }\n\n  img.width = size;\n  img.height = size;\n  img.src = url;\n  img.alt = '';\n};","/**\n * @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\nimport OC from '../OC';\nconst LIST = '' + '<div class=\"menu popovermenu menu-left hidden contactsmenu-popover\">' + '    <ul>' + '        <li>' + '            <a>' + '                <span class=\"icon-loading-small\"></span>' + '            </a>' + '        </li>' + '    </ul>' + '</div>';\n\nconst entryTemplate = require('./contactsmenu/jquery_entry.handlebars');\n\n$.fn.contactsMenu = function (shareWith, shareType, appendTo) {\n  // 0 - user, 4 - email, 6 - remote\n  const allowedTypes = [0, 4, 6];\n\n  if (allowedTypes.indexOf(shareType) === -1) {\n    return;\n  }\n\n  const $div = this;\n  appendTo.append(LIST);\n  const $list = appendTo.find('div.contactsmenu-popover');\n  $div.click(function () {\n    if (!$list.hasClass('hidden')) {\n      $list.addClass('hidden');\n      $list.hide();\n      return;\n    }\n\n    $list.removeClass('hidden');\n    $list.show();\n\n    if ($list.hasClass('loaded')) {\n      return;\n    }\n\n    $list.addClass('loaded');\n    $.ajax(OC.generateUrl('/contactsmenu/findOne'), {\n      method: 'POST',\n      data: {\n        shareType,\n        shareWith\n      }\n    }).then(function (data) {\n      $list.find('ul').find('li').addClass('hidden');\n      let actions;\n\n      if (!data.topAction) {\n        actions = [{\n          hyperlink: '#',\n          title: t('core', 'No action available')\n        }];\n      } else {\n        actions = [data.topAction].concat(data.actions);\n      }\n\n      actions.forEach(function (action) {\n        $list.find('ul').append(entryTemplate(action));\n      });\n      $div.trigger('load');\n    }, function (jqXHR) {\n      $list.find('ul').find('li').addClass('hidden');\n      let title;\n\n      if (jqXHR.status === 404) {\n        title = t('core', 'No action available');\n      } else {\n        title = t('core', 'Error fetching contact actions');\n      }\n\n      $list.find('ul').append(entryTemplate({\n        hyperlink: '#',\n        title\n      }));\n      $div.trigger('loaderror', jqXHR);\n    });\n  });\n  $(document).click(function (event) {\n    const clickedList = $list.has(event.target).length > 0;\n    let clickedTarget = $div.has(event.target).length > 0;\n    $div.each(function () {\n      if ($(this).is(event.target)) {\n        clickedTarget = true;\n      }\n    });\n\n    if (clickedList || clickedTarget) {\n      return;\n    }\n\n    $list.addClass('hidden');\n    $list.hide();\n  });\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\n/**\n * check if an element exists.\n * allows you to write if ($('#myid').exists()) to increase readability\n *\n * @link http://stackoverflow.com/questions/31044/is-there-an-exists-function-for-jquery\n * @return {boolean}\n */\n\n$.fn.exists = function () {\n  return this.length > 0;\n};","/**\n * @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\n/**\n * Filter jQuery selector by attribute value\n *\n * @param {string} attrName attribute name\n * @param {string} attrValue attribute value\n * @return {Void}\n */\n\n$.fn.filterAttr = function (attrName, attrValue) {\n  return this.filter(function () {\n    return $(this).attr(attrName) === attrValue;\n  });\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\nimport './avatar';\nimport './contactsmenu';\nimport './exists';\nimport './filterattr';\nimport './ocdialog';\nimport './octemplate';\nimport './placeholder';\nimport './requesttoken';\nimport './selectrange';\nimport './showpassword';\nimport './ui-fixes';\nimport './css/jquery-ui-fixes.scss';\nimport './css/jquery.ocdialog.scss';\n/**\n * Disable automatic evaluation of responses for $.ajax() functions (and its\n * higher-level alternatives like $.get() and $.post()).\n *\n * If a response to a $.ajax() request returns a content type of \"application/javascript\"\n * JQuery would previously execute the response body. This is a pretty unexpected\n * behaviour and can result in a bypass of our Content-Security-Policy as well as\n * multiple unexpected XSS vectors.\n */\n\n$.ajaxSetup({\n  contents: {\n    script: false\n  }\n});\n/**\n * Disable execution of eval in jQuery. We do require an allowed eval CSP\n * configuration at the moment for handlebars et al. But for jQuery there is\n * not much of a reason to execute JavaScript directly via eval.\n *\n * This thus mitigates some unexpected XSS vectors.\n */\n\n$.globalEval = function () {};","/**\n * @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author Gary Kim <gary@garykim.dev>\n * @author Joas Schilling <coding@schilljs.com>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\n$.widget('oc.ocdialog', {\n  options: {\n    width: 'auto',\n    height: 'auto',\n    closeButton: true,\n    closeOnEscape: true,\n    closeCallback: null,\n    modal: false\n  },\n\n  _create() {\n    const self = this;\n    this.originalCss = {\n      display: this.element[0].style.display,\n      width: this.element[0].style.width,\n      height: this.element[0].style.height\n    };\n    this.originalTitle = this.element.attr('title');\n    this.options.title = this.options.title || this.originalTitle;\n    this.$dialog = $('<div class=\"oc-dialog\" />').attr({\n      // Setting tabIndex makes the div focusable\n      tabIndex: -1,\n      role: 'dialog'\n    }).insertBefore(this.element);\n    this.$dialog.append(this.element.detach());\n    this.element.removeAttr('title').addClass('oc-dialog-content').appendTo(this.$dialog);\n    this.$dialog.css({\n      display: 'inline-block',\n      position: 'fixed'\n    });\n    this.enterCallback = null;\n    $(document).on('keydown keyup', function (event) {\n      if (event.target !== self.$dialog.get(0) && self.$dialog.find($(event.target)).length === 0) {\n        return;\n      } // Escape\n\n\n      if (event.keyCode === 27 && event.type === 'keydown' && self.options.closeOnEscape) {\n        event.stopImmediatePropagation();\n        self.close();\n        return false;\n      } // Enter\n\n\n      if (event.keyCode === 13) {\n        event.stopImmediatePropagation();\n\n        if (self.enterCallback !== null) {\n          self.enterCallback();\n          event.preventDefault();\n          return false;\n        }\n\n        if (event.type === 'keyup') {\n          event.preventDefault();\n          return false;\n        } // If no button is selected we trigger the primary\n\n\n        if (self.$buttonrow && self.$buttonrow.find($(event.target)).length === 0) {\n          const $button = self.$buttonrow.find('button.primary');\n\n          if ($button && !$button.prop('disabled')) {\n            $button.trigger('click');\n          }\n        } else if (self.$buttonrow) {\n          $(event.target).trigger('click');\n        }\n\n        return false;\n      }\n    });\n\n    this._setOptions(this.options);\n\n    this._createOverlay();\n  },\n\n  _init() {\n    this.$dialog.focus();\n\n    this._trigger('open');\n  },\n\n  _setOption(key, value) {\n    const self = this;\n\n    switch (key) {\n      case 'title':\n        if (this.$title) {\n          this.$title.text(value);\n        } else {\n          const $title = $('<h2 class=\"oc-dialog-title\">' + value + '</h2>');\n          this.$title = $title.prependTo(this.$dialog);\n        }\n\n        this._setSizes();\n\n        break;\n\n      case 'buttons':\n        if (this.$buttonrow) {\n          this.$buttonrow.empty();\n        } else {\n          const $buttonrow = $('<div class=\"oc-dialog-buttonrow\" />');\n          this.$buttonrow = $buttonrow.appendTo(this.$dialog);\n        }\n\n        if (value.length === 1) {\n          this.$buttonrow.addClass('onebutton');\n        } else if (value.length === 2) {\n          this.$buttonrow.addClass('twobuttons');\n        } else if (value.length === 3) {\n          this.$buttonrow.addClass('threebuttons');\n        }\n\n        $.each(value, function (idx, val) {\n          const $button = $('<button>').text(val.text);\n\n          if (val.classes) {\n            $button.addClass(val.classes);\n          }\n\n          if (val.defaultButton) {\n            $button.addClass('primary');\n            self.$defaultButton = $button;\n          }\n\n          self.$buttonrow.append($button);\n          $button.click(function () {\n            val.click.apply(self.element[0], arguments);\n          });\n        });\n        this.$buttonrow.find('button').on('focus', function (event) {\n          self.$buttonrow.find('button').removeClass('primary');\n          $(this).addClass('primary');\n        });\n\n        this._setSizes();\n\n        break;\n\n      case 'style':\n        if (value.buttons !== undefined) {\n          this.$buttonrow.addClass(value.buttons);\n        }\n\n        break;\n\n      case 'closeButton':\n        if (value) {\n          const $closeButton = $('<a class=\"oc-dialog-close\"></a>');\n          this.$dialog.prepend($closeButton);\n          $closeButton.on('click', function () {\n            self.options.closeCallback && self.options.closeCallback();\n            self.close();\n          });\n        } else {\n          this.$dialog.find('.oc-dialog-close').remove();\n        }\n\n        break;\n\n      case 'width':\n        this.$dialog.css('width', value);\n        break;\n\n      case 'height':\n        this.$dialog.css('height', value);\n        break;\n\n      case 'close':\n        this.closeCB = value;\n        break;\n    } // this._super(key, value);\n\n\n    $.Widget.prototype._setOption.apply(this, arguments);\n  },\n\n  _setOptions(options) {\n    // this._super(options);\n    $.Widget.prototype._setOptions.apply(this, arguments);\n  },\n\n  _setSizes() {\n    let lessHeight = 0;\n\n    if (this.$title) {\n      lessHeight += this.$title.outerHeight(true);\n    }\n\n    if (this.$buttonrow) {\n      lessHeight += this.$buttonrow.outerHeight(true);\n    }\n\n    this.element.css({\n      height: 'calc(100% - ' + lessHeight + 'px)'\n    });\n  },\n\n  _createOverlay() {\n    if (!this.options.modal) {\n      return;\n    }\n\n    const self = this;\n    let contentDiv = $('#content');\n\n    if (contentDiv.length === 0) {\n      // nextcloud-vue compatibility\n      contentDiv = $('.content');\n    }\n\n    this.overlay = $('<div>').addClass('oc-dialog-dim').appendTo(contentDiv);\n    this.overlay.on('click keydown keyup', function (event) {\n      if (event.target !== self.$dialog.get(0) && self.$dialog.find($(event.target)).length === 0) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    });\n  },\n\n  _destroyOverlay() {\n    if (!this.options.modal) {\n      return;\n    }\n\n    if (this.overlay) {\n      this.overlay.off('click keydown keyup');\n      this.overlay.remove();\n      this.overlay = null;\n    }\n  },\n\n  widget() {\n    return this.$dialog;\n  },\n\n  setEnterCallback(callback) {\n    this.enterCallback = callback;\n  },\n\n  unsetEnterCallback() {\n    this.enterCallback = null;\n  },\n\n  close() {\n    this._destroyOverlay();\n\n    const self = this; // Ugly hack to catch remaining keyup events.\n\n    setTimeout(function () {\n      self._trigger('close', self);\n    }, 200);\n    self.$dialog.remove();\n    this.destroy();\n  },\n\n  destroy() {\n    if (this.$title) {\n      this.$title.remove();\n    }\n\n    if (this.$buttonrow) {\n      this.$buttonrow.remove();\n    }\n\n    if (this.originalTitle) {\n      this.element.attr('title', this.originalTitle);\n    }\n\n    this.element.removeClass('oc-dialog-content').css(this.originalCss).detach().insertBefore(this.$dialog);\n    this.$dialog.remove();\n  }\n\n});","/**\n * @copyright Copyright (c) 2016 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\nimport escapeHTML from 'escape-html';\n/**\n * jQuery plugin for micro templates\n *\n * Strings are automatically escaped, but that can be disabled by setting\n * escapeFunction to null.\n *\n * Usage examples:\n *\n *    var htmlStr = '<p>Bake, uncovered, until the {greasystuff} is melted and the {pasta} is heated through, about {min} minutes.</p>'\n *    $(htmlStr).octemplate({greasystuff: 'cheese', pasta: 'macaroni', min: 10});\n *\n *    var htmlStr = '<p>Welcome back {user}</p>';\n *    $(htmlStr).octemplate({user: 'John Q. Public'}, {escapeFunction: null});\n *\n * Be aware that the target string must be wrapped in an HTML element for the\n * plugin to work. The following won't work:\n *\n *      var textStr = 'Welcome back {user}';\n *      $(textStr).octemplate({user: 'John Q. Public'});\n *\n * For anything larger than one-liners, you can use a simple $.get() ajax\n * request to get the template, or you can embed them it the page using the\n * text/template type:\n *\n * <script id=\"contactListItemTemplate\" type=\"text/template\">\n *    <tr class=\"contact\" data-id=\"{id}\">\n *        <td class=\"name\">\n *            <input type=\"checkbox\" name=\"id\" value=\"{id}\" /><span class=\"nametext\">{name}</span>\n *        </td>\n *        <td class=\"email\">\n *            <a href=\"mailto:{email}\">{email}</a>\n *        </td>\n *        <td class=\"phone\">{phone}</td>\n *    </tr>\n * </script>\n *\n * var $tmpl = $('#contactListItemTemplate');\n * var contacts = // fetched in some ajax call\n *\n * $.each(contacts, function(idx, contact) {\n * \t\t$contactList.append(\n * \t\t\t$tmpl.octemplate({\n * \t\t\t\tid: contact.getId(),\n * \t\t\t\tname: contact.getDisplayName(),\n * \t\t\t\temail: contact.getPreferredEmail(),\n * \t\t\t\tphone: contact.getPreferredPhone(),\n * \t\t\t});\n * \t\t);\n * });\n */\n\n/**\n * Object Template\n * Inspired by micro templating done by e.g. underscore.js\n */\n\nconst Template = {\n  init(vars, options, elem) {\n    // Mix in the passed in options with the default options\n    this.vars = vars;\n    this.options = $.extend({}, this.options, options);\n    this.elem = elem;\n    const self = this;\n\n    if (typeof this.options.escapeFunction === 'function') {\n      const keys = Object.keys(this.vars);\n\n      for (let key = 0; key < keys.length; key++) {\n        if (typeof this.vars[keys[key]] === 'string') {\n          this.vars[keys[key]] = self.options.escapeFunction(this.vars[keys[key]]);\n        }\n      }\n    }\n\n    const _html = this._build(this.vars);\n\n    return $(_html);\n  },\n\n  // From stackoverflow.com/questions/1408289/best-way-to-do-variable-interpolation-in-javascript\n  _build(o) {\n    const data = this.elem.attr('type') === 'text/template' ? this.elem.html() : this.elem.get(0).outerHTML;\n\n    try {\n      return data.replace(/{([^{}]*)}/g, function (a, b) {\n        const r = o[b];\n        return typeof r === 'string' || typeof r === 'number' ? r : a;\n      });\n    } catch (e) {\n      console.error(e, 'data:', data);\n    }\n  },\n\n  options: {\n    escapeFunction: escapeHTML\n  }\n};\n\n$.fn.octemplate = function (vars, options) {\n  vars = vars || {};\n\n  if (this.length) {\n    const _template = Object.create(Template);\n\n    return _template.init(vars, options, this);\n  }\n};","/**\n * @copyright 2016-2018 John Molakvo <skjnldsv@protonmail.com>\n * @copyright 2013 Morris Jobke <morris.jobke@gmail.com>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Julius Hrtl <jus@bitgrid.net>\n * @author Sergey Shliakhov <husband.sergey@gmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/* eslint-disable */\nimport $ from 'jquery';\nimport md5 from 'blueimp-md5';\n/*\n * Adds a background color to the element called on and adds the first character\n * of the passed in string. This string is also the seed for the generation of\n * the background color.\n *\n * You have following HTML:\n *\n * <div id=\"albumart\"></div>\n *\n * And call this from Javascript:\n *\n * $('#albumart').imageplaceholder('The Album Title');\n *\n * Which will result in:\n *\n * <div id=\"albumart\" style=\"background-color: rgb(121, 90, 171); ... \">T</div>\n *\n * You may also call it like this, to have a different background, than the seed:\n *\n * $('#albumart').imageplaceholder('The Album Title', 'Album Title');\n *\n * Resulting in:\n *\n * <div id=\"albumart\" style=\"background-color: rgb(121, 90, 171); ... \">A</div>\n *\n */\n\n/*\n* Alternatively, you can use the prototype function to convert your string to rgb colors:\n*\n* \"a6741a86aded5611a8e46ce16f2ad646\".toRgb()\n*\n* Will return the rgb parameters within the following object:\n*\n* Color{r: 208, g: 158, b: 109}\n*\n*/\n\nconst toRgb = s => {\n  // Normalize hash\n  var hash = s.toLowerCase(); // Already a md5 hash?\n\n  if (hash.match(/^([0-9a-f]{4}-?){8}$/) === null) {\n    hash = md5(hash);\n  }\n\n  hash = hash.replace(/[^0-9a-f]/g, '');\n\n  function Color(r, g, b) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n  }\n\n  function stepCalc(steps, ends) {\n    var step = new Array(3);\n    step[0] = (ends[1].r - ends[0].r) / steps;\n    step[1] = (ends[1].g - ends[0].g) / steps;\n    step[2] = (ends[1].b - ends[0].b) / steps;\n    return step;\n  }\n\n  function mixPalette(steps, color1, color2) {\n    var palette = [];\n    palette.push(color1);\n    var step = stepCalc(steps, [color1, color2]);\n\n    for (var i = 1; i < steps; i++) {\n      var r = parseInt(color1.r + step[0] * i);\n      var g = parseInt(color1.g + step[1] * i);\n      var b = parseInt(color1.b + step[2] * i);\n      palette.push(new Color(r, g, b));\n    }\n\n    return palette;\n  }\n\n  const red = new Color(182, 70, 157);\n  const yellow = new Color(221, 203, 85);\n  const blue = new Color(0, 130, 201); // Nextcloud blue\n  // Number of steps to go from a color to another\n  // 3 colors * 6 will result in 18 generated colors\n\n  const steps = 6;\n  const palette1 = mixPalette(steps, red, yellow);\n  const palette2 = mixPalette(steps, yellow, blue);\n  const palette3 = mixPalette(steps, blue, red);\n  const finalPalette = palette1.concat(palette2).concat(palette3); // Convert a string to an integer evenly\n\n  function hashToInt(hash, maximum) {\n    var finalInt = 0;\n    var result = []; // Splitting evenly the string\n\n    for (var i = 0; i < hash.length; i++) {\n      // chars in md5 goes up to f, hex:16\n      result.push(parseInt(hash.charAt(i), 16) % 16);\n    } // Adds up all results\n\n\n    for (var j in result) {\n      finalInt += result[j];\n    } // chars in md5 goes up to f, hex:16\n    // make sure we're always using int in our operation\n\n\n    return parseInt(parseInt(finalInt) % maximum);\n  }\n\n  return finalPalette[hashToInt(hash, steps * 3)];\n};\n\nString.prototype.toRgb = function () {\n  console.warn('String.prototype.toRgb is deprecated! It will be removed in Nextcloud 22.');\n  return toRgb(this);\n};\n\n$.fn.imageplaceholder = function (seed, text, size) {\n  text = text || seed; // Compute the hash\n\n  var rgb = toRgb(seed);\n  this.css('background-color', 'rgb(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ')'); // Placeholders are square\n\n  var height = this.height() || size || 32;\n  this.height(height);\n  this.width(height); // CSS rules\n\n  this.css('color', '#fff');\n  this.css('font-weight', 'normal');\n  this.css('text-align', 'center'); // calculate the height\n\n  this.css('line-height', height + 'px');\n  this.css('font-size', height * 0.55 + 'px');\n\n  if (seed !== null && seed.length) {\n    var placeholderText = text.replace(/\\s+/g, ' ').trim().split(' ', 2).map(word => word[0].toUpperCase()).join('');\n    this.html(placeholderText);\n  }\n};\n\n$.fn.clearimageplaceholder = function () {\n  this.css('background-color', '');\n  this.css('color', '');\n  this.css('font-weight', '');\n  this.css('text-align', '');\n  this.css('line-height', '');\n  this.css('font-size', '');\n  this.html('');\n  this.removeClass('icon-loading');\n  this.removeClass('icon-loading-small');\n};","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\nimport { getToken } from '../OC/requesttoken';\n$(document).on('ajaxSend', function (elm, xhr, settings) {\n  if (settings.crossDomain === false) {\n    xhr.setRequestHeader('requesttoken', getToken());\n    xhr.setRequestHeader('OCS-APIREQUEST', 'true');\n  }\n});","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\n/**\n * select a range in an input field\n *\n * @link http://stackoverflow.com/questions/499126/jquery-set-cursor-position-in-text-area\n * @param {int} start start selection from\n * @param {int} end number of char from start\n * @return {Void}\n */\n\n$.fn.selectRange = function (start, end) {\n  return this.each(function () {\n    if (this.setSelectionRange) {\n      this.focus();\n      this.setSelectionRange(start, end);\n    } else if (this.createTextRange) {\n      const range = this.createTextRange();\n      range.collapse(true);\n      range.moveEnd('character', end);\n      range.moveStart('character', start);\n      range.select();\n    }\n  });\n};","/**\n * @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\n/*\n*\t@name\t\t\t\t\t\t\tShow Password\n*\t@description\n*\t@version\t\t\t\t\t\t1.3\n*\t@requires\t\t\t\t\t\tJquery 1.5\n*\n*\t@author\t\t\t\t\t\t\tJan Jarfalk\n*\t@author-email\t\t\t\t\tjan.jarfalk@unwrongest.com\n*\t@author-website\t\t\t\t\thttp://www.unwrongest.com\n*\n*\t@special-thanks\t\t\t\t\tMichel Gratton\n*\n*\t@licens\t\t\t\t\t\t\tMIT License - http://www.opensource.org/licenses/mit-license.php\n*/\n\n$.fn.extend({\n  showPassword(c) {\n    // Setup callback object\n    const callback = {\n      fn: null,\n      args: {}\n    };\n    callback.fn = c; // Clones passwords and turn the clones into text inputs\n\n    const cloneElement = function (element) {\n      const $element = $(element);\n      const $clone = $('<input />'); // Name added for JQuery Validation compatibility\n      // Element name is required to avoid script warning.\n\n      $clone.attr({\n        type: 'text',\n        class: $element.attr('class'),\n        style: $element.attr('style'),\n        size: $element.attr('size'),\n        name: $element.attr('name') + '-clone',\n        tabindex: $element.attr('tabindex'),\n        autocomplete: 'off'\n      });\n\n      if ($element.attr('placeholder') !== undefined) {\n        $clone.attr('placeholder', $element.attr('placeholder'));\n      }\n\n      return $clone;\n    }; // Transfers values between two elements\n\n\n    const update = function (a, b) {\n      b.val(a.val());\n    }; // Shows a or b depending on checkbox\n\n\n    const setState = function (checkbox, a, b) {\n      if (checkbox.is(':checked')) {\n        update(a, b);\n        b.show();\n        a.hide();\n      } else {\n        update(b, a);\n        b.hide();\n        a.show();\n      }\n    };\n\n    return this.each(function () {\n      const $input = $(this);\n      const $checkbox = $($input.data('typetoggle')); // Create clone\n\n      const $clone = cloneElement($input);\n      $clone.insertAfter($input); // Set callback arguments\n\n      if (callback.fn) {\n        callback.args.input = $input;\n        callback.args.checkbox = $checkbox;\n        callback.args.clone = $clone;\n      }\n\n      $checkbox.bind('click', function () {\n        setState($checkbox, $input, $clone);\n      });\n      $input.bind('keyup', function () {\n        update($input, $clone);\n      });\n      $clone.bind('keyup', function () {\n        update($clone, $input); // Added for JQuery Validation compatibility\n        // This will trigger validation if it's ON for keyup event\n\n        $input.trigger('keyup');\n      }); // Added for JQuery Validation compatibility\n      // This will trigger validation if it's ON for blur event\n\n      $clone.bind('blur', function () {\n        $input.trigger('focusout');\n      });\n      setState($checkbox, $input, $clone); // set type of password field clone (type=text) to password right on submit\n      // to prevent browser save the value of this field\n\n      $clone.closest('form').submit(function (e) {\n        // .prop has to be used, because .attr throws\n        // an error while changing a type of an input\n        // element\n        $clone.prop('type', 'password');\n      });\n\n      if (callback.fn) {\n        callback.fn(callback.args);\n      }\n    });\n  }\n\n});","/**\n * @copyright Copyright (c) 2016 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery'; // Set autocomplete width the same as the related input\n// See http://stackoverflow.com/a/11845718\n\n$.ui.autocomplete.prototype._resizeMenu = function () {\n  const ul = this.menu.element;\n  ul.outerWidth(this.element.outerWidth());\n};","/**\n * @copyright 2018 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Julius Hrtl <jus@bitgrid.net>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\nimport 'core-js/stable';\nimport 'regenerator-runtime/runtime';\nimport './Polyfill/index'; // If you remove the line below, tests won't pass\n// eslint-disable-next-line no-unused-vars\n\nimport OC from './OC/index';\nimport './globals';\nimport './jquery/index';\nimport { initCore } from './init';\nimport { registerAppsSlideToggle } from './OC/apps';\nwindow.addEventListener('DOMContentLoaded', function () {\n  initCore();\n  registerAppsSlideToggle(); // fallback to hashchange when no history support\n\n  if (window.history.pushState) {\n    window.onpopstate = _.bind(OC.Util.History._onPopState, OC.Util.History);\n  } else {\n    $(window).on('hashchange', _.bind(OC.Util.History._onPopState, OC.Util.History));\n  }\n});","/**\n * @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author John Molakvo <skjnldsv@protonmail.com>\n * @author Julius Hrtl <jus@bitgrid.net>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport $ from 'jquery';\nimport { emit } from '@nextcloud/event-bus';\nimport { loadState } from '@nextcloud/initial-state';\nimport { getCurrentUser } from '@nextcloud/auth';\nimport { generateUrl } from '@nextcloud/router';\nimport OC from './OC';\nimport { setToken as setRequestToken, getToken as getRequestToken } from './OC/requesttoken';\nlet config = null;\n/**\n * The legacy jsunit tests overwrite OC.config before calling initCore\n * therefore we need to wait with assigning the config fallback until initCore calls initSessionHeartBeat\n */\n\nconst loadConfig = () => {\n  try {\n    config = loadState('core', 'config');\n  } catch (e) {\n    // This fallback is just for our legacy jsunit tests since we have no way to mock loadState calls\n    config = OC.config;\n  }\n};\n/**\n * session heartbeat (defaults to enabled)\n *\n * @return {boolean}\n */\n\n\nconst keepSessionAlive = () => {\n  return config.session_keepalive === undefined || !!config.session_keepalive;\n};\n/**\n * get interval in seconds\n *\n * @return {number}\n */\n\n\nconst getInterval = () => {\n  let interval = NaN;\n\n  if (config.session_lifetime) {\n    interval = Math.floor(config.session_lifetime / 2);\n  } // minimum one minute, max 24 hours, default 15 minutes\n\n\n  return Math.min(24 * 3600, Math.max(60, isNaN(interval) ? 900 : interval));\n};\n\nconst getToken = async () => {\n  const url = generateUrl('/csrftoken'); // Not using Axios here as Axios is not stubbable with the sinon fake server\n  // see https://stackoverflow.com/questions/41516044/sinon-mocha-test-with-async-ajax-calls-didnt-return-promises\n  // see js/tests/specs/coreSpec.js for the tests\n\n  const resp = await $.get(url);\n  return resp.token;\n};\n\nconst poll = async () => {\n  try {\n    const token = await getToken();\n    setRequestToken(token);\n  } catch (e) {\n    console.error('session heartbeat failed', e);\n  }\n};\n\nconst startPolling = () => {\n  const interval = setInterval(poll, getInterval() * 1000);\n  console.info('session heartbeat polling started');\n  return interval;\n};\n\nconst registerAutoLogout = () => {\n  if (!config.auto_logout || !getCurrentUser()) {\n    return;\n  }\n\n  let lastActive = Date.now();\n  window.addEventListener('mousemove', e => {\n    lastActive = Date.now();\n    localStorage.setItem('lastActive', lastActive);\n  });\n  window.addEventListener('touchstart', e => {\n    lastActive = Date.now();\n    localStorage.setItem('lastActive', lastActive);\n  });\n  window.addEventListener('storage', e => {\n    if (e.key !== 'lastActive') {\n      return;\n    }\n\n    lastActive = e.newValue;\n  });\n  setInterval(function () {\n    const timeout = Date.now() - config.session_lifetime * 1000;\n\n    if (lastActive < timeout) {\n      console.info('Inactivity timout reached, logging out');\n      const logoutUrl = generateUrl('/logout') + '?requesttoken=' + encodeURIComponent(getRequestToken());\n      window.location = logoutUrl;\n    }\n  }, 1000);\n};\n/**\n * Calls the server periodically to ensure that session and CSRF\n * token doesn't expire\n */\n\n\nexport const initSessionHeartBeat = () => {\n  loadConfig();\n  registerAutoLogout();\n\n  if (!keepSessionAlive()) {\n    console.info('session heartbeat disabled');\n    return;\n  }\n\n  let interval = startPolling();\n  window.addEventListener('online', async () => {\n    console.info('browser is online again, resuming heartbeat');\n    interval = startPolling();\n\n    try {\n      await poll();\n      console.info('session token successfully updated after resuming network'); // Let apps know we're online and requests will have the new token\n\n      emit('networkOnline', {\n        success: true\n      });\n    } catch (e) {\n      console.error('could not update session token after resuming network', e); // Let apps know we're online but requests might have an outdated token\n\n      emit('networkOnline', {\n        success: false\n      });\n    }\n  });\n  window.addEventListener('offline', () => {\n    console.info('browser is offline, stopping heartbeat'); // Let apps know we're offline\n\n    emit('networkOffline', {});\n    clearInterval(interval);\n    console.info('session heartbeat polling stopped');\n  });\n};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nimport ___CSS_LOADER_URL_IMPORT_0___ from \"./images/ui-icons_1d2d44_256x240.png\";\nimport ___CSS_LOADER_URL_IMPORT_1___ from \"./images/ui-icons_ffffff_256x240.png\";\nimport ___CSS_LOADER_URL_IMPORT_2___ from \"./images/ui-icons_ffd27a_256x240.png\";\nimport ___CSS_LOADER_URL_IMPORT_3___ from \"./images/ui-bg_diagonals-thick_20_666666_40x40.png\";\nimport ___CSS_LOADER_URL_IMPORT_4___ from \"./images/ui-bg_flat_10_000000_40x100.png\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* Component containers\\n----------------------------------*/\\n.ui-widget-content {\\n  border: 1px solid var(--color-border);\\n  background: var(--color-main-background) none;\\n  color: var(--color-main-text);\\n}\\n\\n.ui-widget-content a {\\n  color: var(--color-main-text);\\n}\\n\\n.ui-widget-header {\\n  border: none;\\n  color: var(--color-main-text);\\n  background-image: none;\\n}\\n\\n.ui-widget-header a {\\n  color: var(--color-main-text);\\n}\\n\\n/* Interaction states\\n----------------------------------*/\\n.ui-state-default,\\n.ui-widget-content .ui-state-default,\\n.ui-widget-header .ui-state-default {\\n  border: 1px solid var(--color-border);\\n  background: var(--color-main-background) none;\\n  font-weight: bold;\\n  color: #555;\\n}\\n\\n.ui-state-default a,\\n.ui-state-default a:link,\\n.ui-state-default a:visited {\\n  color: #555;\\n}\\n\\n.ui-state-hover,\\n.ui-widget-content .ui-state-hover,\\n.ui-widget-header .ui-state-hover,\\n.ui-state-focus,\\n.ui-widget-content .ui-state-focus,\\n.ui-widget-header .ui-state-focus {\\n  border: 1px solid #ddd;\\n  background: var(--color-main-background) none;\\n  font-weight: bold;\\n  color: var(--color-main-text);\\n}\\n\\n.ui-state-hover a,\\n.ui-state-hover a:hover,\\n.ui-state-hover a:link,\\n.ui-state-hover a:visited {\\n  color: var(--color-main-text);\\n}\\n\\n.ui-state-active,\\n.ui-widget-content .ui-state-active,\\n.ui-widget-header .ui-state-active {\\n  border: 1px solid var(--color-primary);\\n  background: var(--color-main-background) none;\\n  font-weight: bold;\\n  color: var(--color-main-text);\\n}\\n\\n.ui-state-active a,\\n.ui-state-active a:link,\\n.ui-state-active a:visited {\\n  color: var(--color-main-text);\\n}\\n\\n/* Interaction Cues\\n----------------------------------*/\\n.ui-state-highlight,\\n.ui-widget-content .ui-state-highlight,\\n.ui-widget-header .ui-state-highlight {\\n  border: 1px solid var(--color-main-background);\\n  background: var(--color-main-background) none;\\n  color: var(--color-text-light);\\n  font-weight: 600;\\n}\\n\\n.ui-state-highlight a,\\n.ui-widget-content .ui-state-highlight a,\\n.ui-widget-header .ui-state-highlight a {\\n  color: var(--color-text-lighter);\\n}\\n\\n.ui-state-error,\\n.ui-widget-content .ui-state-error,\\n.ui-widget-header .ui-state-error {\\n  border: var(--color-error);\\n  background: var(--color-error) none;\\n  color: #ffffff;\\n}\\n\\n.ui-state-error a,\\n.ui-widget-content .ui-state-error a,\\n.ui-widget-header .ui-state-error a {\\n  color: #ffffff;\\n}\\n\\n.ui-state-error-text,\\n.ui-widget-content .ui-state-error-text,\\n.ui-widget-header .ui-state-error-text {\\n  color: #ffffff;\\n}\\n\\n/* Icons\\n----------------------------------*/\\n.ui-state-default .ui-icon {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n}\\n\\n.ui-state-hover .ui-icon,\\n.ui-state-focus .ui-icon {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n}\\n\\n.ui-state-active .ui-icon {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n}\\n\\n.ui-state-highlight .ui-icon {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");\\n}\\n\\n.ui-state-error .ui-icon,\\n.ui-state-error-text .ui-icon {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \");\\n}\\n\\n.ui-icon.ui-icon-none {\\n  display: none;\\n}\\n\\n/* Misc visuals\\n----------------------------------*/\\n/* Overlays */\\n.ui-widget-overlay {\\n  background: #666666 url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \") 50% 50% repeat;\\n  opacity: 0.5;\\n}\\n\\n.ui-widget-shadow {\\n  margin: -5px 0 0 -5px;\\n  padding: 5px;\\n  background: #000000 url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \") 50% 50% repeat-x;\\n  opacity: 0.2;\\n  border-radius: 5px;\\n}\\n\\n/* Tabs customizations */\\n.ui-tabs {\\n  border: none;\\n}\\n.ui-tabs .ui-tabs-nav.ui-corner-all {\\n  border-bottom-left-radius: 0;\\n  border-bottom-right-radius: 0;\\n}\\n.ui-tabs .ui-tabs-nav {\\n  background: none;\\n  margin-bottom: 15px;\\n}\\n.ui-tabs .ui-tabs-nav .ui-state-default {\\n  border: none;\\n  border-bottom: 1px solid transparent;\\n  font-weight: normal;\\n  margin: 0 !important;\\n  padding: 0 !important;\\n}\\n.ui-tabs .ui-tabs-nav .ui-state-hover,\\n.ui-tabs .ui-tabs-nav .ui-state-active {\\n  border: none;\\n  border-bottom: 1px solid var(--color-main-text);\\n  color: var(--color-main-text);\\n}\\n.ui-tabs .ui-tabs-nav .ui-state-hover a, .ui-tabs .ui-tabs-nav .ui-state-hover a:link, .ui-tabs .ui-tabs-nav .ui-state-hover a:hover, .ui-tabs .ui-tabs-nav .ui-state-hover a:visited,\\n.ui-tabs .ui-tabs-nav .ui-state-active a,\\n.ui-tabs .ui-tabs-nav .ui-state-active a:link,\\n.ui-tabs .ui-tabs-nav .ui-state-active a:hover,\\n.ui-tabs .ui-tabs-nav .ui-state-active a:visited {\\n  color: var(--color-main-text);\\n}\\n.ui-tabs .ui-tabs-nav .ui-state-active {\\n  font-weight: bold;\\n}\\n\\n/* Select menus */\\n.ui-autocomplete.ui-menu {\\n  padding: 0;\\n  /* scrolling starts from three items,\\n   * so hide overflow and scrollbars for a clean layout */\\n}\\n.ui-autocomplete.ui-menu.item-count-1, .ui-autocomplete.ui-menu.item-count-2 {\\n  overflow-y: hidden;\\n}\\n.ui-autocomplete.ui-menu .ui-menu-item a {\\n  color: var(--color-text-lighter);\\n  display: block;\\n  padding: 4px 4px 4px 14px;\\n}\\n.ui-autocomplete.ui-menu .ui-menu-item a.ui-state-focus, .ui-autocomplete.ui-menu .ui-menu-item a.ui-state-active {\\n  box-shadow: inset 4px 0 var(--color-primary-element);\\n  color: var(--color-main-text);\\n}\\n.ui-autocomplete.ui-widget-content {\\n  background: var(--color-main-background);\\n  border-top: none;\\n}\\n.ui-autocomplete.ui-corner-all {\\n  border-radius: 0;\\n  border-bottom-left-radius: var(--border-radius);\\n  border-bottom-right-radius: var(--border-radius);\\n}\\n.ui-autocomplete .ui-state-hover, .ui-autocomplete .ui-widget-content .ui-state-hover,\\n.ui-autocomplete .ui-widget-header .ui-state-hover,\\n.ui-autocomplete .ui-state-focus,\\n.ui-autocomplete .ui-widget-content .ui-state-focus,\\n.ui-autocomplete .ui-widget-header .ui-state-focus {\\n  border: 1px solid transparent;\\n  background: inherit;\\n  color: var(--color-primary-element);\\n}\\n.ui-autocomplete .ui-menu-item a {\\n  border-radius: 0 !important;\\n}\\n\\n.ui-button.primary {\\n  background-color: var(--color-primary);\\n  color: var(--color-primary-text);\\n  border: 1px solid var(--color-primary-text);\\n}\\n\\n/* DRAGGABLE */\\n.ui-draggable-handle,\\n.ui-selectable {\\n  touch-action: pan-y;\\n}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".oc-dialog {\\n  background: var(--color-main-background);\\n  color: var(--color-text-light);\\n  border-radius: var(--border-radius-large);\\n  box-shadow: 0 0 30px var(--color-box-shadow);\\n  padding: 15px;\\n  z-index: 10000;\\n  font-size: 100%;\\n  box-sizing: border-box;\\n  min-width: 200px;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  max-height: calc(100% - 20px);\\n  max-width: calc(100% - 20px);\\n  overflow: auto;\\n}\\n\\n.oc-dialog-title {\\n  background: var(--color-main-background);\\n}\\n\\n.oc-dialog-buttonrow {\\n  position: relative;\\n  display: flex;\\n  background: transparent;\\n  right: 0;\\n  bottom: 0;\\n  padding: 0;\\n  padding-top: 10px;\\n  box-sizing: border-box;\\n  width: 100%;\\n  background-image: linear-gradient(rgba(255, 255, 255, 0), var(--color-main-background));\\n}\\n.oc-dialog-buttonrow.twobuttons {\\n  justify-content: space-between;\\n}\\n.oc-dialog-buttonrow.onebutton, .oc-dialog-buttonrow.twobuttons.aside {\\n  justify-content: flex-end;\\n}\\n.oc-dialog-buttonrow button {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  height: 44px;\\n  min-width: 44px;\\n}\\n\\n.oc-dialog-close {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  padding: 25px;\\n  background: var(--icon-close-000) no-repeat center;\\n  opacity: 0.5;\\n}\\n.oc-dialog-close:hover, .oc-dialog-close:focus, .oc-dialog-close:active {\\n  opacity: 1;\\n}\\n\\n.oc-dialog-dim {\\n  background-color: #000;\\n  opacity: 0.2;\\n  z-index: 9999;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\nbody.theme--dark .oc-dialog-dim {\\n  opacity: 0.8;\\n}\\n\\n.oc-dialog-content {\\n  width: 100%;\\n  max-width: 550px;\\n}\\n\\n.oc-dialog.password-confirmation .oc-dialog-content {\\n  width: auto;\\n}\\n.oc-dialog.password-confirmation .oc-dialog-content input[type=password] {\\n  width: 100%;\\n}\\n.oc-dialog.password-confirmation .oc-dialog-content label {\\n  display: none;\\n}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var Handlebars = require(\"../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"profileUrl\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(5, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":1},\"end\":{\"line\":10,\"column\":8}}})) != null ? stack1 : \"\");\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"profileTitle\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":2},\"end\":{\"line\":7,\"column\":9}}})) != null ? stack1 : \"\");\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t\t\t<a class=\\\"profile-link--avatar\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"profileUrl\") : stack1), depth0))\n    + \"\\\">\\n\t\t\t\t<img src=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"avatar\") : stack1), depth0))\n    + \"&size=32\\\" class=\\\"avatar\\\" srcset=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"avatar\") : stack1), depth0))\n    + \"&size=32 1x, \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"avatar\") : stack1), depth0))\n    + \"&size=64 2x, \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"avatar\") : stack1), depth0))\n    + \"&size=128 4x\\\" alt=\\\"\\\">\\n\t\t\t</a>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t\t<img src=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"avatar\") : stack1), depth0))\n    + \"&size=32\\\" class=\\\"avatar\\\" srcset=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"avatar\") : stack1), depth0))\n    + \"&size=32 1x, \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"avatar\") : stack1), depth0))\n    + \"&size=64 2x, \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"avatar\") : stack1), depth0))\n    + \"&size=128 4x\\\" alt=\\\"\\\">\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"profileUrl\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.program(11, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":1},\"end\":{\"line\":20,\"column\":8}}})) != null ? stack1 : \"\");\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"profileTitle\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":2},\"end\":{\"line\":17,\"column\":9}}})) != null ? stack1 : \"\");\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t\t\t<a class=\\\"profile-link--avatar\\\" href=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"profileUrl\") : stack1), depth0))\n    + \"\\\">\\n\t\t\t\t<div class=\\\"avatar\\\"></div>\\n\t\t\t</a>\\n\";\n},\"11\":function(container,depth0,helpers,partials,data) {\n    return \"\t\t<div class=\\\"avatar\\\"></div>\\n\";\n},\"13\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"profileTitle\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(14, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":1},\"end\":{\"line\":29,\"column\":8}}})) != null ? stack1 : \"\");\n},\"14\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t\t<a class=\\\"body profile-link--full-name\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"profileUrl\") : stack1), depth0))\n    + \"\\\">\\n\t\t\t<div class=\\\"full-name\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"fullName\") : stack1), depth0))\n    + \"</div>\\n\t\t\t<div class=\\\"last-message\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"lastMessage\") : stack1), depth0))\n    + \"</div>\\n\t\t\t<div class=\\\"email-address\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"emailAddresses\") : stack1), depth0))\n    + \"</div>\\n\t\t</a>\\n\";\n},\"16\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t<div class=\\\"body\\\">\\n\t\t<div class=\\\"full-name\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"fullName\") : stack1), depth0))\n    + \"</div>\\n\t\t<div class=\\\"last-message\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"lastMessage\") : stack1), depth0))\n    + \"</div>\\n\t\t<div class=\\\"email-address\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"emailAddresses\") : stack1), depth0))\n    + \"</div>\\n\t</div>\\n\";\n},\"18\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<a class=\\\"top-action\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"topAction\") : stack1)) != null ? lookupProperty(stack1,\"hyperlink\") : stack1), depth0))\n    + \"\\\" title=\\\"\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"topAction\") : stack1)) != null ? lookupProperty(stack1,\"title\") : stack1), depth0))\n    + \"\\\">\\n\t<img src=\\\"\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"topAction\") : stack1)) != null ? lookupProperty(stack1,\"icon\") : stack1), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"topAction\") : stack1)) != null ? lookupProperty(stack1,\"title\") : stack1), depth0))\n    + \"\\\">\\n</a>\\n\";\n},\"20\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<a class=\\\"second-action\\\" href=\\\"\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"secondAction\") : stack1)) != null ? lookupProperty(stack1,\"hyperlink\") : stack1), depth0))\n    + \"\\\" title=\\\"\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"secondAction\") : stack1)) != null ? lookupProperty(stack1,\"title\") : stack1), depth0))\n    + \"\\\">\\n\t<img src=\\\"\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"secondAction\") : stack1)) != null ? lookupProperty(stack1,\"icon\") : stack1), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"secondAction\") : stack1)) != null ? lookupProperty(stack1,\"title\") : stack1), depth0))\n    + \"\\\">\\n</a>\\n\";\n},\"22\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t<span class=\\\"other-actions icon-more\\\"></span>\\n\t<div class=\\\"menu popovermenu\\\">\\n\t\t<ul>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"actions\") : stack1),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(23, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":51,\"column\":3},\"end\":{\"line\":58,\"column\":12}}})) != null ? stack1 : \"\")\n    + \"\t\t</ul>\\n\t</div>\\n\";\n},\"23\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t\t\t<li>\\n\t\t\t\t<a href=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"hyperlink\") || (depth0 != null ? lookupProperty(depth0,\"hyperlink\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"hyperlink\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":53,\"column\":13},\"end\":{\"line\":53,\"column\":26}}}) : helper)))\n    + \"\\\">\\n\t\t\t\t\t<img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"icon\") || (depth0 != null ? lookupProperty(depth0,\"icon\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"icon\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":54,\"column\":15},\"end\":{\"line\":54,\"column\":23}}}) : helper)))\n    + \"\\\" alt=\\\"\\\">\\n\t\t\t\t\t<span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":55,\"column\":11},\"end\":{\"line\":55,\"column\":20}}}) : helper)))\n    + \"</span>\\n\t\t\t\t</a>\\n\t\t\t</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"avatar\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(7, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":21,\"column\":7}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"profileUrl\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(13, data, 0),\"inverse\":container.program(16, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":0},\"end\":{\"line\":36,\"column\":7}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"topAction\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(18, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":37,\"column\":0},\"end\":{\"line\":41,\"column\":7}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"hasTwoActions\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(20, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":42,\"column\":0},\"end\":{\"line\":46,\"column\":7}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"contact\") : depth0)) != null ? lookupProperty(stack1,\"hasManyActions\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(22, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":47,\"column\":0},\"end\":{\"line\":61,\"column\":7}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"emptycontent\\\">\\n\t<div class=\\\"icon-search\\\"></div>\\n\t<h2>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"couldNotLoadText\") || (depth0 != null ? lookupProperty(depth0,\"couldNotLoadText\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"couldNotLoadText\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":5},\"end\":{\"line\":3,\"column\":25}}}) : helper)))\n    + \"</h2>\\n</div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"emptycontent\\\">\\n\t<div class=\\\"icon-search\\\"></div>\\n\t<h2>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"noContactsFoundText\") || (depth0 != null ? lookupProperty(depth0,\"noContactsFoundText\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"noContactsFoundText\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":5},\"end\":{\"line\":4,\"column\":28}}}) : helper)))\n    + \"</h2>\\n</div>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"footer\\\"><a href=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"contactsAppURL\") || (depth0 != null ? lookupProperty(depth0,\"contactsAppURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"contactsAppURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":29},\"end\":{\"line\":9,\"column\":47}}}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"showAllContactsText\") || (depth0 != null ? lookupProperty(depth0,\"showAllContactsText\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"showAllContactsText\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":49},\"end\":{\"line\":9,\"column\":72}}}) : helper)))\n    + \"</a></div>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"canInstallApp\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":0},\"end\":{\"line\":12,\"column\":0}}})) != null ? stack1 : \"\");\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"footer\\\"><a href=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"contactsAppMgmtURL\") || (depth0 != null ? lookupProperty(depth0,\"contactsAppMgmtURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"contactsAppMgmtURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":29},\"end\":{\"line\":11,\"column\":51}}}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"contactsAppMgmtText\") || (depth0 != null ? lookupProperty(depth0,\"contactsAppMgmtText\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"contactsAppMgmtText\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":53},\"end\":{\"line\":11,\"column\":76}}}) : helper)))\n    + \"</a></div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"contacts\") : depth0)) != null ? lookupProperty(stack1,\"length\") : stack1),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":6,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"<div id=\\\"contactsmenu-contacts\\\"></div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"contactsAppEnabled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.program(5, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":0},\"end\":{\"line\":12,\"column\":7}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"emptycontent\\\">\\n\t<div class=\\\"icon-loading\\\"></div>\\n\t<h2>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"loadingText\") || (depth0 != null ? lookupProperty(depth0,\"loadingText\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"loadingText\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":5},\"end\":{\"line\":3,\"column\":20}}}) : helper)))\n    + \"</h2>\\n</div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<label class=\\\"hidden-visually\\\" for=\\\"contactsmenu-search\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"searchContactsText\") || (depth0 != null ? lookupProperty(depth0,\"searchContactsText\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"searchContactsText\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":57},\"end\":{\"line\":1,\"column\":79}}}) : helper)))\n    + \"</label>\\n<input id=\\\"contactsmenu-search\\\" type=\\\"search\\\" placeholder=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"searchContactsText\") || (depth0 != null ? lookupProperty(depth0,\"searchContactsText\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"searchContactsText\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":59},\"end\":{\"line\":2,\"column\":81}}}) : helper)))\n    + \"\\\" value=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"searchTerm\") || (depth0 != null ? lookupProperty(depth0,\"searchTerm\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"searchTerm\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":90},\"end\":{\"line\":2,\"column\":104}}}) : helper)))\n    + \"\\\">\\n<div class=\\\"content\\\">\\n</div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<img src=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"icon\") || (depth0 != null ? lookupProperty(depth0,\"icon\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"icon\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":24},\"end\":{\"line\":3,\"column\":32}}}) : helper)))\n    + \"\\\">\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li>\\n\t<a href=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"hyperlink\") || (depth0 != null ? lookupProperty(depth0,\"hyperlink\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"hyperlink\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":10},\"end\":{\"line\":2,\"column\":23}}}) : helper)))\n    + \"\\\">\\n\t\t\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"icon\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":2},\"end\":{\"line\":3,\"column\":41}}})) != null ? stack1 : \"\")\n    + \"\\n\t\t<span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":8},\"end\":{\"line\":4,\"column\":17}}}) : helper)))\n    + \"</span>\\n\t</a>\\n</li>\\n\";\n},\"useData\":true});","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn-bd\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn-bd.js\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-mx\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-mx.js\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./jquery-ui-fixes.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./jquery.ocdialog.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAQMAAAC2MCouAAAABlBMVEVmZmZ1dXVT6N0BAAAAUklEQVQIW8XNsQ3AIAwF0bMoKBmBURgNj8YojEBJEcXwu2yQ+p507BTeWDnozPISjPpY4O0W6CqEisUtiG/EF+IT8YG4fznihnhCPCNeEK/89D1Gd22TNOyXVAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAABkAQMAAADOquA5AAAAA1BMVEUAAACnej3aAAAADklEQVQYGWMYBaOABgAAAlgAARbiVEcAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAADwCAMAAADYSUr5AAAAaVBMVEUAAAAcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkQcLkSVcboQAAAAInRSTlMAGBAyCD9gIS5RZkqgwEQnj81slZ0MMK4WLB2ZcIGF737fFn1o5AAADQJJREFUeNrsml2OwjAMBuOrfPc/5IrsAwqjHVSVdiPhETy0tuOfuGlTGE3T7EClxjdTyeYVSJ1O0fN/fBblGwvCDsyDRQETlLxIK1mkSBEOYL8o39gS7MA8wByxAJxBSmlOB1SGySUwfk0BcqvgWIiPTmV6PI97ZIKokXcIZ1g7QAJAB9yGh4j8ABRkDbAWnMqb3RYuvAvwEprKe+X/B/0g1DRN0zTNF/CBJ8Gtn4Mq5c/ySUlC+QX18vcB8kKoMm4tCQNAAaiwHi0KqFeFBSjdPLLkn4bxe8TIGBWUemk9SZL5vQV28KQs4qI6Ey4p2JTu0wGyal30PmCOttEa0HeBpmmapmma/yPnH+ZPjZ+7E2AGfsKF78kx/2FAOKBcLXT8jFBlNQ9l5gABiFT8ywjwCDmklgHd5UUYCLWDYBAK3b9ul8MCiDgTz8DMNQAmmMmqkBf1CfwfKJG3MOcDx7R3cwZw0IOnx9FcIcEJlw8Q2ntDi8P3awCle90FLrbPg9E0TdM0TUPO/y01OR2A7hddlonH5+5zLABxAC3NwANYf1ZKLSInZRvozCGlgPRC/yyAJrCgM8gaVTLPFGTyb/7SAhTcvW8zrUCi+aMAPEPzrPV52mR4B2WC/TG3w/TvAUCKARAh7CGHPcXBAEMSRAFQoPcFQADQp4KLJ7p/HjTnJSAuhl0C9TTWS0B6nP5lEQsTAJwyiLAI2hzZIjjhImj2A6R8jlw8SPQaHoZ3AMn27wN+2DnX5bZBIIwuoBvquB13xp3ef5z3f8hGKO4KqNZx67bqlKMozrLCsJ8Qguji/voNMY1Go9FoHBjkd+KwT8zUOQB5IMA9CgCPjZ86BZwZf6Yad+8yrOvV1AFD5X8cJFyVksVS+G8FC1gbUAW8SQBDEN38wQIYz3cnV+aHG0Nt0lIFYLYPirxU2X+XAA7qoMj8icprXr42/WqoTeHF3hjhwZ1gKUClwP4exxKgzkFaqvyGALUfkMfi2Mx869kZuKqLtO9AKMC+neCWIIb/QWA/0YIzZ6933gSE5awVOvhs/vDjnEaj0Wg0fi/+Hz+RkRlQz+dqE34l/mO9KqmMTj80RFMAFrxkYJoHe1kWucHzb5XHozsZ8vmdX9wbG24+csChrlax/li363u8UE51UDspQJ6dvcvRjmMJwBVLIJ/ZtQD1hLUyNH4OdgjcbgH19olMoN0WQEK9JA72gLzdB+zuXrXxgq/6APUf9vg3zwJWly+KZ8EQNfe5gwVvjQNeDl5ejDugAL8KXhqNRqPR+CEBIMiL6RLyh4jAKYrBV+yRG5/ACjGU7mDr0ckEk6gCofz6ERilsjNDic9kGTQkPvd9RBMiQKyGujO7g9khkBiyeCHUtn4hZW201t1E1zF1xuXzlbxChaHAXJeosxP6vvcrhSCnTICNAnQLaAvIBABxTwg824FEYEcAuhWuAtB5H9gKcD6f7ScwBDLDFGDMBMQ/QeIqiPMrmwrmgl8W9loAEf14gmsfgFYwr/GFhYsK4MexzwR4//69ULfA2q4TagFG4PVWACATwHkKiRJaAO8XdluAiyzxO/0/QIAgKoAnrfp1K+gh8OrV9hA4y9InnrX8kJa7BdD446vX+wK4IkFwCS2AcRz3+wCcixDdVgCRrQABCJqfjwAfP14T/NoJ+uqYNwRIa52gAgyiJvMQgX5PgLJAxoQWwJs3b6DbbQHBxeiCCrDa+wK8WWE13cQ4Te+YXCZAEM0QlyUToCsF6AoByFrAvMZvC6DlfUgUTa7r9lpAcInAjk0EItkxOU0wrubEM1PVAjIB7joEICsvxV8JEPLyinEAX41xwD2nQZhJqygExqrF89JOb9Di64RaABk1/ocQwpAI8tPA+NgXJ9mM9NJoNBqN/4avX22/B2+4Ia02gbAzf4/Ado49szIX07Pxtq0RFfXpezG4wEVyhmHYxh+CKnDqgC9TRAc6M8yfMO/aDMD2T1QBmBfAmM9P03TbLvbJ8D16PHh63Z2zzNt9eoJTET8wjBo/qAK4on6UtvD2afmMKEEiGjAI7AaMnNOi+ZkEmTJbcvvSXSay+g9DXUE1Z7VnqhYnkcHr0JEAENgVwCfUlvCNvbNRTBOGovA1/CM4WTdcra7bef+HHAblJrklzOmoP/mw1WMieE8vScBgt6vtclsY8aOgiP7WgLpfzAAB5I5+NXVMsVGeQsMZrFEfb+8nIMbyNXYpUtWLtwia6G3MgD7jDI0dfuEnzPgR0V8bQJtuqfiU0pchA1iTrTkDOP502AMAvZXk4+2toVlzk5I5xw5AxEenPgM4A9KsW2T8GsA9HldQSrHe9AvPmBj2cdYRay439t+ObMQABTsj6KNjJ08rj7gwj5ekARGOiPit7TkGGHq7+VH/2AzH/ziSTWqOn0yUE7ASsq5ZH3Iftc8AcgCRUvy8gBt826DINIBI7hKDfCVmWpMTvzyAV2b8tEJJVGI1GLBLoTyvF4GWohGFVY1DFeMAcdpbaDFXaFKnHL/oBtkBZRQX1FEkZGaQh5zuEP9ASI6BAoFAIPCZFEBidGMdX8gDQP+THB35Bdf3+1GoiKgyu+Y9wA6sUBRZxg7kwI4M2iWiCMt2ZL5FgSMFa/kES/m5Qo66KN4tB4BLDEiRU47UeHFFlTsazwaN2Pm4vSqQU+oe3HC581Gt8wBKw3VAiDoHh4roC3J+YU1U4R1XMwBAyq/QsesfOwHYADeQgpCkQEpjBlhDTeiTUQAbQDv0mcdD9bIEDAO2iw5zg1Xn+ogBk/PpIcpz2PtUBVjxK0AakIGMw9ea45cZYr8eMaCrcAYABWVsAGkDDIfzts3znHXRxU8F6x6h4egxA+Rwu3Lij2C2ARtkHVgb41rr9fg+ZgBLBahB7wEUyIYnxNHrdrvYttjTEbyjIqovN8CfAbUdPweYV5ps0E7CQKluQoplgLXrZB3b7gbbn2q0DWjbbgewGsH3oqiR/+82oOYzcIkig9Y+54tqh73hAIjIbPYi2Aa8vh5vToKMtgFF1LYtWohu8P/1AjXVAAaZkE1VlmtWSLqbYgdg3PHDjPBxN4jsxEgbgOIAG8BcxQBJf/6lhuLTBw7osFqMd0XK2MfSaEGwDDDiozhC1N1imhoH3O41K+rlRRGT7g5K0eBYjzzjEggEAtehKIhZVuiolvQ8bIDNIL7iyFd6FpboWJqCaHhK06Ahg988mGESuhYNDjQ0GxsoNaTANzbg2/R3XzEJEnEsZD3h0WiiQ9xi/TOx7ANe9goGrgGMAtz4gWRi4ibrVbwaNG/zswzYAEoBG2Pj7nsoUbrx1xw7xz82dTdVKcB6RUQrq0LziQYkOJIIA2R+8ztWRhnHP2KAslJGTzSPwdUdAyI0TTPfSJcDlgYIOCTTP47/ogyYvRHkBFBqSIEXNuDFzAD/Crj84jaA5RzIRm/FcjXaCJqS8//iXoABzUaDgWZ4d5pU9HHCAFn6CF8wmKzRsT4rqIcyIBAIBAKBeUkg5IygTrxXSFyftzc3fgg5IwBbIA3QZcqskNTq8Au2f+Wgy77S+OFtAiRkawiJhOYCYAscA9geIBneng7PrmAZYJdLA2wJjZSguUBPKQ1ge/T9URLVAJwKlgG1jElG7JfwG3DXGQDNbWXAXG0Ac1NtwMy9ADQ31AvcAAls+XQGBAKBQOATwVNfR6W+En5tlTVQ2T/R9+Qq1J0BCTjkPFkDOTlAfP/BufpGqbDuDCBUliu1cADufXSevtWJjQoN0a+EGk4BoMqo7rQBOJD4e9zdhunb+H6az84ato4PS3yjw9voOG9+z3+hPAUyhd2IAYsjOGkIDaGxuNWvFNcZ0NFA2e1CBTt8uN9+F52nb3UXoFr3gSlq82i4QFbYBjxuI5gDzb4Bcvt0QJLACv+BP7DNNwA2d3nVfCAQCAQuhK8PmNZyEtX5mtc3j/Yjrw/wazmN7nzN65tDT7PEwHJKi4mUZ2qxvhm0H3l9gNYa1ikBlHaap9LiwMug4Wr6sJzX72yPXA1veUNEVrmtNaT1JHJyNE6wJkpT/WCyPpf7NYjGylmylvcgMnVZlqw1RC3wtwZYD6TWe2/qvGGCpz6JgER9j6HT74cA+HSr45/PAHnvC8ivpw2azoCW+vgx2y7g1wzrKQMBTGSIR6OlFlpPIq8PkI0aN4Ivo40UXE0j5SONJLkannKtfBpoWXuZuxsT65tBTzH/QIbXN4/2M/9Qltd3bX1L1zsEAoFAIHA3oOdSfdP/XNsL4gOY0I9tAPwG6IU1QH4DCHRfBgAcoNDSIOhfHg0KGXBnBjx5G/DsvUAgEAgEAoFrc6tzYyXTsyARITo//gXdCwtaXGzAAvcb/0UZwPHeb/x2BmBxWkYMwAk7XpCtH7cNiE5w+eAX67vKgUszoK9/v/H/awY8TPyX9gIy/sduA6b7/7vLAc6AK4BF/3NH8f/ZKBi5AADUzjm/v2XQ+gAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAADwCAMAAADYSUr5AAAAZlBMVEUAAAD80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nz80nyRr7t6AAAAIXRSTlMAGBAyPwhgUSEuZkqgwEQnj82VbJ0MMIOuFiwdcJnvft/kuoF8AAANB0lEQVR42uyaQW7rMAxExaPM/S9ZRF0M4kGfENhQBYQP+IvfoUxyQstW2tE0zQmUanwzJR3ugOp2iyiqpHoL3mhITqBevAXEByRd1JJCNSVBAq938K6R8ASiAXWtR4JP0KoD2OEMro0OuH5sIXRycMAAhR7BzrgFT6DBCdCL5T2EEwAFbJ8AwyWSAcYBuAfQCM7gwx4Lzz0FeBNy8Fn9/0G/CDVN0zRN8wU88CZ49HtQqfhdXipoSL+AX/x9gN+EffUNllABYUAGXMNV6ZcD0oDCw+POw5Dr54pBng6CX+ynsTz/7cITbIoqrgzPhgsMm+o5EwC71vPfB3iPOGgP6KdA0zRN0zTN/6H7L/O3rq8dDXAH/AMW1+iz/Gmo4j+p4wq8voYy5H25UqMEUIBVzs/9ZMbQQ6UOMp0uokLECYoFSpHz43FZaQDImnAHvJwLcIOOvwToEj6J/B9YxCMsrfzNjsXLuYB1hg/aSzUDpPgB6nxFr+eBhpDVHpDqWU+Bh9bzY7JpmqZpmia5/2ep0u0C8LzImiZc3yL9ZwVAgojCDrgA6/IvpywRKjpAa14SDIwskN8JsAG+9iQ9sj/+9aQ1miCp0ICKdOsxQwck7F+r8VJGuAFNvEaDJ0iTOB/Dcdj5sYCrCg47OtZbz/UppwETaNAGhEFsAJ1OIz4DWJ7g+RkGxLcApBh0C5QX4y0AM575YRNTNhDkR5ZSboIGDfAmaHITpPUjUPFnxPJIhPfwIHgCEh3/fcAPO2e63DQMRWEt3pnCZJiQKcuP7/1fEqzUnEpCcgsGzKDPcdNredE5vpatxI796zfENBqNRqNxYjC/E0v9xEy+BHCoPniNA8Cx+smngK3qj1zj1bsM0pnJQgGQlR8HAZtNibQk5XtigdoMxILjmaBiiGY/2IDK892hKCqHvc8zwlAQoCiCZFkKix9vgIVcFFF5oJ4BJHKq5QoUkyqsz4zh4EawYIAcKO9xagbkS6j29RxXmJdrfcefCrAh4WPA5k3k/h0IgvrtBHuGFMoPhPoTLdjX9F6p6S+lS9mhk/fmT3+d02g0Go3G78X94ycyogDy/lwewq/oP9dPJaXq9CaJJQMUOxNBNTzZj2URBzz9lT0O7WSI+3eO9aUYdh854FTfVnF/1W7XdziD4tgAgglxfzYJI72WcxnARsUgpXfBgLzDmgXSz8kOgf0MyOcPRAYVM4CASgmc7AH5ehtQ3L2KcQaXtQEqP+3xXz0L1Jp8I9yPBVFwzJ5MfO064OXgzIuxJzTgp5H+RqPRaDR+iAfw5sX0AfOHGIGH0VS47Vy58QVqEn1a7Ot+9GaG2cgBn65+AiYjFCsQ4xPRApLE564b0YQRYMwudZfy09SDJzBEesHnsVZIWhvVup/pe+a++F3hRlyhJBCw5FtU74Su69ydxJCHyIBnDtCvoAyIDABjv2HgKd4ygIIB9HfYDKB3zvPcgMvlUn8Cw0AUVA2YIgNZpRPYDLGbIapgbPh1pZQBjOjtG2xtAKpgXOMrK1cZ4Kapiwx4fHw0KA6UYk3IDJD+tyADgMgA60gsCqD1P64UM8COrPqtPgfw4I0McIRRq7uDDoE3b5hlwMWsbeJF2/dheLUB0j++eVs2QPrZFAXQ+qdpgmIGWDvCaJ8bsL5kgAc8MuATwKdP2wR3bwRdIgcqBoQxnyADRqOQZRiBrmQAG9K7gtb/7t076IsZ4O04Wi8D7nHZgHd3MAE7M83zB2YbGeCVw4zrEBnQpwb0iQFEGbBIf9kAbe9jIEm5vi9lgLcBTyFmZB2jY3KeYTKBmSfmJAPKBuwfAhBvT/plAL7whMuNwG3nOmD/NKj6hNEIPFOW8by00Ru0+XxCboCZpP8QvB8C3vw0MB37w0l1JjrTaDQajf+G281UceBMGQhjHY8v9N9HVtTHXrizJN2zaT+WoqQ+XWcqXOFqYoZhUODwXg489MBtHtGFzgLLF6p3bXrg+b/IAVhWoNKfn+d5P072yfBdPQ4cnXbnYhakyDzAQ6IfGCbpBzmATepHGhve857PGOHNiASDgaJgzCUMSM5sMHMUmzi+9teZqP7DkFdQ4aJ4QRmnpBycLh3xAJ6iAS6g2Piv7J2NYppAEITXA/lRsJK2xEaTdt7/JQtHwnBs4GpNqZr7NJrhENzJshx4mOPuuD2mg/iRNh78qQFldxsGCCAf6aehXss6p05gYQZbzPvrewRUX77EKUFiOvEcwRI9TxnwWgWoccJPPGIYP6Je+TPg0NwKnlL60mcAtbiaGcD4k34LAOxa4vfXt4dlz5KS8eUWIOLR6ZwBzIA0a246fgswPh43bRJRH7obR0z02zh1RM12xp80ZBMGGDAjLO8dO81UeaxT53hJGRDRYR0/1zcygBrHw4/yx+ELGJ8l82rGL4SbAPVYliV1m/soZwygOZxgDKcrWPBdg6KhASJ6k+jlkxC/FsaviiAdML3aYdOWwl1vwCmBmX69DnSjiiic2Riq6geo095Kq7FCXp0wfrUbpAOGIk5t4bfNOoM0udwg8x0h3QcKBAKBwP8kBWKWcDR88VyH+C/J0ZD7RlL+NQZF81jAOIfzdGCHNM0yOpADJxlQbxFF2NYT4y1SvJJS6wmU+nOFHGWavjgOAJcYkCCXHAlfjEKKcW88A5wPm3lshCJFLsn44Ibt7ke1nM7mDrxNR9Q42M+IriHnC0uRAi/4MAMAJHyFjd3+uAlAA8aBpII4YXdNG+B0NWFPRgE0QE7oMo9d9c0GAA04rhqGKywa1ycM8I6nh2rP4W5TBeDEbwBtQAbh4StKIBkNoECv3ddjDdhZmAFAKhkNEGsAHUZe13meU6dN/JJSdyiNkZ4yQHe3i1H8EYY14ICsAftBv9Z5Pb5PGUBpANPrRwApsn6COno9HlfHmidI8NK+u/IyA/wZULrxM8C8sGS9HiUMjHFrhIGz6WQNx+YO159isgbUdbMBOEXwJU1L5P+6BpQ8Axcbp8y753xRnPBIB+wbH5a9CK4BT0+v91GCTNaANKrrGjXUbvDf7QVKKZmy+rPpYrPZUyFu7oYOgE+DKZlA7QaZEZaJGoC0hQaQDzFA051/KWF4+mAEGpyK8WLEgNtYEq0EjgGD+GQdIWrua/H1A673mhXz8GCEJKdWNR64RUafcQkEAoGPIU2FbAs0FFv5PByAQy++4pWv8lnYomE7FCKc1FKhkgG/2JkhnHApFVoqWYwDjOlT4BsN+Ob/7isSI1bHQmrChEYVtXGr5S/Etgt42ymAjA0gBhjHD8SegZvUu/Wu11zn4gawAhjTVwG0jN/DBptx/CVjZ/xTQ3cTkwDUu+Zh58xQ/UcDYrwSKwN0fvMdm0Eb458wwDgpYwear8HZRwZEqKpquZ4uA9YGaBgS/QPjvygDFi+CTABj+hR4oAEPKgMmF8D2i2sA5RLoorej3E0WwaFk/l+8FyCQxajQU/HvxT8ZM0AboFvv4gsG4z0a9mcFdVcGBAKBQCCwLDGUXBCUsecKiY/m+XkcP5RcEIAWaANsmxnOEJemfYDr36bXm26m6cPbGIhHAUNJxLIUAC0YGUB7gLh/ezY8dwbHALddG+BKWLSELAU6NtoA2mOf++OiEsBoBseAUsWkI/ZIzBtw0xkAy3VlwFI1gFxVDVh4LwDLFe0FroAYrvx0BgQCgUDgP4JPfR2VOQl+Ho3TUXn8RN+Ta1A2BsRgyHm8B3IZAfX9B+fqK6XAvjFAUDiulMoBjJ+j8/S1Dmw0qER+xlIxBYAik7LVBAxk/X3d3Pvh2/j+Np6dGq5et7f1lXZvo9dx84/8C+UJkBmcJgxYvYI3DaWhNFbX+pXiNgMaKhi3LhRww8f42++i8/S1bgJS2n1ggpLhQlJkqWvA/RbBHKgeKyB3TwfEMZzw7/gD2/wA4HCTV80HAoFA4EJ4fYBf60FU52subxnth9cH+LUeRne+5vKW0H626Nn6tBpIeaZWy1tAe1DXB1htoU4EkKTRHEqLlodeY6zl3XYuf7Q+GWvMtlfNs9PuaotY7UUPjgbhp8FJYn/xzs/2eQ2RqXZKav1sZ6HebDbUFpEa+FMDnF+0tltvAurO8an52Uyt558x1P9+2oc5Xdv4lzNAP3sC8miPQd4MqKWLH4tsAn5NqH0GAvBkyIxGLTWs9qKvD9BFjUXwYbJIYawniupUkZSxxky7VXMaqKk9LLsbU8tbQPtYviPD5S2gvSzfleXyPlpf0/UOgUAgEAjcDOi4VF/1P9eeBesWePR9G4B5A+yNGpB5AwRyWwYADFBpbRDsw4yGhAy4MQM+eQ347HuBQCAQCAQCH821jo3V+EdBIkJ0fvwruRVWsrrYgBVuN/6LMoDx3m78bgZg9XabMABvuPFiFP/91oDoDbb3flHfVA5cmgHd/Lcb/99mwN3Ef+leQMd/3zXAv/+/uRxgBnwAWHU/NxT/742CkQsAnOsjp3ys99QAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAADwCAMAAADYSUr5AAAAb1BMVEUAAAD8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vz8/vwLtayQAAAAJHRSTlMAGBAyPwhgIS5RZkqgwEQnYo/NlWydDDAWLB2tgXCZhe+2ft+AEhBBAAANEklEQVR42uyaQW7rMAwFzbvM/c/4AW0C+6FDFG71BZQDZBGTEslnWracXMMwnEBR11+m4HAFqNclqpGCujlvFCQ7EOCecJwgeFgLwvqhIALE+Jvz1pYooFSAeuYDcgZDgKJROJ1rgwKZv5Yg9gJKRjezh/Mn4hagIpx2AADtNaQdIAlEB2zDU2w72BwKGnmhbs6H3RZ++C7gi9ByPqv+L5gHoWEYhmEY/gA/8CR49HNQUf4sDyUFwUL08vcBBdRj9g2SWAIhQDo83amv9SpSgNLN447NUObvGYu5gBK9VM8EWJ9dALnBt4wr3bPgEsGW9ZwOkFXrl94HrNkOWgPmLjAMwzAMw/D/4P3D/Kv52VCAAfgBN/bwvfgAMgEeoB8BPMyky304abMAkYBYJb7MgCVAo1hWkOF4GAmjdlAMII0eX7fLpABiZuEV2HBNIAtkcXfg4b6QDmol8haGTt+sGB/uCfQRuvLimztAHBB7PyPQNrQE7NeAtJ51F/jl8QBcwzAMwzAMyfu/pcLrBHS/6DYWnl8T/nsJSIDw0go8gfvPStTN5FC2gWZNqQJmFI8fh6IAnRvsjUTBOlJhk3/zlwpQEa5vM1UAtH669oIczl2fzxgu7yAWsT/O7XDG9wTCKrtjyP182GN8mlOAhRQYAoRAvQCRQPiHQ28G3T9Lg3wuAQlx2SVQUO0l4C8dM74sYmQBQZ6yMMUiaOdIFsGAWJagX+fLz5GbrwS9hi/DOyDh+PcB/9g51x2nYSAK+5I7WpAqVBbE5c/3/s9I61DG9pDJFgoE4S+bdieuG5+TiRO3Sf1fvyCm0Wg0Go0Dg/udeOwDM7oG8FB9cI8DwGP1o5eAN/UXrnH3JsP6vhotGFT54yDh1ZJCS1W+JxawXoASnC0A2xDk8YEGGPd3p6KiHPY+z0iTEmDmB1VdVPXfZYAHLYqiPGFnAEqOUS6BxCiF5otxPLgTrA1QDmxvcSwDdA3SpOobBuhywD0WTzby1aMz8KqLtK9AqMC+nGDPEKP8QWDf0YK/Z/SKpd9Ilw2HDj6aP/x5TqPRaDQav5fwjx/IKALQ4zkdwq/oP9ZPJdXq5EkkmgYAEFwBZniwH8uiDFgfM3sCgcwg8koBF8hi2L3lgEN9W8X6Z12uHwgOiUsDSCaU49kqLPR6jmUANyyDQhFrA/SAVQWin4PtAvsZoF+fKA3SGaCvV5D4YDfI233A5uaVmOAIqg+Q8sPu/+ZRwOrynRB+LIgNx/zBxFvnAS+H4F6MP6ABd6P1NxqNRqPxQyJAdC+nv+D+FDPwNDuDjztnbnwGS2Ksi+OeHxNM6g2yGiMwOhUXgTB/o6ggkvjUdTOyYAaY1anusn039RBJDIVeiCrO37BujbS6n+h7pt74+nylbFAVCLDoNcrohK7rwkplyFNhQOYA/RUkAwoDwPkLDtaYWwawYQD9CjcD6EOI5AacTif7DgwHeWAbMBYGEi6QuBniw0rWwNLw85WtDGBGni5w6wOQBpYtPgNwFgPCOHaFAc/Pzw6dgTrWC7QBI/A6NwAoDPCByqJEtsLnK5sZ4Geu+r18DhAhOjEgkGZ5uxVkF3j1Kt8FTtde8fJ4g5imuw0Q/fOr19sGiH5uihLZCsdxhM0M8H6G2ecGOJcbEIEo9fkA8OEDbiWsnWBQ+7xhQJr1AjFgcBKyDDPQbRlQr5Axka3wzZs30G9mQPTz7KMYsMbbBrxZYQ39xDhN75h8YUB0UmFOU663rw3oKwMoMmBJ+g0DSsPfJ6qU6/utDIg+EdmImUlzvk9OE4xrOMHKVGWAYcDuLgDF+pJ+ZUAs11edB/DROA+45zAIC2l2ApFRZTwv7fQGWb1eoA1wo+h/CDEOieh+Ghgf+8NJNiOdazQajcZ/w5cvziRAMIohzTaRuDF+n4F8jL2wslTDs3E/FkVVe7rOGZzh7EqGYcj1xygOPPXAx2nOBjsLLJ8xr9qMQP5v5gAsV8AYz0/TtB9X22T4rp4AgU425+KWfJs+wVOlHxhG0Q/iAL5qH3XseHuZPpHrd3MmGBxsCsad0pQJnBxuKmJXxuf+PFG0fxh0AyVcJF5QGedmhiCnjkSAyKYBISGxi1/ZOxfGNGEoCl/DG8Ep3camdWu38/9/4zBUbpJbwpyO+sinrR4TwHt6uTwMdrvaLreFET8KiuhvDajx2t1qM0AAuaO/mzqhxGhPoeEM1qj3l/fzKI06UGOfIlW9+BFBE/0YM6DPOENjj1/4CTN+RPTXBtCOXqniU0qfhgxgTbbmDOD402ENAPRS4veXt4FmwyUl48k1QMRHpz4DOAPSrLvJ+DWAezyuDknEetffeMTEsI6zjlhzu7H+dmQjBijYGUHvHTt5qjySwjxekgZE7LCMn5fnGGDo7eu3+tvrJ3B8mmxSc/xkopyAlZB1zfqQ+6h9BpADiJTi1wVc8G2DItMAIrlKDPI7MdOaOH5RBNkBNagVSqISq8GAfQrlmV4EWooiCqsbhyr2A8Rpb6HFWKFJnXL8YjPIDiijuaCOIiYzgzzkdIP4d4TkPlAgEAgEPpICiLmEo+MTeQDof5KjIz/j+n4/ChURVVDWkAN2YIWiyDJ2IAf2ZNAuEUVYtiPjLQq8UbCWL7CUnyvkqIvixXIAOMeAFDnlSI2JK6rcvfFs0Eicj9urAjml7sENtzsf1TpPoDTcB4Soc3DoiL4h5wlrogovuJgBAFKeQseuf+wEYAPcQApCnAIpjRlg7WpCn4wC2ADao8883lUvS8AwYLvoMBdYda6PGDA5nh6iPYe9TlWAFb8CpAEZyDh8rTl+mSH29EgA3YUzACgoYwNIG2A4nLdtnuesiy5+Klj3CA1Hjxkgd7crJ/4IZg3YIevAxtivtabH1zEDWCpADfoZQIFseEEcvW63i23LH3biBRVRfb4B/gyo7fg5wLzSZIN2EgZKdQNSLAOsVSfr2HZ32P5UozWgbbsVwCqCL0VRI//fNaDmM3CxIoPWPueLao9noDKLm1n2ItgGfP/e3x0DMFoDiqhtW7QQm8H/txWoqQYwyJhsqrLcsELc3RU7AOOBn2aE9zeDyI6M1AAUB9gA5iIGSPrzLzUUnz5wQIdVMV4UKWMdW0cLgmWAER8lEaLuntDUfsD1XrOinp4UMen+oBQpu8jIMy6BQCBwGYqCmGWFjmpJj8MO2A3iM974TI/CEh1LUxDxSwcaNGTwm3dmmJguRYMDDc3GDkoNKfCFDfgy/d1XTIxYHAtZL3g0mugQt5j/TCz7gJe9goFrAKMAN34gnhi4yXqVrAbNy/woA3aAUsDOWLj7HkqUbvw1x87xjw3dTVUKsF4R0crq0HygATHeiIUBMr/5HSujjeMfMUBZKaMHmifg7o4BEZqmQUQzwQFLAwQckukfx39WBsxeBDkBlBpS4IkNeDIzwD8Dbj+7BrCcA1n0VixXo0XQlJz/Z28FGNBsNNBw0q2Pci22ccIA2XoPXzAYb9CxOSmouzIgEAgEAoF5iSHkjKCOvVdIXJ4fP9z4IeSMAGyBNEC3KbNDXKvDL9j+lYMu+07jh7cxEJOtISRimguALXAMYHuAeHh7Ojy7g2WA3S4NsCU0UoLmAj2lNIDt0Y9vkqgG4HSwDKhlTDJiv4TfgJvOAGiuKwPmqgHMVdWAmbcC0FzRVuAKiGHLhzMgEAgEAh8IHvo6KrUn/NoqGgDw/EDfk6tQdwbE4JDzeAPk5ADx/Qen6iulwqYzgFBZrtTCAbiP0Wn6Wgc2KjREv2JqOAWAKqP6oBlwIMnXpLsPw7fx9TienTVsnRxuyZXu3kZ4pgPP/BfKUyBT2I8YsHgDRw2hITQW1/qV4joDOhoouy5UsMOH++130Wn6WlcBqvU2MEXN4YIKZIVtwP0WwRxonhsgt08HxDGs8O/4A9t8B2B3k1fNBwKBQOBM+PqAaS0HUZ2ueX7zaD/y+gC/lsPoTtc8vzn0NEsMLKe0GEh5ohbzm0H7kdcHaK1hvSaA1p3mobQ48DRouJrebef5O8sjV8Pb3hCR1W5rDWk9iRwcjSOsidZr/WSyP7f7NYjG2lmylo8gMnVZlqw1RC3wtwZYT6TWa+/aecMET38SAYn+HkOn3w8B8OlWx39BA1Ki1GOAfPQF5NfTBk1nQEt9/LjcKpCm3jfk1wzrKQMBTGSIR6OlFlpPIq8PkEWNi+DTaJGCq2mkfaRIkqvhadfKp4GWtZe5N2NifjPoKebfkeH5zaP9zL8ry/O7tL6m6x0CgUAgELgZ0HOuvup/ru0FyQFM6Ps2AH4D9I01QH4DCHRbBgAcoNDSIOhfHg0KGXBjBjx4DXj0rUAgEAgEAoFLc61jYyXToyARITo9/gXdCgtanG3AArcb/1kZwPHebvx2BmBxvI0YgCN2vCBb328NiI5w++AX65vKgXMzoO9/u/H/awbcTfznbgVk/PddA6a3/zeXA5wBFwCL/ueG4v+zUTByAQBgAGlfOv28YwAAAABJRU5ErkJggg==\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"core-main\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknextcloud\"] = self[\"webpackChunknextcloud\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"core-common\"], () => (__webpack_require__(\"./core/src/main.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":[],"sourceRoot":""}